<html>
<header>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta http-equiv="Content-Style-Type" content="text/css">
	<title>kaavio readme</title>
	<link rel=stylesheet href="./default.css">
</header>
<body>
<div class='toc_button_top'><a href='#3DDQkfdwVQl'>
<svg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 200 200'>
<defs><g id='line'>
  <circle cx='45' cy='50' r='15' fill='white' stroke='none' stroke-width='1' />
  <polyline fill='none' stroke='white' stroke-width='20' points=' 75.0,50.0 170.0,50.0' />
</g></defs>
<rect x='0' y='0' width='200' height='200' rx='30' ry='30' fill='lightgray' stroke='none' stroke-width='1' />
<use xlink:href='#line' x='0' y='0' />
<use xlink:href='#line' x='0' y='50' />
<use xlink:href='#line' x='0' y='100' />
</svg>
</a></div>
<!-- define: APPNAME = kaavio -->
<!-- define: BLANK_PARAGRAPH = '　　' -->
<!-- define: TODO = '@((background:red;color:white;)(ToDo : %1))' -->
<!-- config:write-comment -->			
<!-- config:header-numbering 2 4 -->
<!-- config:entity-numbering-depth 1 -->
<!-- <!-- config:term-link-in-header -->
<!-- PIM の eoPS3MRF1gI というデータで過去にマニュアル作ろうとした形跡があるぞ  -->
<h1><a name='dzm2At0of45'></a>README - kaavio</h1>
<p>　この文書は、 <strong>kaavio</strong> のマニュアル文書です。</p>
<a name='3DDQkfdwVQl'></a>
<h2>Table of contents</h2>
<li class='tocx'><a href='#cWuZL5pQm2F'>1 kaavio とは</a></li>
<li class='tocx'><a href='#9LLncE6hWlx'>2 簡単なサンプル</a></li>
<details class='tocx' open>
<summary class='tocx'><a href='#2msfXdtEc6a'>3 基本的な図形</a></summary>
<blockquote class='tocx'>
<li class='tocx'><a href='#kJonRG8GtHF'>3.1 四角形</a></li>
<li class='tocx'><a href='#8UQowBxrcaE'>3.2 正円</a></li>
<li class='tocx'><a href='#7YzIcjhyGKN'>3.3 楕円</a></li>
<li class='tocx'><a href='#5vGRm9AMypB'>3.4 多角形</a></li>
<li class='tocx'><a href='#fv4OUML78x4'>3.5 直線</a></li>
<li class='tocx'><a href='#cp2F91gKG7W'>3.6 円弧</a></li>
<li class='tocx'><a href='#cTdCvBeU6ZJ'>3.7 テキスト</a></li>
<li class='tocx'><a href='#4dFMjynUMYw'>3.8 ひし形</a></li>
<li class='tocx'><a href='#8YR8CiywoW8'>3.9 平行四辺形</a></li>
</blockquote>
</details>
<details class='tocx' open>
<summary class='tocx'><a href='#1s5LsvBYupX'>4 一般的な図形</a></summary>
<blockquote class='tocx'>
<li class='tocx'><a href='#eFhVs4WwYUG'>4.1 コネクタ</a></li>
<li class='tocx'><a href='#4WyMTv59pvw'>4.2 パラグラフ</a></li>
<li class='tocx'><a href='#e7hkC2YUaKe'>4.3 テキストボックス</a></li>
<li class='tocx'><a href='#jRjILbbJATV'>4.4 ドキュメント</a></li>
<li class='tocx'><a href='#5ZT843xJDiq'>4.5 フォルダ</a></li>
<li class='tocx'><a href='#03WwbeGq0eH'>4.6 人物</a></li>
<li class='tocx'><a href='#5IHcv4bxjLU'>4.7 吹き出し</a></li>
<li class='tocx'><a href='#0AVJhEKnK1M'>4.8 メモ</a></li>
<li class='tocx'><a href='#hja1QJC0Ivb'>4.9 キューブ</a></li>
<li class='tocx'><a href='#5ME1Xv0K4sM'>4.10 円柱</a></li>
<li class='tocx'><a href='#hjZ26isLw42'>4.11 爆発</a></li>
<li class='tocx'><a href='#4cZRWkwhYNO'>4.12 十字</a></li>
<li class='tocx'><a href='#49KKf97828b'>4.13 ブロック矢印</a></li>
<li class='tocx'><a href='#lBS33hNe32a'>4.14 波括弧</a></li>
<li class='tocx'><a href='#g6xjP526KX7'>4.15 テーブル</a></li>
</blockquote>
</details>
<details class='tocx' open>
<summary class='tocx'><a href='#gz7soCOOkJW'>5 その他の図形要素</a></summary>
<blockquote class='tocx'>
<li class='tocx'><a href='#4qgt62QVDZl'>5.1 パス</a></li>
<li class='tocx'><a href='#kSyxpJZzQjY'>5.2 画像ファイルの埋め込み</a></li>
<li class='tocx'><a href='#cNmjD3OiTOH'>5.3 生の SVG コード片の挿入</a></li>
</blockquote>
</details>
<li class='tocx'><a href='#h1RNMQY1C0b'>6 座標と位置</a></li>
<li class='tocx'><a href='#kgs1vf3AbTN'>7 サブキャンバス</a></li>
<li class='tocx'><a href='#hwRhCz9Gn9t'>8 定義と再使用</a></li>
<details class='tocx' open>
<summary class='tocx'><a href='#kfrwaPRQE9I'>9 パターンとグラデーション</a></summary>
<blockquote class='tocx'>
<li class='tocx'><a href='#dmYFJAv81Kl'>9.1 パターン</a></li>
<li class='tocx'><a href='#4p1J7EWjD3m'>9.2 グラデーション</a></li>
</blockquote>
</details>
<details class='tocx' open>
<summary class='tocx'><a href='#2QhgoP1QBEQ'>10 パラメータの詳細</a></summary>
<blockquote class='tocx'>
<li class='tocx'><a href='#1rpUB3fre67'>10.1 色の指定</a></li>
<li class='tocx'><a href='#4HFjqmTuIU6'>10.2 ストローク</a></li>
<li class='tocx'><a href='#dBUd7L4C3dx'>10.3 フィル</a></li>
<li class='tocx'><a href='#3kZ9FkounyK'>10.4 フォント</a></li>
<li class='tocx'><a href='#iu9Ovm00KHn'>10.5 IDと参照</a></li>
<li class='tocx'><a href='#heEi5Lc5BX9'>10.6 回転</a></li>
<li class='tocx'><a href='#gPGlqSbIfdL'>10.7 フィルタ</a></li>
<li class='tocx'><a href='#1ovJxG7Ie9O'>10.8 レイヤー</a></li>
<li class='tocx'><a href='#fbLcMRTVXac'>10.9 リンク</a></li>
<li class='tocx'><a href='#9MB3lirlqL9'>10.10 終端マーク</a></li>
<li class='tocx'><a href='#lpCVEZ9kMoP'>10.11 ラベル</a></li>
</blockquote>
</details>
<details class='tocx' open>
<summary class='tocx'><a href='#2CSYEsoWlWE'>11 UML</a></summary>
<blockquote class='tocx'>
<li class='tocx'><a href='#8ya1jqc5cZQ'>11.1 アクティビティ図</a></li>
<li class='tocx'><a href='#khgkJB6xK95'>11.2 クラス図</a></li>
<li class='tocx'><a href='#la7Xa1OTF3W'>11.3 パッケージ図</a></li>
<li class='tocx'><a href='#5ZAfKbqcubo'>11.4 ステートマシーン図</a></li>
<li class='tocx'><a href='#e57rLpXY8ah'>11.5 ユースケース図</a></li>
<li class='tocx'><a href='#cyQMjgm73rg'>11.6 UML のダイアグラム要素</a></li>
</blockquote>
</details>
<details class='tocx' open>
<summary class='tocx'><a href='#7TyOD7TaDM2'>12 リファレンス</a></summary>
<blockquote class='tocx'>
<li class='tocx'><a href='#gKJ1gWcMPT8'>12.1 関数とマクロ</a></li>
<li class='tocx'><a href='#dR01Jh257Q6'>12.2 色の名前</a></li>
</blockquote>
</details>
<li class='tocx'><a href='#dGdSPnvay5N'>13 更新履歴</a></li>
<li class='tocx'><a href='#1iQ3KRF8uJQ'>14 図表一覧</a></li>
<li class='tocx'><a href='#1ewHzjI62xn'>15 索引</a></li>
<hr>
<p>　　</p>
<h2><a name='cWuZL5pQm2F'></a>1 kaavio とは</h2>
<p>　kaavio<sup><a name='footnote_ref1' href='#footnote1'>1</a></sup> は、テキストベースの作図ツールです。テキスト形式のデータファイルを入力として、SVG 形式<sup><a name='footnote_ref2' href='#footnote2'>2</a></sup>の画像ファイルを生成します。</p>
<p>　kaavio の入力データの記述方法には違和感を感じるかもしれません。これは、kaavio が Common LISP 言語で実装されており、入力データも Common LISP 上に作成された DSL(domain specific language) で記述するためです。しかし、このツールを使ってみたいからといって、知りもしない言語のお勉強から始めたいとは思わないでしょう。そのため、このマニュアルではサンプルをたくさん提示し、Common LISP の詳細には極力立ち入らないようにします<sup><a name='footnote_ref3' href='#footnote3'>3</a></sup>。</p>
<a name='l10jSaJeUDk'></a>
<p>　kaavio は、O'Reilly の「<a href='https://www.google.com/url?sa=t&rct=j&q=&esrc=s&source=web&cd=&cad=rja&uact=8&ved=2ahUKEwjxstvtvKL6AhUNUd4KHbdhCmAQFnoECA0QAQ&url=https%3A%2F%2Fwww.oreilly.co.jp%2Fbooks%2F9784873117973%2F&usg=AOvVaw0qe65qVh3tZyCnBnhoaC-V'>SVG エッセンシャルズ 第二版</a>」を読んで作られています（この書籍に言及する時は「<a class='autolink' href='#l10jSaJeUDk'>SVG本</a>」と呼ぶことにします）。SVG 規格にあたることも時々ありますが、基本的にほとんどの情報はこの書籍から得ています。電子版もありますので興味のある方は手に取ってみてください。</p>
<h2><a name='9LLncE6hWlx'></a>2 簡単なサンプル</h2>
<p>　簡単なサンプルから始めましょう。以下のような入力を kaavio に与えると、</p>
<pre class='code'>
(diagram (300 150)
  (grid)
  (rect   '( 50  50) 80 60 <span class='keyword3'>:fill</span> <span class='keyword3'>:powderblue</span> <span class='keyword3'>:id</span> <span class='keyword3'>:x</span>)
  (circle '(250 100) 40    <span class='keyword3'>:fill</span> <span class='keyword3'>:moccasin</span>   <span class='keyword3'>:id</span> <span class='keyword3'>:y</span>)
  (connect <span class='keyword3'>:x</span> <span class='keyword3'>:y</span> <span class='keyword3'>:end2</span> <span class='keyword3'>:arrow</span>))
</pre>
<p>　　</p>
<p>　以下のような画像が生成されます。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='300' height='150'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- x : rectangle -->
	<rect id='x' x='10' y='20' width='80' height='60' fill='powderblue' stroke='black' stroke-width='1' />
	<!-- y : circle -->
	<circle id='y' cx='250' cy='100' r='40' fill='moccasin' stroke='black' stroke-width='1' />
	<!-- connector from x to y -->
	<polyline fill='none' stroke='black' stroke-width='1' points=' 90.0,60.0 211.1943,90.29858' />
	<polyline fill='none' stroke='black' stroke-width='1' points='196.77277,94.42401 211.1943,90.29858 200.4108,79.87188' />

</svg>
</div>

<p class='fig_title'><a name='euwIyAjslFq'></a>Figure.2-1 簡単なサンプル</p>
<p>　「入力を kaavio に与える」というのは、具体的には入力データを記述したファイルの名前をパラメータとして kaavio を起動することを意味します。作成される SVG 画像は標準出力に書き出されるので、ファイルにリダイレクトしてください。以下のように。</p>
<pre class='code'>
kaavio ./input.digram &gt; ./output.svg
</pre>
<p>　入力ファイル名が与えられない場合、kaavio は標準入力からデータを読み取ろうとします。そのため、以下のように書くこともできます。</p>
<pre class='code'>
cat ./input.digram | kaavio &gt; ./output.svg
</pre>
<p>　余談ですが、SVG 画像には gzip 圧縮した svgz という形式もあります。以下のように出力を gzip に通してやれば作成できます。</p>
<pre class='code'>
cat ./input.digram | kaavio | gzip &gt; ./output.svgz
</pre>
<p>　では、先ほどの入力データをもう一度みてみましょう。</p>
<pre class='code'>
(diagram (300 150)
  (grid)
  (rect   '( 50  50) 80 60 <span class='keyword3'>:fill</span> <span class='keyword3'>:powderblue</span> <span class='keyword3'>:id</span> <span class='keyword3'>:x</span>)
  (circle '(250 100) 40    <span class='keyword3'>:fill</span> <span class='keyword3'>:moccasin</span>   <span class='keyword3'>:id</span> <span class='keyword3'>:y</span>)
  (connect <span class='keyword3'>:x</span> <span class='keyword3'>:y</span> <span class='keyword3'>:end2</span> <span class='keyword3'>:arrow</span>))
</pre>
<p>　初めての kaavio データなので、順番に内容をみていきましょう。まずは雰囲気で理解してください。</p>
<ul>
<li><code>diagram</code> で「幅 300、高さ 150」の画像を作成</li>
<li><code>grid</code> で背景にグリッド線を描画</li>
<li><code>rect</code> で<a class='autolink' href='#kJonRG8GtHF'>四角形</a>を作成 - 中心位置は左上から (50, 50)、大きさは幅 80、高さ 60
<ul>
<li><code>:fill</code> で塗り潰しの色を powderblue に指定</li>
<li><code>:id</code> でこれに x という ID を設定</li>
</ul>
</li>
<li><code>circle</code> で円を作成 - 中心位置は左上から (250, 100)、半径は 40
<ul>
<li><code>:fill</code> で塗り潰しの色を moccasin に指定</li>
<li><code>:id</code> でこれに y という ID を設定</li>
</ul>
</li>
<li><code>connect</code> で、x から y に向かって接続線を描画
<ul>
<li><code>:end2</code> で終端の形状を arrow に設定</li>
</ul>
</li>
</ul>
<p>　　</p>
<p>　では、ここで<a class='autolink' href='#kJonRG8GtHF'>四角形</a>を描画した行に注目してみましょう。</p>
<pre class='code'>
(rect  '(50 50) 80 60 <span class='keyword3'>:fill</span> <span class='keyword3'>:powderblue</span> <span class='keyword3'>:id</span> <span class='keyword3'>:x</span>)
</pre>
<p>　全体を括る括弧の中にいくつかのデータが書かれていて、最初は <code>rect</code> で始まっています。この最初の <code>rect</code> が「<a class='autolink' href='#kJonRG8GtHF'>四角形</a>を描画せよ」という指示で、残りは何処にどのような<a class='autolink' href='#kJonRG8GtHF'>四角形</a>を描くかの指示です。続く <code>'(50 50) 80 60</code> は位置（座標）、幅、高さの指定です。 <code>'(50 50)</code> という表記は、位置を即値（具体的な値）で記述する時のお約束だと（今は）理解しておいてください。座標の指定方法には色々ありますが、のちほど順番に説明します。</p>
<p>　その後ろに続く <code>:fill :powderblue</code> や <code>:id :x</code> といったものは、全て「名前付きパラメータ<sup><a name='footnote_ref4' href='#footnote4'>4</a></sup>」です。kaavio では多くのパラメータが省略可能で、それらの省略可能パラメータを指定する場合はパラメータ名も書いてあげる必要があります。なお、 <code>:fill</code> のようにコロンで始まる名前は「キーワード」と呼ばれるもので、省略可能パラメータの名前はキーワードで指定します。</p>
<p>　では、この <code>rect</code> の省略可能なパラメータにはどんなものがあるのでしょうか。以下に <code>rect</code> の全体を示します。</p>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>rect</span> (center width height
                <span class='keyword2'>&amp;key</span> rx ry fill stroke rotate link layer id filter contents) ...)
</pre>
<p>　先頭の <code>defmacro</code> はひとまず気にしないでください。 <code>rect</code> に続く括弧の中がパラメータの全体で、 <code>center width height</code> が必須パラメータ、 <code>&amp;key</code> 以降の全てが省略可能なパラメータです。 <code>:fill</code> と <code>:id</code> はもう使いました。その他のパラメータについてはまた別のところで説明します。</p>
<p>　　</p>
<p>　次のサンプルはもう少し複雑です。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='450' height='150'>
	
	<filter id='drop-shadow'>
		<feColorMatrix type='matrix' values=' 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0' />
		<feGaussianBlur stdDeviation='2' result='blur' />
		<feOffset in='blur' dx='4' dy='4' result='offsetBlur' />
		<feMerge>
			<feMergeNode in='offsetBlur' />
			<feMergeNode in='SourceGraphic'/>
		</feMerge>
	</filter>
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- app : textbox -->
	<g id='app'>
		<rect x='191.6' y='75' width='66.8' height='40' fill='cornsilk' stroke='black' stroke-width='1' filter='url(#drop-shadow)' />
		<text x='225.0' y='101' text-anchor='middle' font-size='12pt' fill='black' >kaavio</text>
	</g>
	<!-- in : document -->
	<g id='in'>
		<path fill='skyblue' fill-opacity='0.3' stroke='navy' stroke-width='2' d='M 10 65 L 10 125 A 26.666666 20 0 0 0 50 125 A 26.666666 20 1 0 1 90 125 L 90 65 Z' filter='url(#drop-shadow)' />
		<text x='50' y='94' text-anchor='middle' font-size='12pt' fill='black' >input</text>
		<text x='50' y='108' text-anchor='middle' font-size='12pt' fill='black' >file</text>
	</g>
	<!-- out : document -->
	<g id='out'>
		<path fill='skyblue' fill-opacity='0.3' stroke='navy' stroke-width='2' d='M 360 65 L 360 125 A 26.666666 20 0 0 0 400 125 A 26.666666 20 1 0 1 440 125 L 440 65 Z' filter='url(#drop-shadow)' />
		<text x='400' y='94' text-anchor='middle' font-size='12pt' fill='black' >svg</text>
		<text x='400' y='108' text-anchor='middle' font-size='12pt' fill='black' >image</text>
	</g>
	<!-- block-arrow -->
	<polygon fill='white' stroke='black' stroke-width='1' points='100.0,102.5 100.0,87.5 151.6,87.5 151.6,80.0 181.6,95.0 151.6,110.0 151.6,102.5' filter='url(#drop-shadow)' />
	<!-- block-arrow -->
	<polygon fill='white' stroke='black' stroke-width='1' points='268.4,102.5 268.4,87.5 320.0,87.5 320.0,80.0 350.0,95.0 320.0,110.0 320.0,102.5' filter='url(#drop-shadow)' />
	<!-- balloon -->
	<path fill='white' stroke='black' stroke-width='1' d='M 276.5 19 L 393.5 19 A 10 10 1 0 1 403.5 29 L 403.5 41 A 10 10 1 0 1 393.5 51 L 312.16666 51 L 258.4 75 L 276.5 51 A 10 10 1 0 1 266.5 41 L 266.5 29 A 10 10 1 0 1 276.5 19 Z' filter='url(#drop-shadow)' />
	<text x='335.0' y='41' text-anchor='middle' font-size='12pt' fill='black' >Made with LISP.</text>

</svg>
</div>

<p class='fig_title'><a name='aw36ReN8sMQ'></a>Figure.2-2 簡単なサンプル-2</p>
<p>　このサンプルは、以下のコードで生成されています。</p>
<pre class='code'>
(diagram (450 150)
  (grid)
  (drop-shadow)
  (with-options (<span class='keyword3'>:filter</span> <span class='keyword3'>:drop-shadow</span>)
    (textbox (y+ canvas.center 20) <span class='literal'>"kaavio"</span> <span class='keyword3'>:height</span> 40 <span class='keyword3'>:fill</span> <span class='keyword3'>:cornsilk</span> <span class='keyword3'>:id</span> <span class='keyword3'>:app</span>)
    (with-options (<span class='keyword3'>:stroke</span> '(<span class='keyword3'>:color</span> <span class='keyword3'>:navy</span> <span class='keyword3'>:width</span> 2)
                   <span class='keyword3'>:fill</span>   '(<span class='keyword3'>:color</span> <span class='keyword3'>:skyblue</span> <span class='keyword3'>:opacity</span> 0.3))
      (document (x+ app.center -175) 80 60 <span class='literal'>"input~%file"</span> <span class='keyword3'>:id</span> <span class='keyword3'>:in</span>)
      (document (x+ app.center  175) 80 60 <span class='literal'>"svg~%image"</span>  <span class='keyword3'>:id</span> <span class='keyword3'>:out</span>))
    (with-options (<span class='keyword3'>:fill</span> <span class='keyword3'>:white</span>)
      (block-arrow1  in.right app.left 15 <span class='keyword3'>:margin</span> 10)
      (block-arrow1 app.right out.left 15 <span class='keyword3'>:margin</span> 10)
      (balloon (xy+ app.center 110 -60) <span class='literal'>"Made with LISP."</span> app.topright))))
</pre>
<p>　こちらも、ざっくりした説明をしておきます。</p>
<ul>
<li>diagram と grid は先程と同じなので省略</li>
<li><a class='autolink' href='#13cQuI9DTKo'>drop-shadow</a> という種類の「<a class='autolink' href='#gPGlqSbIfdL'>フィルタ</a>」の使用を宣言</li>
<li><a class='autolink' href='#5afU9yg86c0'>with-options</a> でデフォルトの<a class='autolink' href='#gPGlqSbIfdL'>フィルタ</a>を <a class='autolink' href='#13cQuI9DTKo'>drop-shadow</a> に設定
<ul>
<li><a class='autolink' href='#e7hkC2YUaKe'>textbox</a> で<a class='autolink' href='#e7hkC2YUaKe'>テキストボックス</a>を描画 : 場所は画像の中心（canvas.center）から y 軸方向に 20、テキストは "kaavio"、これに app という ID を設定</li>
<li><a class='autolink' href='#5afU9yg86c0'>with-options</a> で、デフォルトの線を太さ 2 の <code>navy</code> に、デフォルトの塗りつぶしを不透明度 0.3 の <code>skyblue</code> にそれぞれ設定
<ul>
<li><a class='autolink' href='#jRjILbbJATV'>document</a> で<a class='autolink' href='#jRjILbbJATV'>ドキュメント</a>を描画 : 場所は app の中心（app.center）から x 軸方向に -175、幅と高さは 80 60、テキストは "input~%file"、これに in という ID を設定</li>
<li>上記と同じ要領で out という ID の<a class='autolink' href='#jRjILbbJATV'>ドキュメント</a>を描画</li>
</ul>
</li>
<li><a class='autolink' href='#5afU9yg86c0'>with-options</a> で、デフォルトの塗りつぶしを <code>white</code> に設定
<ul>
<li><a class='autolink' href='#49KKf97828b'>block-arrow1</a> で in と app の間に<a class='autolink' href='#49KKf97828b'>ブロック矢印</a>を描画</li>
<li>上記と同じ要領で app と out の間に<a class='autolink' href='#49KKf97828b'>ブロック矢印</a>を描画</li>
<li><a class='autolink' href='#5IHcv4bxjLU'>balloon</a> で app の右上付近に<a class='autolink' href='#5IHcv4bxjLU'>吹き出し</a>を描画 : テキストは "Made with LISP."、接続点は app の右上端（app.topright）</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>　　</p>
<p>　この 2 つめのサンプルには、新しいポイントがいくつかあります。もう少し詳しく説明します。</p>
<ul>
<li><code>drop-shadow</code> で宣言し、 <code>with-options</code> でデフォルトを設定しているのを「<a class='autolink' href='#gPGlqSbIfdL'>フィルタ</a>」といいます。<a class='autolink' href='#kJonRG8GtHF'>四角形</a>や円に表示されている影が drop shadow です。</li>
<li><code>with-options</code> を使って、デフォルトの塗り潰しや線を指定しています。 <code>:stroke</code> や <code>:fill</code> を毎回指定する必要がなくなります。
<ul>
<li><code>:stroke</code> では線の色 <code>navy</code> の他に <code>:width</code> で線の太さを指定しています。</li>
<li><code>:fill</code> では塗り潰しの色 <code>skyblue</code> の他に <code>:opacity</code> で不透明度を指定しています。これは、0（完全に透明）から 1 （完全に不透明）までを指定します。<a class='autolink' href='#jRjILbbJATV'>ドキュメント</a>の塗り潰しが少し透けているのがわかると思います。</li>
</ul>
</li>
<li><code>:id</code> を使って付与した ID を使って <code>app.center</code> などと書くことで既出の要素の「中心座標」を指定できます。これは <code>'(50 50)</code> といった即値表記の代わりになります。
<ul>
<li><code>canvas</code> は特別な ID で、現在描画中の「<a class='autolink' href='#kgs1vf3AbTN'>キャンバス</a>」を意味します。今の時点では、生成する画像の<a class='autolink' href='#kJonRG8GtHF'>四角形</a>全体だと理解しておいてください。</li>
<li><code>(y+ canvas.center 20)</code> といった表記によってある位置から x 軸や y 軸に指定されただけ移動した座標を計算することができます。</li>
</ul>
</li>
<li>複数行のテキスト扱うことができる要素では、 <code>"input~%file"</code> のように ~% を使って改行を表します。</li>
</ul>
<p>　　</p>
<p>　サンプルは以上です。雰囲気は掴めたと思うので、続いて各種の図形要素について説明します。</p>
<h2><a name='2msfXdtEc6a'></a>3 基本的な図形</h2>
<p>　SVG 規格における基本図形（とそれに類するもの）から紹介します。以下のサンプルはそれぞれの説明項目へのリンクになっています。</p>
<!-- define: HASH_RECT          = '[](#四角形)' -->
<!-- define: HASH_CIRCLE        = '[](#正円)' -->
<!-- define: HASH_ELLIPSE       = '[](#楕円)' -->
<!-- define: HASH_POLYGON       = '[](#多角形)' -->
<!-- define: HASH_LINE          = '[](#直線)' -->
<!-- define: HASH_ARC           = '[](#円弧)' -->
<!-- define: HASH_TEXT          = '[](#テキスト)' -->
<!-- define: HASH_DIAMOND       = '[](#ひし形)' -->
<!-- define: HASH_PARALLELOGRAM = '[](#平行四辺形)' -->
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='800' height='230'>
	
	<filter id='foo-filter'>
		<feColorMatrix type='matrix' values=' 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0' />
		<feGaussianBlur stdDeviation='3' result='blur' />
		<feMerge>
			<feMergeNode in='blur' />
			<feMergeNode in='SourceGraphic'/>
		</feMerge>
	</filter>
	<!-- rect-grp : group-definition -->
	<defs>
		<g id='rect-grp'>
			<!-- rectangle -->
			<rect x='0' y='0' width='80' height='100' fill='white' stroke='none' stroke-width='1' />
			<!-- rectangle -->
			<rect x='15' y='15' width='50' height='50' fill='skyblue' stroke='blue' stroke-width='1' />
			<!-- text -->
			<text x='40' y='95' text-anchor='middle' font-size='12pt' fill='black' >四角形</text>
			
		</g>
	</defs>
	<!-- circle-grp : group-definition -->
	<defs>
		<g id='circle-grp'>
			<!-- rectangle -->
			<rect x='0' y='0' width='80' height='100' fill='white' stroke='none' stroke-width='1' />
			<!-- circle -->
			<circle cx='40' cy='40' r='25' fill='bisque' stroke='brown' stroke-width='1' />
			<!-- text -->
			<text x='40' y='95' text-anchor='middle' font-size='12pt' fill='black' >円</text>
			
		</g>
	</defs>
	<!-- ellipse-grp : group-definition -->
	<defs>
		<g id='ellipse-grp'>
			<!-- rectangle -->
			<rect x='0' y='0' width='80' height='100' fill='white' stroke='none' stroke-width='1' />
			<!-- ellipse -->
			<ellipse cx='40' cy='40' rx='30' ry='20' fill='beige' stroke='olive' stroke-width='1' />
			<!-- text -->
			<text x='40' y='95' text-anchor='middle' font-size='12pt' fill='black' >楕円</text>
			
		</g>
	</defs>
	<!-- polygon-grp : group-definition -->
	<defs>
		<g id='polygon-grp'>
			<!-- rectangle -->
			<rect x='0' y='0' width='80' height='100' fill='white' stroke='none' stroke-width='1' />
			<!-- polygon -->
			<polygon fill='lightpink' stroke='red' stroke-width='1' points='40.0,10.0 32.75,31.5 10.25,31.5 28.25,45.0 21.75,66.5 40.0,53.75 58.25,66.5 51.75,45.0 69.75,31.5 47.25,31.5' />
			<!-- text -->
			<text x='40' y='95' text-anchor='middle' font-size='12pt' fill='black' >多角形</text>
			
		</g>
	</defs>
	<!-- line-grp : group-definition -->
	<defs>
		<g id='line-grp'>
			<!-- rectangle -->
			<rect x='0' y='0' width='80' height='100' fill='white' stroke='none' stroke-width='1' />
			<!-- line -->
			<polyline fill='none' stroke='black' stroke-width='1' points=' 20.0,20.0 60.0,20.0 20.0,65.0 60.0,65.0' />
			<!-- text -->
			<text x='40' y='95' text-anchor='middle' font-size='12pt' fill='black' >線</text>
			
		</g>
	</defs>
	<!-- arc-grp : group-definition -->
	<defs>
		<g id='arc-grp'>
			<!-- rectangle -->
			<rect x='0' y='0' width='80' height='100' fill='white' stroke='none' stroke-width='1' />
			<!-- arc -->
			<path fill='none' stroke='navy' stroke-width='8' d='M 27.500000000000007 66.65063509461098 A 25 25 0 1 1 52.5 66.65063509461096' />
			<!-- text -->
			<text x='40' y='95' text-anchor='middle' font-size='12pt' fill='black' >円弧</text>
			
		</g>
	</defs>
	<!-- text-grp : group-definition -->
	<defs>
		<g id='text-grp'>
			<!-- rectangle -->
			<rect x='0' y='0' width='80' height='100' fill='white' stroke='none' stroke-width='1' />
			<!-- text -->
			<text x='40' y='55' text-anchor='middle' font-family='Times New Roman' font-size='30pt' fill='black' font-style='italic' filter='url(#foo-filter)' >Text</text>
			<!-- text -->
			<text x='40' y='95' text-anchor='middle' font-size='12pt' fill='black' >テキスト</text>
			
		</g>
	</defs>
	<!-- diamond-grp : group-definition -->
	<defs>
		<g id='diamond-grp'>
			<!-- rectangle -->
			<rect x='0' y='0' width='80' height='100' fill='white' stroke='none' stroke-width='1' />
			<!-- diamond -->
			<polygon fill='#CD96CD' stroke='#CD0000' stroke-width='2' points='40.0,10.0 10.0,40.0 40.0,70.0 70.0,40.0 40.0,10.0' />
			<!-- text -->
			<text x='40' y='95' text-anchor='middle' font-size='12pt' fill='black' >ひし形</text>
			
		</g>
	</defs>
	<!-- parallelogram-grp : group-definition -->
	<defs>
		<g id='parallelogram-grp'>
			<!-- rectangle -->
			<rect x='0' y='0' width='80' height='100' fill='white' stroke='none' stroke-width='1' />
			<!-- parallelogram -->
			<polygon fill='lightsteelblue' stroke='darkslateblue' stroke-width='2' points='25.0,20.0 5.0,60.0 55.0,60.0 75.0,20.0' />
			<!-- text -->
			<text x='40' y='95' text-anchor='middle' font-size='12pt' fill='black' >平行四辺形</text>
			
		</g>
	</defs>
	<!-- use -->
	<a xlink:href='#kJonRG8GtHF' target='_self'>
		<use xlink:href='#rect-grp' x='60' y='10' />
	</a>
	<!-- use -->
	<a xlink:href='#8UQowBxrcaE' target='_self'>
		<use xlink:href='#circle-grp' x='160' y='10' />
	</a>
	<!-- use -->
	<a xlink:href='#7YzIcjhyGKN' target='_self'>
		<use xlink:href='#ellipse-grp' x='260' y='10' />
	</a>
	<!-- use -->
	<a xlink:href='#5vGRm9AMypB' target='_self'>
		<use xlink:href='#polygon-grp' x='360' y='10' />
	</a>
	<!-- use -->
	<a xlink:href='#fv4OUML78x4' target='_self'>
		<use xlink:href='#line-grp' x='460' y='10' />
	</a>
	<!-- use -->
	<a xlink:href='#cp2F91gKG7W' target='_self'>
		<use xlink:href='#arc-grp' x='560' y='10' />
	</a>
	<!-- use -->
	<a xlink:href='#cTdCvBeU6ZJ' target='_self'>
		<use xlink:href='#text-grp' x='660' y='10' />
	</a>
	<!-- use -->
	<a xlink:href='#4dFMjynUMYw' target='_self'>
		<use xlink:href='#diamond-grp' x='60' y='120' />
	</a>
	<!-- use -->
	<a xlink:href='#8YR8CiywoW8' target='_self'>
		<use xlink:href='#parallelogram-grp' x='160' y='120' />
	</a>

</svg>
</div>

<h3><a name='kJonRG8GtHF'></a>3.1 四角形</h3>
<p>　<code>rect</code> によって<a class='autolink' href='#kJonRG8GtHF'>四角形</a>を描画できます。角を丸くすることもできます。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='300' height='100'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- rectangle -->
	<rect x='75' y='20' width='150' height='60' rx='10' ry='10' fill='skyblue' stroke='navy' stroke-width='1' />

</svg>
</div>

<p class='fig_title'><a name='hnnMjGYKwdS'></a>Figure.3-1 rect のサンプル</p>
<details>
<summary>　※上記サンプルのソースはこちら。</summary>
<pre class='code'>
(diagram (300 100)
  (grid)
  (rect '(150 50) 150 60 <span class='keyword3'>:rx</span> 10 <span class='keyword3'>:stroke</span> <span class='keyword3'>:navy</span> <span class='keyword3'>:fill</span> <span class='keyword3'>:skyblue</span>))
</pre>
</details>
<p>　<a class='autolink' href='#kJonRG8GtHF'>rect</a> のパラメータ構成は以下の通りです。</p>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>rect</span> (center width height
                <span class='keyword2'>&amp;key</span> rx ry fill stroke rotate link layer id filter contents) ... )
</pre>
<p class='tbl_title'><a name='iamyehuk48Q'></a>Table.3-1 rect のパラメータ</p>
<table align='center'>
<tr style="font-size: 14;"><th>パラメータ</th><th>説明</th></tr>
<tr style="font-size: 14;"><td nowrap align='left'>center</td><td align='left'>中心点を指定します。詳細は「<a href='#h1RNMQY1C0b'>6  座標と位置</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>width</td><td align='left'>幅を数値で指定します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>height</td><td align='left'>高さを数値で指定します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>rx, ry</td><td align='left'>角を丸くしたい場合に、角の x 半径（rx）と y 半径（ry）を数値で指定します。<br>rx と ry のどちらかだけを指定すると、もう一方も同じであると見なされます。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>fill</td><td align='left'>内部の塗り潰しを指定します。詳細は「<a href='#dBUd7L4C3dx'>10.3  フィル</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>stroke</td><td align='left'>外枠を描画する線を指定します。詳細は「<a href='#4HFjqmTuIU6'>10.2  ストローク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>rotate</td><td align='left'>回転させる場合、その角度を指定します。詳細は「<a href='#heEi5Lc5BX9'>10.6  回転</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>link</td><td align='left'>リンクにする場合、リンク先を指定します。詳細は「<a href='#fbLcMRTVXac'>10.9  リンク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>layer</td><td align='left'>レイヤーに所属させる場合、その名前をキーワードで指定します。<br>詳細は「<a href='#1ovJxG7Ie9O'>10.8  レイヤー</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>id</td><td align='left'>ID を付与したい場合、その名前をキーワードで指定します。<br>詳細は「<a href='#iu9Ovm00KHn'>10.5  IDと参照</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>filter</td><td align='left'><a class='autolink' href='#gPGlqSbIfdL'>フィルタ</a>効果を適用したい場合、その名前を指定します。<br>詳細は「<a href='#gPGlqSbIfdL'>10.7  フィルタ</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>contents</td><td align='left'>内部を<a class='autolink' href='#kgs1vf3AbTN'>サブキャンバス</a>とした描画をしたい場合、その内容を指定します。<br>詳細は「<a href='#kgs1vf3AbTN'>7  サブキャンバス</a>」を参照してください。</td></tr>
</table>
<h3><a name='8UQowBxrcaE'></a>3.2 正円</h3>
<p>　<code>circle</code> によって<a class='autolink' href='#8UQowBxrcaE'>正円</a>を描画できます。<a class='autolink' href='#7YzIcjhyGKN'>楕円</a>を描画したい場合は <a class='autolink' href='#7YzIcjhyGKN'>ellipse</a> を使用してください。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='300' height='100'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- circle -->
	<circle cx='150' cy='50' r='30' fill='bisque' stroke='brown' stroke-width='1' />

</svg>
</div>

<p class='fig_title'><a name='aWrJqk5Knkk'></a>Figure.3-2 circle のサンプル</p>
<details>
<summary>　※上記サンプルのソースはこちら。</summary>
<pre class='code'>
(diagram (300 100)
  (grid)
  (circle '(150 50) 30 <span class='keyword3'>:stroke</span> <span class='keyword3'>:brown</span> <span class='keyword3'>:fill</span> <span class='keyword3'>:bisque</span>))
</pre>
</details>
<p>　<a class='autolink' href='#8UQowBxrcaE'>circle</a> のパラメータ構成は以下の通りです。</p>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>circle</span> (center radius
                  <span class='keyword2'>&amp;key</span> fill stroke link layer id filter contents) ... )
</pre>
<p class='tbl_title'><a name='loDSbBHFyGi'></a>Table.3-2 circle のパラメータ</p>
<table align='center'>
<tr style="font-size: 14;"><th>パラメータ</th><th>説明</th></tr>
<tr style="font-size: 14;"><td nowrap align='left'>center</td><td align='left'>中心点を指定します。詳細は「<a href='#h1RNMQY1C0b'>6  座標と位置</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>radius</td><td align='left'>半径を数値で指定します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>fill</td><td align='left'>内部の塗り潰しを指定します。詳細は「<a href='#dBUd7L4C3dx'>10.3  フィル</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>stroke</td><td align='left'>線を指定します。詳細は「<a href='#4HFjqmTuIU6'>10.2  ストローク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>link</td><td align='left'>リンクにする場合、リンク先を指定します。詳細は「<a href='#fbLcMRTVXac'>10.9  リンク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>layer</td><td align='left'>レイヤーに所属させる場合、その名前をキーワードで指定します。<br>詳細は「<a href='#1ovJxG7Ie9O'>10.8  レイヤー</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>id</td><td align='left'>ID を付与したい場合、その名前をキーワードで指定します。<br>詳細は「<a href='#iu9Ovm00KHn'>10.5  IDと参照</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>filter</td><td align='left'><a class='autolink' href='#gPGlqSbIfdL'>フィルタ</a>効果を適用したい場合、その名前を指定します。<br>詳細は「<a href='#gPGlqSbIfdL'>10.7  フィルタ</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>contents</td><td align='left'>内部を<a class='autolink' href='#kgs1vf3AbTN'>サブキャンバス</a>とした描画をしたい場合、その内容を指定します。<br>詳細は「<a href='#kgs1vf3AbTN'>7  サブキャンバス</a>」を参照してください。</td></tr>
</table>
<h3><a name='7YzIcjhyGKN'></a>3.3 楕円</h3>
<p>　<code>ellipse</code> によって<a class='autolink' href='#7YzIcjhyGKN'>楕円</a>を描画できます。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='300' height='100'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- ellipse -->
	<ellipse cx='150' cy='50' rx='60' ry='30' fill='beige' stroke='olive' stroke-width='1' />

</svg>
</div>

<p class='fig_title'><a name='hO4QoInAXK4'></a>Figure.3-3 ellipse のサンプル</p>
<details>
<summary>　※上記サンプルのソースはこちら。</summary>
<pre class='code'>
(diagram (300 100)
  (grid)
  (ellipse '(150 50) 60 30 <span class='keyword3'>:stroke</span> <span class='keyword3'>:olive</span> <span class='keyword3'>:fill</span> <span class='keyword3'>:beige</span>))
</pre>
</details>
<p>　<a class='autolink' href='#7YzIcjhyGKN'>ellipse</a> のパラメータ構成は以下の通りです。</p>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>ellipse</span> (center rx ry
                   <span class='keyword2'>&amp;key</span> fill stroke link layer id filter contents) ... )
</pre>
<p class='tbl_title'><a name='7ouMctHfRGP'></a>Table.3-3 ellipse のパラメータ</p>
<table align='center'>
<tr style="font-size: 14;"><th>パラメータ</th><th>説明</th></tr>
<tr style="font-size: 14;"><td nowrap align='left'>center</td><td align='left'>中心点を指定します。詳細は「<a href='#h1RNMQY1C0b'>6  座標と位置</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>rx</td><td align='left'>x 軸方向の半径を数値で指定します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>ry</td><td align='left'>y 軸方向の半径を数値で指定します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>fill</td><td align='left'>内部の塗り潰しを指定します。詳細は「<a href='#dBUd7L4C3dx'>10.3  フィル</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>stroke</td><td align='left'>線を指定します。詳細は「<a href='#4HFjqmTuIU6'>10.2  ストローク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>rotate</td><td align='left'>回転させる場合、その角度を指定します。詳細は「<a href='#heEi5Lc5BX9'>10.6  回転</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>link</td><td align='left'>リンクにする場合、リンク先を指定します。詳細は「<a href='#fbLcMRTVXac'>10.9  リンク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>layer</td><td align='left'>レイヤーに所属させる場合、その名前をキーワードで指定します。<br>詳細は「<a href='#1ovJxG7Ie9O'>10.8  レイヤー</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>id</td><td align='left'>ID を付与したい場合、その名前をキーワードで指定します。<br>詳細は「<a href='#iu9Ovm00KHn'>10.5  IDと参照</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>filter</td><td align='left'><a class='autolink' href='#gPGlqSbIfdL'>フィルタ</a>効果を適用したい場合、その名前を指定します。<br>詳細は「<a href='#gPGlqSbIfdL'>10.7  フィルタ</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>contents</td><td align='left'>内部を<a class='autolink' href='#kgs1vf3AbTN'>サブキャンバス</a>とした描画をしたい場合、その内容を指定します。<br>詳細は「<a href='#kgs1vf3AbTN'>7  サブキャンバス</a>」を参照してください。</td></tr>
</table>
<h3><a name='5vGRm9AMypB'></a>3.4 多角形</h3>
<p>　<code>polygon</code> によって<a class='autolink' href='#5vGRm9AMypB'>多角形</a>、すなわち複数の<a class='autolink' href='#fv4OUML78x4'>直線</a>からなる形状を描画できます。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='300' height='100'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- polygon -->
	<polygon fill='lightpink' stroke='red' stroke-width='1' points='150.0,10.0 139.85,40.1 108.35,40.1 133.55,59.0 124.45,89.1 150.0,71.25 175.55,89.1 166.45,59.0 191.65,40.1 160.15,40.1' />

</svg>
</div>

<p class='fig_title'><a name='2vjK1SnIRle'></a>Figure.3-4 polygon のサンプル</p>
<details>
<summary>　※上記サンプルのソースはこちら。</summary>
<pre class='code'>
(diagram (300 100)
  (grid)
  (polygon '((150.00 10.00) (139.85 40.10) (108.35 40.10)
             (133.55 59.00) (124.45 89.10) (150.00 71.25)
             (175.55 89.10) (166.45 59.00) (191.65 40.10)
             (160.15 40.10)) <span class='keyword3'>:stroke</span> <span class='keyword3'>:red</span> <span class='keyword3'>:fill</span> <span class='keyword3'>:lightpink</span>))
</pre>
</details>
<p>　<a class='autolink' href='#5vGRm9AMypB'>polygon</a> のパラメータ構成は以下の通りです。</p>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>polygon</span> (points <span class='keyword2'>&amp;key</span> fill stroke link layer filter id) ... )
</pre>
<p class='tbl_title'><a name='kDNMw7SY29A'></a>Table.3-4 polygon のパラメータ</p>
<table align='center'>
<tr style="font-size: 14;"><th>パラメータ</th><th>説明</th></tr>
<tr style="font-size: 14;"><td nowrap align='left'>points</td><td align='left'><a class='autolink' href='#5vGRm9AMypB'>多角形</a>を構成する点のリストを指定します。詳細は「<a href='#h1RNMQY1C0b'>6  座標と位置</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>fill</td><td align='left'>内部の塗り潰しを指定します。詳細は「<a href='#dBUd7L4C3dx'>10.3  フィル</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>stroke</td><td align='left'>描画する線を指定します。詳細は「<a href='#4HFjqmTuIU6'>10.2  ストローク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>link</td><td align='left'>リンクにする場合、リンク先を指定します。詳細は「<a href='#fbLcMRTVXac'>10.9  リンク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>layer</td><td align='left'>レイヤーに所属させる場合、その名前をキーワードで指定します。<br>詳細は「<a href='#1ovJxG7Ie9O'>10.8  レイヤー</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>id</td><td align='left'>ID を付与したい場合、その名前をキーワードで指定します。<br>詳細は「<a href='#iu9Ovm00KHn'>10.5  IDと参照</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>filter</td><td align='left'><a class='autolink' href='#gPGlqSbIfdL'>フィルタ</a>効果を適用したい場合、その名前を指定します。<br>詳細は「<a href='#gPGlqSbIfdL'>10.7  フィルタ</a>」を参照してください。</td></tr>
</table>
<h3><a name='fv4OUML78x4'></a>3.5 直線</h3>
<p>　<code>line</code> によって<a class='autolink' href='#fv4OUML78x4'>直線</a>（または複数の<a class='autolink' href='#fv4OUML78x4'>直線</a>からなる折線）を描画できます。図形要素どうしを接続したい場合は<a class='autolink' href='#eFhVs4WwYUG'>コネクタ</a>を使用した方が良いでしょう。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='300' height='100'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- line -->
	<polyline fill='none' stroke='red' stroke-width='1' points=' 100.0,50.0 125.0,50.0 130.0,30.0 140.0,70.0 150.0,30.0 160.0,70.0 170.0,30.0 180.0,70.0 185.0,50.0 210.0,50.0' />

</svg>
</div>

<p class='fig_title'><a name='9sslZHcYmCd'></a>Figure.3-5 line のサンプル</p>
<details>
<summary>　※上記サンプルのソースはこちら。</summary>
<pre class='code'>
(diagram (300 100)
  (grid)
  (line '((100 50) (125 50)
          (130 30) (140 70)
          (150 30) (160 70)
          (170 30) (180 70)
          (185 50) (210 50)) <span class='keyword3'>:stroke</span> <span class='keyword3'>:red</span>))
</pre>
</details>
<p>　<a class='autolink' href='#fv4OUML78x4'>line</a> のパラメータ構成は以下の通りです。</p>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>line</span> (points <span class='keyword2'>&amp;key</span> stroke label end1 end2 layer filter id) ... )
</pre>
<p class='tbl_title'><a name='4y0W4mtr1SE'></a>Table.3-5 line のパラメータ</p>
<table align='center'>
<tr style="font-size: 14;"><th>パラメータ</th><th>説明</th></tr>
<tr style="font-size: 14;"><td nowrap align='left'>points</td><td align='left'><a class='autolink' href='#fv4OUML78x4'>line</a> を構成する点のリストを指定します。詳細は「<a href='#h1RNMQY1C0b'>6  座標と位置</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>stroke</td><td align='left'>描画する線を指定します。詳細は「<a href='#4HFjqmTuIU6'>10.2  ストローク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>label</td><td align='left'>ラベルをつける場合に指定します。詳細は「<a href='#lpCVEZ9kMoP'>10.11  ラベル</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>end1,end2</td><td align='left'>始端・終端に矢印などの装飾を付ける場合は指定します。<br>詳細は「<a href='#9MB3lirlqL9'>10.10  終端マーク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>layer</td><td align='left'>レイヤーに所属させる場合、その名前をキーワードで指定します。<br>詳細は「<a href='#1ovJxG7Ie9O'>10.8  レイヤー</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>id</td><td align='left'>ID を付与したい場合、その名前をキーワードで指定します。<br>詳細は「<a href='#iu9Ovm00KHn'>10.5  IDと参照</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>filter</td><td align='left'><a class='autolink' href='#gPGlqSbIfdL'>フィルタ</a>効果を適用したい場合、その名前を指定します。<br>詳細は「<a href='#gPGlqSbIfdL'>10.7  フィルタ</a>」を参照してください。</td></tr>
</table>
<h3><a name='cp2F91gKG7W'></a>3.6 円弧</h3>
<p>　<code>arc</code> によって<a class='autolink' href='#cp2F91gKG7W'>円弧</a>を描画できます。<a class='autolink' href='#cp2F91gKG7W'>円弧</a>のベースとなる<a class='autolink' href='#7YzIcjhyGKN'>楕円</a>の中心点や始点・終点の角度が明らかな場合の使用を想定しています。始点・終点の座標がわかっている場合は <a class='autolink' href='#4qgt62QVDZl'>path</a> の使用を検討してください。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='300' height='100'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- arc -->
	<path fill='none' stroke='navy' stroke-width='8' d='M 171.65063509461098 67.5 A 25 25 0 1 1 162.5 33.34936490538904' />

</svg>
</div>

<p class='fig_title'><a name='lt4PUsUrfps'></a>Figure.3-6 arc のサンプル</p>
<details>
<summary>　※上記サンプルのソースはこちら。</summary>
<pre class='code'>
(diagram (300 100)
  (grid)
  (arc '(150 55) 25 25 0 30 300 <span class='keyword3'>:stroke</span> '(<span class='keyword3'>:color</span> <span class='keyword3'>:navy</span> <span class='keyword3'>:width</span> 8)))
</pre>
</details>
<p>　<a class='autolink' href='#cp2F91gKG7W'>arc</a> のパラメータ構成は以下の通りです。</p>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>arc</span> (center rx ry x-axis-rotation degree1 degree2
                                            <span class='keyword2'>&amp;key</span> stroke layer filter id) ... )
</pre>
<p>　各パラメータの説明を以下の表に示します。簡単に説明すると、 <code>center</code> を中心とした x 半径 <code>rx</code> 、y 半径 <code>ry</code> の<a class='autolink' href='#7YzIcjhyGKN'>楕円</a>を <code>x-axis-rotation</code> だけ回転させたものの上で、角度 <code>degree1</code> から（時計回りに） <code>degree2</code> までの部分弧を描きます。</p>
<p class='tbl_title'><a name='gg6iCoxAfmr'></a>Table.3-6 arc のパラメータ</p>
<table align='center'>
<tr style="font-size: 14;"><th>パラメータ</th><th>説明</th></tr>
<tr style="font-size: 14;"><td nowrap align='left'>center</td><td align='left'>ベースとなる<a class='autolink' href='#7YzIcjhyGKN'>楕円</a>の中心点を指定します。詳細は「<a href='#h1RNMQY1C0b'>6  座標と位置</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>rx, ry</td><td align='left'>ベースとなる<a class='autolink' href='#7YzIcjhyGKN'>楕円</a>の x 軸方向の半径、および y 軸方向の半径を数値で指定します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>x-axis-rotation</td><td align='left'>ベースとなる<a class='autolink' href='#7YzIcjhyGKN'>楕円</a>の回転角（x 軸に対してどれだけ回転させるか）を数値で指定します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>degree1</td><td align='left'><a class='autolink' href='#cp2F91gKG7W'>円弧</a>を「時計回りに描く」場合の開始角度を数値で指定します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>degree2</td><td align='left'><a class='autolink' href='#cp2F91gKG7W'>円弧</a>を「時計回りに描く」場合の終了角度を数値で指定します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>stroke</td><td align='left'>描画する線を指定します。詳細は「<a href='#4HFjqmTuIU6'>10.2  ストローク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>layer</td><td align='left'>レイヤーに所属させる場合、その名前をキーワードで指定します。<br>詳細は「<a href='#1ovJxG7Ie9O'>10.8  レイヤー</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>filter</td><td align='left'><a class='autolink' href='#gPGlqSbIfdL'>フィルタ</a>効果を適用したい場合、その名前を指定します。<br>詳細は「<a href='#gPGlqSbIfdL'>10.7  フィルタ</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>id</td><td align='left'>ID を付与したい場合、その名前をキーワードで指定します。<br>詳細は「<a href='#iu9Ovm00KHn'>10.5  IDと参照</a>」を参照してください。</td></tr>
</table>
<p>　　</p>
<p>　以下に例を示します。 <code>(100 50)</code> を中心とした <code>rx=40, ry=30</code> の<a class='autolink' href='#7YzIcjhyGKN'>楕円</a>を 45 度回転させたものをベースとします。これはライトグレーの太い<a class='autolink' href='#7YzIcjhyGKN'>楕円</a>で描画されています。このうち、0 度から 90 度までの部分を<a class='autolink' href='#cp2F91gKG7W'>円弧</a>として（赤い線で）描画しています。つまり、これは <code>(arc '(100 50) 40 30 45 0 90)</code> による描画となります。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='200' height='100'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- line -->
	<polyline fill='none' stroke='lightgray' stroke-width='1' points=' 50.0,0.0 150.0,100.0' />
	<!-- line -->
	<polyline fill='none' stroke='lightgray' stroke-width='1' points=' 150.0,0.0 50.0,100.0' />
	<!-- circle -->
	<circle cx='100' cy='50' r='2' fill='red' stroke='none' stroke-width='1' />
	<!-- ellipse -->
	<g transform='rotate(45,100,50)'>
		<ellipse cx='100' cy='50' rx='40' ry='30' fill='none' stroke='lightgray' stroke-width='8' stroke-opacity='0.4' />
	</g>
	<!-- arc -->
	<path fill='none' stroke='red' stroke-width='2' d='M 128.2842712474619 78.2842712474619 A 40 30 45 0 1 78.78679656440357 71.21320343559643' />

</svg>
</div>

<p class='fig_title'><a name='bSd48Y8N0w0'></a>Figure.3-7 arc のサンプル - 2</p>
<p>　<a class='autolink' href='#8UQowBxrcaE'>正円</a>をベースとした<a class='autolink' href='#cp2F91gKG7W'>円弧</a>を描画したい場合、 <code>rx</code> と <code>ry</code> を同じ値に指定します。この場合、回転させることに意味はないので、 <code>x-axis-rotation</code> は 0 にしてください。</p>
<p>　<a class='autolink' href='#cp2F91gKG7W'>arc</a> を使用した<a class='autolink' href='#cp2F91gKG7W'>円弧</a>の描画は、「中心と角度」が明らかな場合に使用します。そうではなく、<a class='autolink' href='#cp2F91gKG7W'>円弧</a>の開始点と終了点が明らかな場合は、<a class='autolink' href='#4qgt62QVDZl'>path</a> を使用した方が良いでしょう。</p>
<h3><a name='cTdCvBeU6ZJ'></a>3.7 テキスト</h3>
<p>　<code>text</code> によってテキストを描画できます。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='300' height='100'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- text -->
	<text x='150' y='70' text-anchor='middle' font-family='Times New Roman' font-size='48pt' fill='green' font-style='italic' font-weight='bold' >Text</text>

</svg>
</div>

<p class='fig_title'><a name='7uvPIQqWhZy'></a>Figure.3-8 text のサンプル</p>
<details>
<summary>　※上記サンプルのソースはこちら。</summary>
<pre class='code'>
(diagram (300 100)
  (grid)
  (text '(150 70) <span class='literal'>"Text"</span> <span class='keyword3'>:align</span> <span class='keyword3'>:center</span>
        <span class='keyword3'>:font</span> '(<span class='keyword3'>:family</span> <span class='literal'>"Times New Roman"</span>
                <span class='keyword3'>:size</span> 48 <span class='keyword3'>:weight</span> <span class='keyword3'>:bold</span> <span class='keyword3'>:fill</span> <span class='keyword3'>:green</span> <span class='keyword3'>:style</span> <span class='keyword3'>:italic</span>)))
</pre>
</details>
<p>　<a class='autolink' href='#cTdCvBeU6ZJ'>text</a> のパラメータ構成は以下の通りです。なお、<a class='autolink' href='#cTdCvBeU6ZJ'>text</a> では <strong>複数行に渡るテキストは描画できません</strong> 。複数行のテキストを描画したい場合は、<a class='autolink' href='#4WyMTv59pvw'>paragraph</a> を使用してください。</p>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>text</span> (position text <span class='keyword2'>&amp;key</span> align font link layer id) ... )
</pre>
<p>　　</p>
<p class='tbl_title'><a name='iSYTxHvOAoB'></a>Table.3-7 text のパラメータ</p>
<table align='center'>
<tr style="font-size: 14;"><th>パラメータ</th><th>説明</th></tr>
<tr style="font-size: 14;"><td nowrap align='left'>position</td><td align='left'><a class='autolink' href='#cTdCvBeU6ZJ'>text</a> で描くテキストの基準点を指定します。詳細は「<a href='#h1RNMQY1C0b'>6  座標と位置</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><a class='autolink' href='#cTdCvBeU6ZJ'>text</a></td><td align='left'>描くテキストを文字列で指定します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>align</td><td align='left'>テキストのアライメントを <code>:left :center :right</code> のいずれかで指定します。<br>省略した場合のデフォルト値は <code>:left</code> です。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>font</td><td align='left'><a class='autolink' href='#3kZ9FkounyK'>フォント</a>を指定します。詳細は「<a href='#3kZ9FkounyK'>10.4  フォント</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>link</td><td align='left'>リンクにする場合、リンク先を指定します。詳細は「<a href='#fbLcMRTVXac'>10.9  リンク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>layer</td><td align='left'>レイヤーに所属させる場合、その名前をキーワードで指定します。<br>詳細は「<a href='#1ovJxG7Ie9O'>10.8  レイヤー</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>id</td><td align='left'>ID を付与したい場合、その名前をキーワードで指定します。<br>詳細は「<a href='#iu9Ovm00KHn'>10.5  IDと参照</a>」を参照してください。</td></tr>
</table>
<p>　　</p>
<p>　position と align の関係を以下に示します。以下において、赤い点が position で、align 指定はテキストで示されています。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='300' height='100'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- circle -->
	<circle cx='150' cy='30' r='3' fill='red' stroke='none' stroke-width='1' />
	<!-- text -->
	<text x='150' y='30' text-anchor='start' font-size='12pt' fill='black' >align :left</text>
	<!-- circle -->
	<circle cx='150' cy='60' r='3' fill='red' stroke='none' stroke-width='1' />
	<!-- text -->
	<text x='150' y='60' text-anchor='middle' font-size='12pt' fill='black' >align :center</text>
	<!-- circle -->
	<circle cx='150' cy='90' r='3' fill='red' stroke='none' stroke-width='1' />
	<!-- text -->
	<text x='150' y='90' text-anchor='end' font-size='12pt' fill='black' >align :right </text>

</svg>
</div>

<p class='fig_title'><a name='5BXk9aTPHsl'></a>Figure.3-9 テキストの position とアライメント指定の関係</p>
<p>　　</p>
<h3><a name='4dFMjynUMYw'></a>3.8 ひし形</h3>
<p>　<code>diamond</code> によって<a class='autolink' href='#4dFMjynUMYw'>ひし形</a>を描画できます。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='300' height='100'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- diamond -->
	<polygon fill='#CD96CD' stroke='#CD0000' stroke-width='2' points='150.0,20.0 75.0,50.0 150.0,80.0 225.0,50.0 150.0,20.0' />

</svg>
</div>

<p class='fig_title'><a name='2sQudXmWdXy'></a>Figure.3-10 diamond のサンプル</p>
<details>
<summary>　※上記サンプルのソースはこちら。</summary>
<pre class='code'>
(diagram (300 100)
  (grid)
  (diamond '(150 50) 150 60 <span class='keyword3'>:stroke</span> '(<span class='keyword3'>:color</span> <span class='keyword3'>:red3</span> <span class='keyword3'>:width</span> 2) <span class='keyword3'>:fill</span> <span class='keyword3'>:plum3</span>))
</pre>
</details>
<p>　<a class='autolink' href='#4dFMjynUMYw'>diamond</a> のパラメータ構成は以下の通りです。</p>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>diamond</span> (center width height
                   <span class='keyword2'>&amp;key</span> fill stroke rotate link layer id filter contents) ... )
</pre>
<p class='tbl_title'><a name='iARD0ysYKSD'></a>Table.3-8 diamond のパラメータ</p>
<table align='center'>
<tr style="font-size: 14;"><th>パラメータ</th><th>説明</th></tr>
<tr style="font-size: 14;"><td nowrap align='left'>center</td><td align='left'>中心点を指定します。詳細は「<a href='#h1RNMQY1C0b'>6  座標と位置</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>width</td><td align='left'>幅を数値で指定します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>height</td><td align='left'>高さを数値で指定します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>fill</td><td align='left'>内部の塗り潰しを指定します。詳細は「<a href='#dBUd7L4C3dx'>10.3  フィル</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>stroke</td><td align='left'>外枠を描画する線を指定します。詳細は「<a href='#4HFjqmTuIU6'>10.2  ストローク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>rotate</td><td align='left'>回転させる場合、その角度を指定します。詳細は「<a href='#heEi5Lc5BX9'>10.6  回転</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>link</td><td align='left'>リンクにする場合、リンク先を指定します。詳細は「<a href='#fbLcMRTVXac'>10.9  リンク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>layer</td><td align='left'>レイヤーに所属させる場合、その名前をキーワードで指定します。<br>詳細は「<a href='#1ovJxG7Ie9O'>10.8  レイヤー</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>id</td><td align='left'>ID を付与したい場合、その名前をキーワードで指定します。<br>詳細は「<a href='#iu9Ovm00KHn'>10.5  IDと参照</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>filter</td><td align='left'><a class='autolink' href='#gPGlqSbIfdL'>フィルタ</a>効果を適用したい場合、その名前を指定します。<br>詳細は「<a href='#gPGlqSbIfdL'>10.7  フィルタ</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>contents</td><td align='left'>内部を<a class='autolink' href='#kgs1vf3AbTN'>サブキャンバス</a>とした描画をしたい場合、その内容を指定します。<br>詳細は「<a href='#kgs1vf3AbTN'>7  サブキャンバス</a>」を参照してください。</td></tr>
</table>
<h3><a name='8YR8CiywoW8'></a>3.9 平行四辺形</h3>
<p>　<code>parallelogram</code> によって<a class='autolink' href='#8YR8CiywoW8'>平行四辺形</a>を描画できます。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='200' height='100'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- parallelogram -->
	<polygon fill='lightsteelblue' stroke='darkslateblue' stroke-width='2' points='65.0,20.0 25.0,80.0 135.0,80.0 175.0,20.0' />

</svg>
</div>

<p class='fig_title'><a name='by41YHJgt3q'></a>Figure.3-11 parallelogram のサンプル</p>
<details>
<summary>　※上記サンプルのソースはこちら。</summary>
<pre class='code'>
(diagram (200 100)
  (grid)
  (parallelogram canvas.center 150 60 <span class='keyword3'>:h</span> 40
                 <span class='keyword3'>:fill</span> <span class='keyword3'>:lightsteelblue</span>
                 <span class='keyword3'>:stroke</span> '(<span class='keyword3'>:color</span> <span class='keyword3'>:darkslateblue</span> <span class='keyword3'>:width</span> 2)))
</pre>
</details>
<p>　<a class='autolink' href='#8YR8CiywoW8'>parallelogram</a> のパラメータ構成は以下の通りです。</p>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>parallelogram</span> (center width height direction offset
                         <span class='keyword2'>&amp;key</span> fill stroke rotate link layer id filter contents) ... )
</pre>
<p class='tbl_title'><a name='7o40kH16ufr'></a>Table.3-9 parallelogram のパラメータ</p>
<table align='center'>
<tr style="font-size: 14;"><th>パラメータ</th><th>説明</th></tr>
<tr style="font-size: 14;"><td nowrap align='left'><code>center</code></td><td align='left'>中心点を指定します。詳細は「<a href='#h1RNMQY1C0b'>6  座標と位置</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><code>width</code></td><td align='left'>幅を数値で指定します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><code>height</code></td><td align='left'>高さを数値で指定します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><code>direction</code></td><td align='left'><a class='autolink' href='#8YR8CiywoW8'>平行四辺形</a>の「向き」を <code>:h</code> または <code>:v</code> で指定します。詳細は後述します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><code>offset</code></td><td align='left'><a class='autolink' href='#8YR8CiywoW8'>平行四辺形</a>の形状に関するオフセット値を数値で指定します。詳細は後述します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><code>fill</code></td><td align='left'>内部の塗り潰しを指定します。詳細は「<a href='#dBUd7L4C3dx'>10.3  フィル</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><code>stroke</code></td><td align='left'>外枠を描画する線を指定します。詳細は「<a href='#4HFjqmTuIU6'>10.2  ストローク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><code>rotate</code></td><td align='left'>回転させる場合、その角度を指定します。詳細は「<a href='#heEi5Lc5BX9'>10.6  回転</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><code>link</code></td><td align='left'>リンクにする場合、リンク先を指定します。詳細は「<a href='#fbLcMRTVXac'>10.9  リンク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><code>layer</code></td><td align='left'>レイヤーに所属させる場合、その名前をキーワードで指定します。<br>詳細は「<a href='#1ovJxG7Ie9O'>10.8  レイヤー</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><code>id</code></td><td align='left'>ID を付与したい場合、その名前をキーワードで指定します。<br>詳細は「<a href='#iu9Ovm00KHn'>10.5  IDと参照</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><code>filter</code></td><td align='left'><a class='autolink' href='#gPGlqSbIfdL'>フィルタ</a>効果を適用したい場合、その名前を指定します。<br>詳細は「<a href='#gPGlqSbIfdL'>10.7  フィルタ</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><code>contents</code></td><td align='left'>内部を<a class='autolink' href='#kgs1vf3AbTN'>サブキャンバス</a>とした描画をしたい場合、その内容を指定します。<br>詳細は「<a href='#kgs1vf3AbTN'>7  サブキャンバス</a>」を参照してください。</td></tr>
</table>
<p>　　</p>
<p>　<code>direction</code> および <code>offset</code> パラメータについて説明します。 <code>direction</code> が <code>:H</code> の場合、上側の角を右または左方向に押して変形させたような形になります。その長さを指定するのが <code>offset</code> です。 <code>offset</code> が０以上の場合は左上の角を右方向に、負数の場合は右上の角を左方向に押すイメージです。 <code>direction</code> が <code>:H</code> の場合は、同じ要領で左側の角を上または下に押すイメージになります。以下のように。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='400' height='280'>
	
	<rect x='0' y='0' width='400' height='280' fill='white' stroke='none' />
	<!-- r1 : rectangle -->
	<rect id='r1' x='20' y='30' width='160' height='80' fill='none' stroke='red' stroke-width='1' stroke-dasharray='2 2 ' />
	<!-- r2 : rectangle -->
	<rect id='r2' x='220' y='30' width='160' height='80' fill='none' stroke='red' stroke-width='1' stroke-dasharray='2 2 ' />
	<!-- r3 : rectangle -->
	<rect id='r3' x='20' y='140' width='160' height='120' fill='none' stroke='red' stroke-width='1' stroke-dasharray='2 2 ' />
	<!-- r4 : rectangle -->
	<rect id='r4' x='220' y='140' width='160' height='120' fill='none' stroke='red' stroke-width='1' stroke-dasharray='2 2 ' />
	<!-- parallelogram -->
	<polygon fill='lightcyan' stroke='navy' stroke-width='1' points='60.0,30.0 20.0,110.0 140.0,110.0 180.0,30.0' />
	<!-- block-arrow -->
	<polygon fill='red' stroke='none' stroke-width='1' points='20.0,32.5 20.0,27.5 45.0,27.5 45.0,22.5 60.0,30.0 45.0,37.5 45.0,32.5' />
	<!-- paragraph -->
	<text x='100' y='69' text-anchor='middle' font-size='10pt' fill='black' >direction = :H</text>
	<text x='100' y='81' text-anchor='middle' font-size='10pt' fill='black' >0 &lt;= offset</text>
	<!-- parallelogram -->
	<polygon fill='lightcyan' stroke='navy' stroke-width='1' points='220.0,30.0 260.0,110.0 380.0,110.0 340.0,30.0' />
	<!-- block-arrow -->
	<polygon fill='red' stroke='none' stroke-width='1' points='380.0,27.5 380.0,32.5 355.0,32.5 355.0,37.5 340.0,30.0 355.0,22.5 355.0,27.5' />
	<!-- paragraph -->
	<text x='300' y='69' text-anchor='middle' font-size='10pt' fill='black' >direction = :H</text>
	<text x='300' y='81' text-anchor='middle' font-size='10pt' fill='black' >offset &lt; 0</text>
	<!-- parallelogram -->
	<polygon fill='lightcyan' stroke='navy' stroke-width='1' points='20.0,180.0 20.0,260.0 180.0,220.0 180.0,140.0' />
	<!-- block-arrow -->
	<polygon fill='red' stroke='none' stroke-width='1' points='17.5,140.0 22.5,140.0 22.5,165.0 27.5,165.0 20.0,180.0 12.5,165.0 17.5,165.0' />
	<!-- paragraph -->
	<text x='100' y='199' text-anchor='middle' font-size='10pt' fill='black' >direction = :V</text>
	<text x='100' y='211' text-anchor='middle' font-size='10pt' fill='black' >0 &lt;= offset</text>
	<!-- parallelogram -->
	<polygon fill='lightcyan' stroke='navy' stroke-width='1' points='220.0,140.0 220.0,220.0 380.0,260.0 380.0,180.0' />
	<!-- block-arrow -->
	<polygon fill='red' stroke='none' stroke-width='1' points='222.5,260.0 217.5,260.0 217.5,235.0 212.5,235.0 220.0,220.0 227.5,235.0 222.5,235.0' />
	<!-- paragraph -->
	<text x='300' y='199' text-anchor='middle' font-size='10pt' fill='black' >direction = :V</text>
	<text x='300' y='211' text-anchor='middle' font-size='10pt' fill='black' >offset &lt; 0</text>

</svg>
</div>

<p class='fig_title'><a name='67lJneaqrLn'></a>Figure.3-12 parallelogram における direction と offset</p>
<p>　ただし、 <code>width / height</code> で指定されたサイズはあくまで赤い点線の矩形であることに注意してください。また、<a class='autolink' href='#kgs1vf3AbTN'>サブキャンバス</a>や<a class='autolink' href='#eFhVs4WwYUG'>コネクタ</a>による接続点は現状では赤い点線の矩形ベースで計算されますが、この挙動は将来変更される可能性があります。</p>
<p>　　</p>
<h2><a name='1s5LsvBYupX'></a>4 一般的な図形</h2>
<p>　基本的な図形を組み合わせて作成される、複合的な図形を紹介します。以下のサンプルはそれぞれの説明項目へのリンクになっています。</p>
<!-- define: HASH_CONNECTOR  = '[](#コネクタ)' -->
<!-- define: HASH_PARAGRAPH  = '[](#パラグラフ)' -->
<!-- define: HASH_TEXTBOX    = '[](#テキストボックス)' -->
<!-- define: HASH_DOCUMENT   = '[](#ドキュメント)' -->
<!-- define: HASH_FOLDER     = '[](#フォルダ)' -->
<!-- define: HASH_BALLOON    = '[](#吹き出し)' -->
<!-- define: HASH_PERSON     = '[](#人物)' -->
<!-- define: HASH_MEMO       = '[](#メモ)' -->
<!-- define: HASH_CUBE       = '[](#キューブ)' -->
<!-- define: HASH_CYLINDER   = '[](#円柱)' -->
<!-- define: HASH_EXPLOSION  = '[](#爆発)' -->
<!-- define: HASH_CROSS      = '[](#十字)' -->
<!-- define: HASH_BLOCKARROW = '[](#ブロック矢印)' -->
<!-- define: HASH_BRACE      = '[](#波括弧)' -->
<!-- define: HASH_TABLE      = '[](#テーブル)' -->
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='800' height='360'>
	
	<!-- connect-grp : group-definition -->
	<defs>
		<g id='connect-grp'>
			<!-- rectangle -->
			<rect x='0' y='0' width='100' height='100' fill='white' stroke='none' stroke-width='1' />
			<!-- r1 : rectangle -->
			<rect id='r1' x='10' y='10' width='20' height='20' fill='white' stroke='black' stroke-width='1' />
			<!-- r2 : circle -->
			<circle id='r2' cx='80' cy='60' r='10' fill='white' stroke='black' stroke-width='1' />
			<!-- connector from r1 to r2 -->
			<polyline fill='none' stroke='black' stroke-width='1' points=' 30.0,26.666666 71.6795,54.453' />
			<!-- text -->
			<text x='50' y='95' text-anchor='middle' font-size='12pt' fill='black' >コネクタ</text>
			
		</g>
	</defs>
	<!-- paragraph-grp : group-definition -->
	<defs>
		<g id='paragraph-grp'>
			<!-- rectangle -->
			<rect x='0' y='0' width='100' height='100' fill='white' stroke='none' stroke-width='1' />
			<!-- paragraph -->
			<text x='50' y='31' text-anchor='middle' font-size='16pt' fill='black' >this is</text>
			<text x='50' y='49' text-anchor='middle' font-size='16pt' fill='black' >multi line</text>
			<text x='50' y='67' text-anchor='middle' font-size='16pt' fill='black' >text.</text>
			<!-- text -->
			<text x='50' y='95' text-anchor='middle' font-size='12pt' fill='black' >パラグラフ</text>
			
		</g>
	</defs>
	<!-- textbox-grp : group-definition -->
	<defs>
		<g id='textbox-grp'>
			<!-- rectangle -->
			<rect x='0' y='0' width='100' height='100' fill='white' stroke='none' stroke-width='1' />
			<!-- textbox -->
			<rect x='8.800003' y='17' width='82.399994' height='46' rx='5' ry='5' fill='white' stroke='black' stroke-width='1' />
			<text x='50.0' y='39' text-anchor='middle' font-size='12pt' fill='black' >this is</text>
			<text x='50.0' y='53' text-anchor='middle' font-size='12pt' fill='black' >textbox.</text>
			<!-- text -->
			<text x='50' y='95' text-anchor='middle' font-size='12pt' fill='black' >テキストボックス</text>
			
		</g>
	</defs>
	<!-- document-grp : group-definition -->
	<defs>
		<g id='document-grp'>
			<!-- rectangle -->
			<rect x='0' y='0' width='100' height='100' fill='white' stroke='none' stroke-width='1' />
			<!-- document -->
			<path fill='skyblue' stroke='navy' stroke-width='1' d='M 10 10 L 10 70 A 26.666666 20 0 0 0 50 70 A 26.666666 20 1 0 1 90 70 L 90 10 Z' />
			<text x='50' y='39' text-anchor='middle' font-size='12pt' fill='black' >this is</text>
			<text x='50' y='53' text-anchor='middle' font-size='12pt' fill='black' >document.</text>
			<!-- text -->
			<text x='50' y='95' text-anchor='middle' font-size='12pt' fill='black' >ドキュメント</text>
			
		</g>
	</defs>
	<!-- folder-grp : group-definition -->
	<defs>
		<g id='folder-grp'>
			<!-- rectangle -->
			<rect x='0' y='0' width='100' height='100' fill='white' stroke='none' stroke-width='1' />
			<!-- folder -->
			<polygon fill='cornsilk' stroke='darkkhaki' stroke-width='1' points='12.700001,20.0 12.700001,70.0 87.3,70.0 87.3,30.0 77.3,20.0 62.7,20.0 52.7,10.0 22.7,10.0 12.700001,20.0' />
			<polygon fill='cornsilk' stroke='darkkhaki' stroke-width='1' points='12.700001,20.0 22.7,30.0 52.7,30.0 62.7,20.0 52.7,10.0 22.7,10.0 12.700001,20.0' />
			<text x='50.0' y='44' text-anchor='middle' font-size='12pt' fill='black' >this is</text>
			<text x='50.0' y='58' text-anchor='middle' font-size='12pt' fill='black' >folder.</text>
			<!-- text -->
			<text x='50' y='95' text-anchor='middle' font-size='12pt' fill='black' >フォルダ</text>
			
		</g>
	</defs>
	<!-- person-grp : group-definition -->
	<defs>
		<g id='person-grp'>
			<!-- rectangle -->
			<rect x='0' y='0' width='100' height='100' fill='white' stroke='none' stroke-width='1' />
			<!-- person -->
			<path fill='oldlace' stroke='brown' stroke-width='1' d='M 32.5 75 A 17.5 35 0 1 1 67.5 75 L 32.5 75 M 50 40 A 17.5 17.5 0 0 1 50 5 A 17.5 17.5 0 0 1 50 40' />
			<!-- text -->
			<text x='50' y='95' text-anchor='middle' font-size='12pt' fill='black' >人物</text>
			
		</g>
	</defs>
	<!-- balloon-grp : group-definition -->
	<defs>
		<g id='balloon-grp'>
			<!-- rectangle -->
			<rect x='0' y='0' width='100' height='100' fill='white' stroke='none' stroke-width='1' />
			<!-- balloon -->
			<path fill='honeydew' stroke='forestgreen' stroke-width='1' d='M 18.800003 12 L 81.2 12 A 10 10 1 0 1 91.2 22 L 91.2 48 A 10 10 1 0 1 81.2 58 L 36.26667 58 L 10.0 75 L 18.800003 58 A 10 10 1 0 1 8.800003 48 L 8.800003 22 A 10 10 1 0 1 18.800003 12 Z' />
			<text x='50.0' y='34' text-anchor='middle' font-size='12pt' fill='black' >this is</text>
			<text x='50.0' y='48' text-anchor='middle' font-size='12pt' fill='black' >balloon.</text>
			<!-- text -->
			<text x='50' y='95' text-anchor='middle' font-size='12pt' fill='black' >吹き出し</text>
			
		</g>
	</defs>
	<!-- memo-grp : group-definition -->
	<defs>
		<g id='memo-grp'>
			<!-- rectangle -->
			<rect x='0' y='0' width='100' height='100' fill='white' stroke='none' stroke-width='1' />
			<!-- memo -->
			<polygon fill='lavenderblush' stroke='red' stroke-width='1' points='10.0,5.0 10.0,65.0 70.0,65.0 90.0,55.0 90.0,5.0 10.0,5.0' />
			<polygon fill='lightpink' stroke='red' stroke-width='1' stroke-linejoin='round' points='70.0,65.0 90.0,55.0 76.666664,51.666668 70.0,65.0' />
			<text x='20' y='27' text-anchor='start' font-size='12pt' fill='black' >this is</text>
			<text x='20' y='41' text-anchor='start' font-size='12pt' fill='black' >memo.</text>
			<!-- text -->
			<text x='50' y='95' text-anchor='middle' font-size='12pt' fill='black' >メモ</text>
			
		</g>
	</defs>
	<!-- cube-grp : group-definition -->
	<defs>
		<g id='cube-grp'>
			<!-- rectangle -->
			<rect x='0' y='0' width='100' height='100' fill='white' stroke='none' stroke-width='1' />
			<!-- cube -->
			<polygon fill='darkgray' stroke='black' stroke-width='1' points='17.5,16.0 29.5,4.0 88.5,4.0 88.5,58.0 76.5,70.0 17.5,70.0' />
			<polyline fill='none' stroke='black' stroke-width='1' points=' 88.5,4.0 76.5,16.0' />
			<rect x='17.5' y='16' width='59' height='54' fill='lightgray' stroke='black' stroke-width='1' />
			<text x='47' y='42' text-anchor='middle' font-size='12pt' fill='black' >this is</text>
			<text x='47' y='56' text-anchor='middle' font-size='12pt' fill='black' >cube.</text>
			<!-- text -->
			<text x='50' y='95' text-anchor='middle' font-size='12pt' fill='black' >キューブ</text>
			
		</g>
	</defs>
	<!-- cylinder-grp : group-definition -->
	<defs>
		<g id='cylinder-grp'>
			<!-- rectangle -->
			<rect x='0' y='0' width='100' height='100' fill='white' stroke='none' stroke-width='1' />
			<!-- cylinder -->
			<path fill='lightgray' stroke='darkgray' stroke-width='1' d='M 17.5 10 L 17.5 70 A 32.5 6 0 0 0 82.5 70 L 82.5 10 A 32.5 6 0 0 0 17.5 10' />
			<path fill='none' stroke='darkgray' stroke-width='1' d='M 17.5 10 A 32.5 6 0 0 0 82.5 10' />
			<text x='50' y='39' text-anchor='middle' font-size='12pt' fill='black' >this is</text>
			<text x='50' y='53' text-anchor='middle' font-size='12pt' fill='black' >cylinder.</text>
			<!-- text -->
			<text x='50' y='95' text-anchor='middle' font-size='12pt' fill='black' >円柱</text>
			
		</g>
	</defs>
	<!-- explosion-grp : group-definition -->
	<defs>
		<g id='explosion-grp'>
			<!-- rectangle -->
			<rect x='0' y='0' width='100' height='100' fill='white' stroke='none' stroke-width='1' />
			<!-- explosion -->
			<polygon fill='lightpink' stroke='red' stroke-width='1' points='6.8,8.0 24.8,28.0 5.9,31.199999 21.2,43.2 5.9,53.600002 29.300001,52.0 25.7,64.0 37.4,58.4 40.1,79.2 49.100002,55.2 60.8,72.8 64.4,53.600002 80.6,66.4 75.2,47.199997 94.1,48.800003 77.9,39.2 93.200005,30.4 74.299995,27.2 81.5,16.8 63.499996,20.0 65.3,0.0 50.0,21.6 40.1,9.599999 35.6,23.199999' />
			<text x='50' y='46' text-anchor='middle' font-size='12pt' fill='black' >bomb!!</text>
			<!-- text -->
			<text x='50' y='95' text-anchor='middle' font-size='12pt' fill='black' >爆発</text>
			
		</g>
	</defs>
	<!-- cross-grp : group-definition -->
	<defs>
		<g id='cross-grp'>
			<!-- rectangle -->
			<rect x='0' y='0' width='100' height='100' fill='white' stroke='none' stroke-width='1' />
			<!-- cross -->
			<path fill='plum' stroke='purple' stroke-width='1' d='M 40 5 V 30 H 15 V 50 H 40 V 75 H 60 V 50 H 85 V 30 H 60 V 5 z' />
			<!-- text -->
			<text x='50' y='95' text-anchor='middle' font-size='12pt' fill='black' >十字</text>
			
		</g>
	</defs>
	<!-- blockarrow-grp : group-definition -->
	<defs>
		<g id='blockarrow-grp'>
			<!-- rectangle -->
			<rect x='0' y='0' width='100' height='100' fill='white' stroke='none' stroke-width='1' />
			<!-- block-arrow -->
			<polygon fill='burlywood' stroke='brown' stroke-width='1' points='5.0,50.0 5.0,30.0 55.0,30.0 55.0,20.0 95.0,40.0 55.0,60.0 55.0,50.0' />
			<!-- text -->
			<text x='50' y='95' text-anchor='middle' font-size='12pt' fill='black' >ブロック矢印</text>
			
		</g>
	</defs>
	<!-- brace-grp : group-definition -->
	<defs>
		<g id='brace-grp'>
			<!-- rectangle -->
			<rect x='0' y='0' width='100' height='100' fill='white' stroke='none' stroke-width='1' />
			<!-- brace -->
			<path fill='none' stroke='navy' stroke-width='1' d='M 10 15 A 10 15 0 0 0 20 30 L 40 30 A 10 15 1 0 1 50 45 A 10 15 1 0 1 60 30 L 80 30 A 10 15 0 0 0 90 15' />
			<text x='50' y='62' text-anchor='middle' font-size='12pt' fill='black' >this is brace.</text>
			<!-- text -->
			<text x='50' y='95' text-anchor='middle' font-size='12pt' fill='black' >波括弧</text>
			
		</g>
	</defs>
	<!-- table-grp : group-definition -->
	<defs>
		<g id='table-grp'>
			<!-- rectangle -->
			<rect x='0' y='0' width='100' height='100' fill='white' stroke='none' stroke-width='1' />
			<!-- table -->
			<rect x='10' y='20' width='80' height='40' fill='white' stroke='none' stroke-width='1' />
			<rect x='10' y='20' width='80' height='10' fill='skyblue' stroke='none' stroke-width='1' />
			<polyline fill='none' stroke='navy' stroke-width='1' points=' 10.0,20.0 90.0,20.0' />
			<polyline fill='none' stroke='navy' stroke-width='1' points=' 10.0,30.0 90.0,30.0' />
			<polyline fill='none' stroke='navy' stroke-width='1' points=' 10.0,40.0 90.0,40.0' />
			<polyline fill='none' stroke='navy' stroke-width='1' points=' 10.0,50.0 90.0,50.0' />
			<polyline fill='none' stroke='navy' stroke-width='1' points=' 10.0,60.0 90.0,60.0' />
			<polyline fill='none' stroke='navy' stroke-width='1' points=' 10.0,20.0 10.0,60.0' />
			<polyline fill='none' stroke='navy' stroke-width='1' points=' 30.0,20.0 30.0,60.0' />
			<polyline fill='none' stroke='navy' stroke-width='1' points=' 50.0,20.0 50.0,60.0' />
			<polyline fill='none' stroke='navy' stroke-width='1' points=' 70.0,20.0 70.0,60.0' />
			<polyline fill='none' stroke='navy' stroke-width='1' points=' 90.0,20.0 90.0,60.0' />
			<!-- text -->
			<text x='50' y='95' text-anchor='middle' font-size='12pt' fill='black' >テーブル</text>
			
		</g>
	</defs>
	<!-- use -->
	<a xlink:href='#eFhVs4WwYUG' target='_self'>
		<use xlink:href='#connect-grp' x='20' y='10' />
	</a>
	<!-- use -->
	<a xlink:href='#4WyMTv59pvw' target='_self'>
		<use xlink:href='#paragraph-grp' x='150' y='10' />
	</a>
	<!-- use -->
	<a xlink:href='#e7hkC2YUaKe' target='_self'>
		<use xlink:href='#textbox-grp' x='280' y='10' />
	</a>
	<!-- use -->
	<a xlink:href='#jRjILbbJATV' target='_self'>
		<use xlink:href='#document-grp' x='410' y='10' />
	</a>
	<!-- use -->
	<a xlink:href='#5ZT843xJDiq' target='_self'>
		<use xlink:href='#folder-grp' x='540' y='10' />
	</a>
	<!-- use -->
	<a xlink:href='#03WwbeGq0eH' target='_self'>
		<use xlink:href='#person-grp' x='670' y='10' />
	</a>
	<!-- use -->
	<a xlink:href='#5IHcv4bxjLU' target='_self'>
		<use xlink:href='#balloon-grp' x='20' y='130' />
	</a>
	<!-- use -->
	<a xlink:href='#0AVJhEKnK1M' target='_self'>
		<use xlink:href='#memo-grp' x='150' y='130' />
	</a>
	<!-- use -->
	<a xlink:href='#hja1QJC0Ivb' target='_self'>
		<use xlink:href='#cube-grp' x='280' y='130' />
	</a>
	<!-- use -->
	<a xlink:href='#5ME1Xv0K4sM' target='_self'>
		<use xlink:href='#cylinder-grp' x='410' y='130' />
	</a>
	<!-- use -->
	<a xlink:href='#hjZ26isLw42' target='_self'>
		<use xlink:href='#explosion-grp' x='540' y='130' />
	</a>
	<!-- use -->
	<a xlink:href='#4cZRWkwhYNO' target='_self'>
		<use xlink:href='#cross-grp' x='670' y='130' />
	</a>
	<!-- use -->
	<a xlink:href='#49KKf97828b' target='_self'>
		<use xlink:href='#blockarrow-grp' x='20' y='250' />
	</a>
	<!-- use -->
	<a xlink:href='#lBS33hNe32a' target='_self'>
		<use xlink:href='#brace-grp' x='150' y='250' />
	</a>
	<!-- use -->
	<a xlink:href='#g6xjP526KX7' target='_self'>
		<use xlink:href='#table-grp' x='280' y='250' />
	</a>

</svg>
</div>

<h3><a name='eFhVs4WwYUG'></a>4.1 コネクタ</h3>
<p>　<code>connect</code> によって図形要素どうしを接続することができます。また、終端に矢印などのマークをつけたり、ラベルを付与することもできます。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='400' height='150'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- r1 : textbox -->
	<g id='r1'>
		<rect x='80' y='20' width='40' height='40' fill='skyblue' stroke='navy' stroke-width='1' />
		<text x='100' y='46' text-anchor='middle' font-size='12pt' fill='black' >:R1</text>
	</g>
	<!-- r2 : textbox -->
	<g id='r2'>
		<rect x='180' y='90' width='40' height='40' fill='skyblue' stroke='navy' stroke-width='1' />
		<text x='200' y='116' text-anchor='middle' font-size='12pt' fill='black' >:R2</text>
	</g>
	<!-- r3 : textbox -->
	<g id='r3'>
		<rect x='280' y='55' width='40' height='40' fill='skyblue' stroke='navy' stroke-width='1' />
		<text x='300' y='81' text-anchor='middle' font-size='12pt' fill='black' >:R3</text>
	</g>
	<!-- connector from r1 to r2 -->
	<polyline fill='none' stroke='black' stroke-width='1' points=' 100.0,60.0 100.0,110.0 180.0,110.0' />
	<!-- connector from r1 to r3 -->
	<polyline fill='none' stroke='black' stroke-width='1' points=' 120.0,40.0 350.0,40.0 350.0,75.0 320.0,75.0' />
	<text x='247.5' y='35.0' text-anchor='middle' font-size='12pt' fill='black' >label</text>
	<!-- connector from r2 to r3 -->
	<polyline fill='none' stroke='black' stroke-width='1' points=' 220.0,103.0 280.0,82.0' />
	<polyline fill='none' stroke='black' stroke-width='1' points='270.21655,93.370316 280,82.0 265.2613,79.21244' />

</svg>
</div>

<p class='fig_title'><a name='4gGy4q3tl7a'></a>Figure.4-1 コネクタのサンプル</p>
<details>
<summary>　※上記サンプルのソースはこちら。</summary>
<pre class='code'>
(diagram (400 150)
  (grid)
  (with-options (<span class='keyword3'>:stroke</span> <span class='keyword3'>:navy</span> <span class='keyword3'>:fill</span> <span class='keyword3'>:skyblue</span>)
    (textbox '(100  40) <span class='literal'>":R1"</span> <span class='keyword3'>:width</span> 40 <span class='keyword3'>:height</span> 40 <span class='keyword3'>:id</span> <span class='keyword3'>:r1</span>)
    (textbox '(200 110) <span class='literal'>":R2"</span> <span class='keyword3'>:width</span> 40 <span class='keyword3'>:height</span> 40 <span class='keyword3'>:id</span> <span class='keyword3'>:r2</span>)
    (textbox '(300  75) <span class='literal'>":R3"</span> <span class='keyword3'>:width</span> 40 <span class='keyword3'>:height</span> 40 <span class='keyword3'>:id</span> <span class='keyword3'>:r3</span>))
  (with-options (<span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span>)
    (connect <span class='keyword3'>:r1</span> <span class='keyword3'>:r2</span> <span class='keyword3'>:style</span> <span class='keyword3'>:BL</span>)
    (connect <span class='keyword3'>:r1</span> <span class='keyword3'>:r3</span> <span class='keyword3'>:style</span> <span class='keyword3'>:RR</span> <span class='keyword3'>:label</span> '(<span class='literal'>"label"</span> <span class='keyword3'>:offset</span> (-20 -5)))
    (connect <span class='keyword3'>:r2</span> <span class='keyword3'>:r3</span> <span class='keyword3'>:style</span> <span class='keyword3'>:CC</span> <span class='keyword3'>:end2</span> <span class='keyword3'>:arrow</span>)))
</pre>
</details>
<p>　<a class='autolink' href='#eFhVs4WwYUG'>connect</a> のパラメータ構成は以下の通りです。</p>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>connect</span> (from to <span class='keyword2'>&amp;key</span> style spacing label
                                stroke end1 end2 layer filter id) ... )
</pre>
<p>　基本的には from / to で接続する図形要素を指定し、style で接続の仕方を指定します。</p>
<p class='tbl_title'><a name='79EVRrlxEbF'></a>Table.4-1 connect のパラメータ</p>
<table align='center'>
<tr style="font-size: 14;"><th>パラメータ</th><th>説明</th></tr>
<tr style="font-size: 14;"><td nowrap align='left'>from</td><td align='left'>接続元となる要素の ID をキーワードで指定します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>to</td><td align='left'>接続先となる要素の ID をキーワードで指定します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>style</td><td align='left'>接続線の引き方を指定します。省略した場合のデフォルト値は :CC です。<br>これは「中心から中心を<a class='autolink' href='#fv4OUML78x4'>直線</a>で結ぶ」引き方になります。それ以外の<br>指定方法については後述します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>spacing</td><td align='left'>2 回以上折れ曲がる接続線について、「自由な線分」の位置を調整するための<br>パラメータです。詳細は後述します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>label</td><td align='left'>ラベルをつける場合に指定します。詳細は「<a href='#lpCVEZ9kMoP'>10.11  ラベル</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>stroke</td><td align='left'>描画する線を指定します。詳細は「<a href='#4HFjqmTuIU6'>10.2  ストローク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>end1,end2</td><td align='left'>始端・終端に矢印などの装飾を付ける場合は指定します。<br>詳細は「<a href='#9MB3lirlqL9'>10.10  終端マーク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>layer</td><td align='left'>レイヤーに所属させる場合、その名前をキーワードで指定します。<br>詳細は「<a href='#1ovJxG7Ie9O'>10.8  レイヤー</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>filter</td><td align='left'><a class='autolink' href='#gPGlqSbIfdL'>フィルタ</a>効果を適用したい場合、その名前を指定します。<br>詳細は「<a href='#gPGlqSbIfdL'>10.7  フィルタ</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>id</td><td align='left'>ID を付与したい場合、その名前をキーワードで指定します。<br>詳細は「<a href='#iu9Ovm00KHn'>10.5  IDと参照</a>」を参照してください。</td></tr>
</table>
<p>　　</p>
<p>　では、style および spacing について説明します。まず、style のデフォルト値でもある :CC は「Center to Center」という意味で、対象図形の中心どうしを結ぶような一本の<a class='autolink' href='#fv4OUML78x4'>直線</a>で接続をします。これは <a href='#4gGy4q3tl7a'>Figure.4-1</a> における R2 と R3 の接続のイメージです。</p>
<p>　:CC 以外の接続方法は、T, B, L, R のいずれかを2つ使って接続位置を指定する方法になります。これはそれぞれ Top, Bottom, Left, Right の頭文字で、たとえば :BL であれば「Bottom to Left」という意味になり、これは from 側の下端と to 側の左端を接続する、ということを意味します。これは <a href='#4gGy4q3tl7a'>Figure.4-1</a> における R1 と R2 の接続のイメージです。</p>
<p>　さらに細かく接続位置を制御したい場合、それぞれの T,B,L,R の後ろに 1 ～ 3 のインデックスを指定することができます。先程の :BL という指定は、実は :B2L2 の省略記法です。インデックスと実際の接続位置の関係を以下に示します。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='300' height='160'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- rectangle -->
	<rect x='90' y='20' width='120' height='120' fill='white' stroke='gray' stroke-width='1' />
	<!-- circle -->
	<circle cx='120' cy='20' r='2' fill='red' stroke='none' stroke-width='1' />
	<!-- text -->
	<text x='120' y='15' text-anchor='middle' font-size='10pt' fill='red' >T1</text>
	<!-- circle -->
	<circle cx='150' cy='20' r='2' fill='red' stroke='none' stroke-width='1' />
	<!-- text -->
	<text x='150' y='15' text-anchor='middle' font-size='10pt' fill='red' >T2</text>
	<!-- circle -->
	<circle cx='180' cy='20' r='2' fill='red' stroke='none' stroke-width='1' />
	<!-- text -->
	<text x='180' y='15' text-anchor='middle' font-size='10pt' fill='red' >T3</text>
	<!-- circle -->
	<circle cx='120' cy='140' r='2' fill='red' stroke='none' stroke-width='1' />
	<!-- text -->
	<text x='120' y='155' text-anchor='middle' font-size='10pt' fill='red' >B1</text>
	<!-- circle -->
	<circle cx='150' cy='140' r='2' fill='red' stroke='none' stroke-width='1' />
	<!-- text -->
	<text x='150' y='155' text-anchor='middle' font-size='10pt' fill='red' >B2</text>
	<!-- circle -->
	<circle cx='180' cy='140' r='2' fill='red' stroke='none' stroke-width='1' />
	<!-- text -->
	<text x='180' y='155' text-anchor='middle' font-size='10pt' fill='red' >B3</text>
	<!-- circle -->
	<circle cx='90' cy='50' r='2' fill='red' stroke='none' stroke-width='1' />
	<!-- text -->
	<text x='85' y='55' text-anchor='end' font-size='10pt' fill='red' >L1</text>
	<!-- circle -->
	<circle cx='90' cy='80' r='2' fill='red' stroke='none' stroke-width='1' />
	<!-- text -->
	<text x='85' y='85' text-anchor='end' font-size='10pt' fill='red' >L2</text>
	<!-- circle -->
	<circle cx='90' cy='110' r='2' fill='red' stroke='none' stroke-width='1' />
	<!-- text -->
	<text x='85' y='115' text-anchor='end' font-size='10pt' fill='red' >L3</text>
	<!-- circle -->
	<circle cx='210' cy='50' r='2' fill='red' stroke='none' stroke-width='1' />
	<!-- text -->
	<text x='215' y='55' text-anchor='start' font-size='10pt' fill='red' >R1</text>
	<!-- circle -->
	<circle cx='210' cy='80' r='2' fill='red' stroke='none' stroke-width='1' />
	<!-- text -->
	<text x='215' y='85' text-anchor='start' font-size='10pt' fill='red' >R2</text>
	<!-- circle -->
	<circle cx='210' cy='110' r='2' fill='red' stroke='none' stroke-width='1' />
	<!-- text -->
	<text x='215' y='115' text-anchor='start' font-size='10pt' fill='red' >R3</text>

</svg>
</div>

<p class='fig_title'><a name='iS4fHSfl5nF'></a>Figure.4-2 コネクタにおける接続点の指定</p>
<p>　style パラメータを使って :CC 以外の接続を指定すると、<a class='autolink' href='#eFhVs4WwYUG'>コネクタ</a>は接続対象の図形要素の位置関係を調べて適切な折線を描画します。たとえば、以下は <code>:style :LR</code> で接続しています。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='300' height='120'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- r1 : rectangle -->
	<rect id='r1' x='80' y='10' width='40' height='40' fill='skyblue' stroke='navy' stroke-width='1' />
	<!-- r2 : rectangle -->
	<rect id='r2' x='180' y='70' width='40' height='40' fill='skyblue' stroke='navy' stroke-width='1' />
	<!-- connector from r1 to r2 -->
	<polyline fill='none' stroke='black' stroke-width='1' points=' 80.0,30.0 50.0,30.0 50.0,60.0 250.0,60.0 250.0,90.0 220.0,90.0' />

</svg>
</div>

<p class='fig_title'><a name='5cNBVVOciY7'></a>Figure.4-3 コネクタによる接続経路決定</p>
<p>　この、位置関係を考慮した接続線の自動決定は、接続対象でない他の図形要素の位置を「考慮しない」ことに注意してください。以下のように、先程の接続経路上に他の要素があったとしても、それを迂回するほどには賢くありません。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='300' height='120'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- r1 : rectangle -->
	<rect id='r1' x='80' y='10' width='40' height='40' fill='skyblue' stroke='navy' stroke-width='1' />
	<!-- r2 : rectangle -->
	<rect id='r2' x='180' y='70' width='40' height='40' fill='skyblue' stroke='navy' stroke-width='1' />
	<!-- rectangle -->
	<rect x='135' y='45' width='30' height='30' fill='lightpink' stroke='red' stroke-width='1' />
	<!-- connector from r1 to r2 -->
	<polyline fill='none' stroke='black' stroke-width='1' points=' 80.0,30.0 50.0,30.0 50.0,60.0 250.0,60.0 250.0,90.0 220.0,90.0' />

</svg>
</div>

<p class='fig_title'><a name='kui5wtIKl5y'></a>Figure.4-4 コネクタによる接続経路決定は他の要素を迂回しない</p>
<p>　上記のような場合に役に立つ（かもしれない）のが spacing パラメータです。これは、2 回以上折れ曲がる接続線において、「自由な線分の調整を行う」ものです。<a href='#kui5wtIKl5y'>Figure.4-4</a> の接続線を見てください。4 回折れ曲がっていて、5 本の線分でできています。このうち、接続対象に直接触れている線分は（ <code>:style :LR</code> 指定によって）動かせませんが、残り 3 つの線分はそれぞれ x 軸方向または y 軸方向に移動させられそうなことがわかるでしょう。つまり、以下で赤くした部分です。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='300' height='120'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- r1 : rectangle -->
	<rect id='r1' x='80' y='10' width='40' height='40' fill='skyblue' stroke='navy' stroke-width='1' />
	<!-- r2 : rectangle -->
	<rect id='r2' x='180' y='70' width='40' height='40' fill='skyblue' stroke='navy' stroke-width='1' />
	<!-- connector from r1 to r2 -->
	<polyline fill='none' stroke='gray' stroke-width='1' points=' 80.0,30.0 50.0,30.0 50.0,60.0 250.0,60.0 250.0,90.0 220.0,90.0' />
	<!-- path -->
	<path fill='none' stroke='red' stroke-width='3' d='M 50 30 L 50 60 L 250 60 L 250 90' />
	<!-- block-arrow -->
	<polygon fill='brown' fill-opacity='0.4' stroke='none' stroke-width='1' points='30.0,45.0 40.0,40.0 40.0,42.5 60.0,42.5 60.0,40.0 70.0,45.0 60.0,50.0 60.0,47.5 40.0,47.5 40.0,50.0' />
	<!-- block-arrow -->
	<polygon fill='brown' fill-opacity='0.4' stroke='none' stroke-width='1' points='150.0,40.0 156.0,50.0 152.5,50.0 152.5,70.0 156.0,70.0 150.0,80.0 144.0,70.0 147.5,70.0 147.5,50.0 144.0,50.0' />
	<!-- block-arrow -->
	<polygon fill='brown' fill-opacity='0.4' stroke='none' stroke-width='1' points='230.0,75.0 240.0,70.0 240.0,72.5 260.0,72.5 260.0,70.0 270.0,75.0 260.0,80.0 260.0,77.5 240.0,77.5 240.0,80.0' />

</svg>
</div>

<p class='fig_title'><a name='hHTLHAEc9Gs'></a>Figure.4-5 コネクタの接続経路における「自由な線分」</p>
<p>　spacing パラメータでは、上記のような「自由な線分」それぞれについて、どれだけズラすかを指定できます。from 側から順番にどれだけズラすかの値を並べたリストで指定します（ズラす方向が x 軸方向なのか y 軸方向なのかは線分毎に自動的に決まります）。ここでは、自由な線分のうち 2 番目の長い線分を下方向に思い切りズラしてしまいましょう。つまり、 <code>:spacing '(0 60 0)</code> と指定します。すると、以下のようになります。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='300' height='140'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- r1 : rectangle -->
	<rect id='r1' x='80' y='20' width='40' height='40' fill='skyblue' stroke='navy' stroke-width='1' />
	<!-- r2 : rectangle -->
	<rect id='r2' x='180' y='80' width='40' height='40' fill='skyblue' stroke='navy' stroke-width='1' />
	<!-- rectangle -->
	<rect x='135' y='55' width='30' height='30' fill='lightpink' stroke='red' stroke-width='1' />
	<!-- connector from r1 to r2 -->
	<polyline fill='none' stroke='black' stroke-width='1' points=' 80.0,40.0 50.0,40.0 50.0,130.0 250.0,130.0 250.0,100.0 220.0,100.0' />

</svg>
</div>

<p class='fig_title'><a name='23eQZDKkLDn'></a>Figure.4-6 spacing パラメータによるコネクタ接続経路の調整</p>
<p>　spacing パラメータは、１番目の自由な線分を指定するだけの場合にはリストでなくてもかまいません。その場合は、 <code>:spacing 30</code> のように数値で指定できます。なお、spacing パラメータは「<a class='autolink' href='#eFhVs4WwYUG'>コネクタ</a>による自動的な経路の決定結果を調整する」ものなので、たとえば接続対象の位置関係が大きく変化した場合などには、都度再調整が必要になることに注意してください。</p>
<h3><a name='4WyMTv59pvw'></a>4.2 パラグラフ</h3>
<p>　<a class='autolink' href='#4WyMTv59pvw'>パラグラフ</a>は、複数行に渡るテキストです。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='200' height='100'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- paragraph -->
	<text x='100' y='49' text-anchor='middle' font-size='12pt' fill='black' >This is paragraph.</text>
	<text x='100' y='63' text-anchor='middle' font-size='12pt' fill='black' >Multi line OK.</text>

</svg>
</div>

<p class='fig_title'><a name='8WHetxNhOq8'></a>Figure.4-7 パラグラフのサンプル</p>
<details>
<summary>　※上記サンプルのソースはこちら。</summary>
<pre class='code'>
(diagram (200 100)
  (grid)
  (paragraph canvas.center <span class='literal'>"This is paragraph.~%Multi line OK."</span>
             <span class='keyword3'>:align</span> <span class='keyword3'>:center</span> <span class='keyword3'>:valign</span> <span class='keyword3'>:center</span>))
</pre>
</details>
<p>　<a class='autolink' href='#4WyMTv59pvw'>paragraph</a> のパラメータ構成は以下の通りです。</p>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>paragraph</span> (position text <span class='keyword2'>&amp;key</span> align valign
                                        rotate font link layer id) ... )
</pre>
<p>　　</p>
<p class='tbl_title'><a name='0mFeKi0I0Lr'></a>Table.4-2 paragraph のパラメータ</p>
<table align='center'>
<tr style="font-size: 14;"><th>パラメータ</th><th>説明</th></tr>
<tr style="font-size: 14;"><td nowrap align='left'>position</td><td align='left'>描画するテキストの基準点を指定します。詳細は「<a href='#h1RNMQY1C0b'>6  座標と位置</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><a class='autolink' href='#cTdCvBeU6ZJ'>text</a></td><td align='left'>描画するテキストを文字列で指定します。改行は "~%" で表現します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>align</td><td align='left'>テキストの水平方向のアライメントを <code>:left :center :right</code> のいずれかで指定します。<br>詳細は後述します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>vlign</td><td align='left'>テキストの垂直方向のアライメントを <code>:top :center :bottom</code> のいずれかで指定します。<br>詳細は後述します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>font</td><td align='left'><a class='autolink' href='#3kZ9FkounyK'>フォント</a>を指定します。詳細は「<a href='#3kZ9FkounyK'>10.4  フォント</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>link</td><td align='left'>リンクにする場合、リンク先を指定します。詳細は「<a href='#fbLcMRTVXac'>10.9  リンク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>layer</td><td align='left'>レイヤーに所属させる場合、その名前をキーワードで指定します。<br>詳細は「<a href='#1ovJxG7Ie9O'>10.8  レイヤー</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>id</td><td align='left'>ID を付与したい場合、その名前をキーワードで指定します。<br>詳細は「<a href='#iu9Ovm00KHn'>10.5  IDと参照</a>」を参照してください。</td></tr>
</table>
<p>　　</p>
<p>　position と align, valign の関係を以下に示します。以下において、赤い点が position で、アライメント指定はテキストで示されています。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='500' height='180'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- paragraph -->
	<text x='250' y='36' text-anchor='middle' font-size='12pt' fill='black' >align = :CENTER</text>
	<text x='250' y='50' text-anchor='middle' font-size='12pt' fill='black' >valign = :BOTTOM</text>
	<!-- circle -->
	<circle cx='250' cy='50' r='3' fill='red' stroke='none' stroke-width='1' />
	<!-- paragraph -->
	<text x='160' y='36' text-anchor='end' font-size='12pt' fill='black' >align = :RIGHT</text>
	<text x='160' y='50' text-anchor='end' font-size='12pt' fill='black' >valign = :BOTTOM</text>
	<!-- circle -->
	<circle cx='160' cy='50' r='3' fill='red' stroke='none' stroke-width='1' />
	<!-- paragraph -->
	<text x='340' y='36' text-anchor='start' font-size='12pt' fill='black' >align = :LEFT</text>
	<text x='340' y='50' text-anchor='start' font-size='12pt' fill='black' >valign = :BOTTOM</text>
	<!-- circle -->
	<circle cx='340' cy='50' r='3' fill='red' stroke='none' stroke-width='1' />
	<!-- paragraph -->
	<text x='250' y='89' text-anchor='middle' font-size='12pt' fill='black' >align = :CENTER</text>
	<text x='250' y='103' text-anchor='middle' font-size='12pt' fill='black' >valign = :CENTER</text>
	<!-- circle -->
	<circle cx='250' cy='90' r='3' fill='red' stroke='none' stroke-width='1' />
	<!-- paragraph -->
	<text x='160' y='89' text-anchor='end' font-size='12pt' fill='black' >align = :RIGHT</text>
	<text x='160' y='103' text-anchor='end' font-size='12pt' fill='black' >valign = :CENTER</text>
	<!-- circle -->
	<circle cx='160' cy='90' r='3' fill='red' stroke='none' stroke-width='1' />
	<!-- paragraph -->
	<text x='340' y='89' text-anchor='start' font-size='12pt' fill='black' >align = :LEFT</text>
	<text x='340' y='103' text-anchor='start' font-size='12pt' fill='black' >valign = :CENTER</text>
	<!-- circle -->
	<circle cx='340' cy='90' r='3' fill='red' stroke='none' stroke-width='1' />
	<!-- paragraph -->
	<text x='250' y='142' text-anchor='middle' font-size='12pt' fill='black' >align = :CENTER</text>
	<text x='250' y='156' text-anchor='middle' font-size='12pt' fill='black' >valign = :TOP</text>
	<!-- circle -->
	<circle cx='250' cy='130' r='3' fill='red' stroke='none' stroke-width='1' />
	<!-- paragraph -->
	<text x='160' y='142' text-anchor='end' font-size='12pt' fill='black' >align = :RIGHT</text>
	<text x='160' y='156' text-anchor='end' font-size='12pt' fill='black' >valign = :TOP</text>
	<!-- circle -->
	<circle cx='160' cy='130' r='3' fill='red' stroke='none' stroke-width='1' />
	<!-- paragraph -->
	<text x='340' y='142' text-anchor='start' font-size='12pt' fill='black' >align = :LEFT</text>
	<text x='340' y='156' text-anchor='start' font-size='12pt' fill='black' >valign = :TOP</text>
	<!-- circle -->
	<circle cx='340' cy='130' r='3' fill='red' stroke='none' stroke-width='1' />

</svg>
</div>

<p class='fig_title'><a name='4qhyBjYZYlG'></a>Figure.4-8 パラグラフの position とアライメント指定の関係</p>
<p>　　</p>
<h3><a name='e7hkC2YUaKe'></a>4.3 テキストボックス</h3>
<p>　<a class='autolink' href='#e7hkC2YUaKe'>テキストボックス</a>は、<a href='#kJonRG8GtHF'>四角形</a> と <a href='#4WyMTv59pvw'>パラグラフ</a> を組み合わせたようなものです。テキストからサイズを自動決定しますが、明示的にボックスのサイズを指定することも可能です。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='200' height='100'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- textbox -->
	<rect x='47.100002' y='27' width='105.799995' height='46' rx='10' ry='10' fill='white' stroke='black' stroke-width='1' />
	<text x='100.0' y='49' text-anchor='middle' font-size='12pt' fill='black' >test text.</text>
	<text x='100.0' y='63' text-anchor='middle' font-size='12pt' fill='black' >multi line.</text>

</svg>
</div>

<p class='fig_title'><a name='4NTtjXsX7EZ'></a>Figure.4-9 テキストボックスのサンプル</p>
<details>
<summary>　※上記サンプルのソースはこちら。</summary>
<pre class='code'>
(diagram (200 100)
  (grid)
  (textbox '(100 50) <span class='literal'>"test text.~%multi line."</span>
                     <span class='keyword3'>:rx</span> 10 <span class='keyword3'>:ry</span> 10 <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span> <span class='keyword3'>:fill</span> <span class='keyword3'>:white</span>))
</pre>
</details>
<p>　<a class='autolink' href='#e7hkC2YUaKe'>textbox</a> のパラメータ構成は以下の通りです。</p>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>textbox</span> (center text <span class='keyword2'>&amp;key</span> width height no-frame rx ry
                                    align valign margin font fill stroke
                                    link rotate layer id filter contents) ...)
</pre>
<p>　　</p>
<p class='tbl_title'><a name='hOloecoUbQv'></a>Table.4-3 textbox のパラメータ</p>
<table align='center'>
<tr style="font-size: 14;"><th>パラメータ</th><th>説明</th></tr>
<tr style="font-size: 14;"><td nowrap align='left'>center</td><td align='left'>中心点を指定します。詳細は「<a href='#h1RNMQY1C0b'>6  座標と位置</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><a class='autolink' href='#cTdCvBeU6ZJ'>text</a></td><td align='left'>内部に描画するテキストを文字列で指定します。改行は "~%" で表現します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>width</td><td align='left'>幅を自動決定せず、明示的に指定したい場合に数値で指定します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>height</td><td align='left'>高さを自動決定せず、明示的に指定したい場合に数値で指定します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>no-frame</td><td align='left'>ボックスを描画せず、テキストのみにしたい場合には <code>:no-frame t</code> と指定してください。<br>stroke や fill パラメータを無視してテキストのみを描画します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>rx, ry</td><td align='left'>角を丸くしたい場合に、角の x 半径と y 半径を数値で指定します。<br>rx と ry のどちらかだけを指定すると、もう一方も同じであると見なされます。<br>省略した場合のデフォルト値は 0（つまり角を丸くしない）です。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>align</td><td align='left'>テキストの水平方向のアライメントを <code>:left :center :right</code> のいずれかで指定します。<br>省略した場合のデフォルト値は <code>:center</code> です。詳細は後述します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>vlign</td><td align='left'>テキストの垂直方向のアライメントを <code>:top :center :bottom</code> のいずれかで指定します。<br>省略した場合のデフォルト値は <code>:center</code> です。詳細は後述します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>margin</td><td align='left'>テキスト描画における「余白」のサイズです。ボックスの幅と高さを自動計算する際にも<br>使用されます。省略した場合のデフォルト値は 10 です。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>font</td><td align='left'><a class='autolink' href='#3kZ9FkounyK'>フォント</a>を指定します。詳細は「<a href='#3kZ9FkounyK'>10.4  フォント</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>fill</td><td align='left'>内部の塗り潰しを指定します。詳細は「<a href='#dBUd7L4C3dx'>10.3  フィル</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>stroke</td><td align='left'>外枠を描画する線を指定します。詳細は「<a href='#4HFjqmTuIU6'>10.2  ストローク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>link</td><td align='left'>リンクにする場合、リンク先を指定します。詳細は「<a href='#fbLcMRTVXac'>10.9  リンク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>rotate</td><td align='left'>回転させたい場合に、その角度を指定します。<br>詳細は「<a href='#heEi5Lc5BX9'>10.6  回転</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>layer</td><td align='left'>レイヤーに所属させる場合、その名前をキーワードで指定します。<br>詳細は「<a href='#1ovJxG7Ie9O'>10.8  レイヤー</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>id</td><td align='left'>ID を付与したい場合、その名前をキーワードで指定します。<br>詳細は「<a href='#iu9Ovm00KHn'>10.5  IDと参照</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>filter</td><td align='left'>ボックスの描画に<a class='autolink' href='#gPGlqSbIfdL'>フィルタ</a>効果を適用したい場合、その名前を指定します。<br>詳細は「<a href='#gPGlqSbIfdL'>10.7  フィルタ</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>contents</td><td align='left'>内部を<a class='autolink' href='#kgs1vf3AbTN'>サブキャンバス</a>とした描画をしたい場合、その内容を指定します。<br>詳細は「<a href='#kgs1vf3AbTN'>7  サブキャンバス</a>」を参照してください。</td></tr>
</table>
<p>　　</p>
<p>　align, valign の関係を以下に示します。以下のように、<a class='autolink' href='#e7hkC2YUaKe'>テキストボックス</a>の内部で水平方向、および垂直方向にそれぞれどう寄せるかが変化します。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='550' height='220'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- textbox -->
	<rect x='190' y='10' width='170' height='60' fill='white' stroke='black' stroke-width='1' />
	<text x='275' y='46' text-anchor='middle' font-size='12pt' fill='black' >align = :CENTER</text>
	<text x='275' y='60' text-anchor='middle' font-size='12pt' fill='black' >valign = :BOTTOM</text>
	<!-- textbox -->
	<rect x='10' y='10' width='170' height='60' fill='white' stroke='black' stroke-width='1' />
	<text x='170' y='46' text-anchor='end' font-size='12pt' fill='black' >align = :RIGHT</text>
	<text x='170' y='60' text-anchor='end' font-size='12pt' fill='black' >valign = :BOTTOM</text>
	<!-- textbox -->
	<rect x='370' y='10' width='170' height='60' fill='white' stroke='black' stroke-width='1' />
	<text x='380' y='46' text-anchor='start' font-size='12pt' fill='black' >align = :LEFT</text>
	<text x='380' y='60' text-anchor='start' font-size='12pt' fill='black' >valign = :BOTTOM</text>
	<!-- textbox -->
	<rect x='190' y='80' width='170' height='60' fill='white' stroke='black' stroke-width='1' />
	<text x='275' y='109' text-anchor='middle' font-size='12pt' fill='black' >align = :CENTER</text>
	<text x='275' y='123' text-anchor='middle' font-size='12pt' fill='black' >valign = :CENTER</text>
	<!-- textbox -->
	<rect x='10' y='80' width='170' height='60' fill='white' stroke='black' stroke-width='1' />
	<text x='170' y='109' text-anchor='end' font-size='12pt' fill='black' >align = :RIGHT</text>
	<text x='170' y='123' text-anchor='end' font-size='12pt' fill='black' >valign = :CENTER</text>
	<!-- textbox -->
	<rect x='370' y='80' width='170' height='60' fill='white' stroke='black' stroke-width='1' />
	<text x='380' y='109' text-anchor='start' font-size='12pt' fill='black' >align = :LEFT</text>
	<text x='380' y='123' text-anchor='start' font-size='12pt' fill='black' >valign = :CENTER</text>
	<!-- textbox -->
	<rect x='190' y='150' width='170' height='60' fill='white' stroke='black' stroke-width='1' />
	<text x='275' y='172' text-anchor='middle' font-size='12pt' fill='black' >align = :CENTER</text>
	<text x='275' y='186' text-anchor='middle' font-size='12pt' fill='black' >valign = :TOP</text>
	<!-- textbox -->
	<rect x='10' y='150' width='170' height='60' fill='white' stroke='black' stroke-width='1' />
	<text x='170' y='172' text-anchor='end' font-size='12pt' fill='black' >align = :RIGHT</text>
	<text x='170' y='186' text-anchor='end' font-size='12pt' fill='black' >valign = :TOP</text>
	<!-- textbox -->
	<rect x='370' y='150' width='170' height='60' fill='white' stroke='black' stroke-width='1' />
	<text x='380' y='172' text-anchor='start' font-size='12pt' fill='black' >align = :LEFT</text>
	<text x='380' y='186' text-anchor='start' font-size='12pt' fill='black' >valign = :TOP</text>

</svg>
</div>

<p class='fig_title'><a name='96V371pW4hW'></a>Figure.4-10 テキストボックスにおける align と valign</p>
<p>　　</p>
<p>　図の中で<a class='autolink' href='#e7hkC2YUaKe'>テキストボックス</a>のスタイルを統一する作業を簡単にするために、<a class='autolink' href='#2XsIFr1er3s'>with-textbox-options</a> が用意されています。　これを以下のように使用することで、複数の<a class='autolink' href='#e7hkC2YUaKe'>テキストボックス</a>のスタイルを一箇所で指定することができます。</p>
<pre class='code'>
(diagram (200 100)
  (grid)
  (with-textbox-options (<span class='keyword3'>:rx</span> 5 <span class='keyword3'>:ry</span> 5 <span class='keyword3'>:stroke</span> <span class='keyword3'>:navy</span> <span class='keyword3'>:fill</span> <span class='keyword3'>:azure</span>)
    (textbox '( 50 50) <span class='literal'>"first~%textbox"</span>)
    (textbox '(150 50) <span class='literal'>"second~%textbox"</span>)))
</pre>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='200' height='100'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- textbox -->
	<rect x='12.700001' y='27' width='74.6' height='46' rx='5' ry='5' fill='azure' stroke='navy' stroke-width='1' />
	<text x='50.0' y='49' text-anchor='middle' font-size='12pt' fill='black' >first</text>
	<text x='50.0' y='63' text-anchor='middle' font-size='12pt' fill='black' >textbox</text>
	<!-- textbox -->
	<rect x='112.7' y='27' width='74.6' height='46' rx='5' ry='5' fill='azure' stroke='navy' stroke-width='1' />
	<text x='150.0' y='49' text-anchor='middle' font-size='12pt' fill='black' >second</text>
	<text x='150.0' y='63' text-anchor='middle' font-size='12pt' fill='black' >textbox</text>

</svg>
</div>

<p class='fig_title'><a name='fIT9kBEu2gr'></a>Figure.4-11 with-textbox-options のサンプル</p>
<h3><a name='jRjILbbJATV'></a>4.4 ドキュメント</h3>
<p>　<a class='autolink' href='#jRjILbbJATV'>ドキュメント</a>は、<a class='autolink' href='#e7hkC2YUaKe'>テキストボックス</a>と良く似ていますが、ボックスのかわりに<a class='autolink' href='#jRjILbbJATV'>ドキュメント</a>の形が描画されます。<a class='autolink' href='#e7hkC2YUaKe'>テキストボックス</a>とは異なり、サイズは自動計算されないため、幅と高さを指定する必要があります。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='200' height='100'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- document -->
	<path fill='skyblue' stroke='navy' stroke-width='1' d='M 50 15 L 50 85 A 33.333332 23.333334 0 0 0 100 85 A 33.333332 23.333334 1 0 1 150 85 L 150 15 Z' />
	<text x='100' y='49' text-anchor='middle' font-size='12pt' fill='black' >document</text>
	<text x='100' y='63' text-anchor='middle' font-size='12pt' fill='black' >name</text>

</svg>
</div>

<p class='fig_title'><a name='dvJBi2mFjs2'></a>Figure.4-12 ドキュメントのサンプル</p>
<details>
<summary>　※上記サンプルのソースはこちら。</summary>
<pre class='code'>
(diagram (200 100)
  (grid)
  (document '(100 50) 100 70 <span class='literal'>"document~%name"</span>
                    <span class='keyword3'>:stroke</span> <span class='keyword3'>:navy</span> <span class='keyword3'>:fill</span> <span class='keyword3'>:skyblue</span>))
</pre>
</details>
<p>　<a class='autolink' href='#jRjILbbJATV'>document</a> のパラメータ構成は以下の通りです。</p>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>document</span> (center width height text
                    <span class='keyword2'>&amp;key</span> depth align valign margin
                         font fill stroke link rotate layer id filter contents) ...)
</pre>
<p>　　</p>
<p class='tbl_title'><a name='ig97hVZRe7F'></a>Table.4-4 document のパラメータ</p>
<table align='center'>
<tr style="font-size: 14;"><th>パラメータ</th><th>説明</th></tr>
<tr style="font-size: 14;"><td nowrap align='left'>center</td><td align='left'>中心点を指定します。詳細は「<a href='#h1RNMQY1C0b'>6  座標と位置</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>width</td><td align='left'>幅を数値で指定します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>height</td><td align='left'>高さを数値で指定します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><a class='autolink' href='#cTdCvBeU6ZJ'>text</a></td><td align='left'>内部に描画するテキストを文字列で指定します。改行は "~%" で表現します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>depth</td><td align='left'>下部の曲線の深さを指定します。省略した場合のデフォルト値は height の 1/3 です。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>align</td><td align='left'>テキストの水平方向のアライメントを <code>:left :center :right</code> のいずれかで指定します。<br>省略した場合のデフォルト値は <code>:center</code> です。詳細は後述します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>vlign</td><td align='left'>テキストの垂直方向のアライメントを <code>:top :center :bottom</code> のいずれかで指定します。<br>省略した場合のデフォルト値は <code>:center</code> です。詳細は後述します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>margin</td><td align='left'>テキスト描画における「余白」のサイズです。省略した場合のデフォルト値は 10 です。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>font</td><td align='left'><a class='autolink' href='#3kZ9FkounyK'>フォント</a>を指定します。詳細は「<a href='#3kZ9FkounyK'>10.4  フォント</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>fill</td><td align='left'>内部の塗り潰しを指定します。詳細は「<a href='#dBUd7L4C3dx'>10.3  フィル</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>stroke</td><td align='left'>外枠を描画する線を指定します。詳細は「<a href='#4HFjqmTuIU6'>10.2  ストローク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>link</td><td align='left'>リンクにする場合、リンク先を指定します。詳細は「<a href='#fbLcMRTVXac'>10.9  リンク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>rotate</td><td align='left'>回転させたい場合に、その角度を指定します。<br>詳細は「<a href='#heEi5Lc5BX9'>10.6  回転</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>layer</td><td align='left'>レイヤーに所属させる場合、その名前をキーワードで指定します。<br>詳細は「<a href='#1ovJxG7Ie9O'>10.8  レイヤー</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>id</td><td align='left'>ID を付与したい場合、その名前をキーワードで指定します。<br>詳細は「<a href='#iu9Ovm00KHn'>10.5  IDと参照</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>filter</td><td align='left'><a class='autolink' href='#gPGlqSbIfdL'>フィルタ</a>効果を適用したい場合、その名前を指定します。<br>詳細は「<a href='#gPGlqSbIfdL'>10.7  フィルタ</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>contents</td><td align='left'>内部を<a class='autolink' href='#kgs1vf3AbTN'>サブキャンバス</a>とした描画をしたい場合、その内容を指定します。<br>詳細は「<a href='#kgs1vf3AbTN'>7  サブキャンバス</a>」を参照してください。</td></tr>
</table>
<p>　　</p>
<p>　図の中で<a class='autolink' href='#jRjILbbJATV'>ドキュメント</a>のスタイルを統一する作業を簡単にするために、<a class='autolink' href='#0axtDA7gRzz'>with-document-options</a> が用意されています。これを以下のように使用することで、複数の<a class='autolink' href='#jRjILbbJATV'>ドキュメント</a>のスタイルを一箇所で指定することができます。</p>
<pre class='code'>
(diagram (240 100)
  (grid)
  (drop-shadow)
  (with-document-options (<span class='keyword3'>:stroke</span> <span class='keyword3'>:darkgreen</span> <span class='keyword3'>:fill</span> <span class='keyword3'>:mintcream</span> <span class='keyword3'>:filter</span> <span class='keyword3'>:drop-shadow</span>)
    (document '( 60 50) 100 70 <span class='literal'>"first~%document"</span>)
    (document '(180 50) 100 70 <span class='literal'>"second~%document"</span>)))
</pre>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='240' height='100'>
	
	<filter id='drop-shadow'>
		<feColorMatrix type='matrix' values=' 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0' />
		<feGaussianBlur stdDeviation='2' result='blur' />
		<feOffset in='blur' dx='4' dy='4' result='offsetBlur' />
		<feMerge>
			<feMergeNode in='offsetBlur' />
			<feMergeNode in='SourceGraphic'/>
		</feMerge>
	</filter>
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- document -->
	<path fill='mintcream' stroke='darkgreen' stroke-width='1' d='M 10 15 L 10 85 A 33.333332 23.333334 0 0 0 60 85 A 33.333332 23.333334 1 0 1 110 85 L 110 15 Z' filter='url(#drop-shadow)' />
	<text x='60' y='49' text-anchor='middle' font-size='12pt' fill='black' >first</text>
	<text x='60' y='63' text-anchor='middle' font-size='12pt' fill='black' >document</text>
	<!-- document -->
	<path fill='mintcream' stroke='darkgreen' stroke-width='1' d='M 130 15 L 130 85 A 33.333332 23.333334 0 0 0 180 85 A 33.333332 23.333334 1 0 1 230 85 L 230 15 Z' filter='url(#drop-shadow)' />
	<text x='180' y='49' text-anchor='middle' font-size='12pt' fill='black' >second</text>
	<text x='180' y='63' text-anchor='middle' font-size='12pt' fill='black' >document</text>

</svg>
</div>

<p class='fig_title'><a name='47EMqNZNXWt'></a>Figure.4-13 with-document-options のサンプル</p>
<h3><a name='5ZT843xJDiq'></a>4.5 フォルダ</h3>
<p>　<a class='autolink' href='#5ZT843xJDiq'>フォルダ</a>は、<a class='autolink' href='#e7hkC2YUaKe'>テキストボックス</a>と良く似ていますが、ボックスのかわりに<a class='autolink' href='#5ZT843xJDiq'>フォルダ</a>の形が描画されます。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='200' height='100'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- folder -->
	<polygon fill='cornsilk' stroke='darkkhaki' stroke-width='1' points='50.0,20.0 50.0,80.0 150.0,80.0 150.0,30.0 140.0,20.0 100.0,20.0 90.0,10.0 60.0,10.0 50.0,20.0' />
	<polygon fill='cornsilk' stroke='darkkhaki' stroke-width='1' points='50.0,20.0 60.0,30.0 90.0,30.0 100.0,20.0 90.0,10.0 60.0,10.0 50.0,20.0' />
	<text x='100' y='49' text-anchor='middle' font-size='12pt' fill='black' >folder.</text>
	<text x='100' y='63' text-anchor='middle' font-size='12pt' fill='black' >multi line.</text>

</svg>
</div>

<p class='fig_title'><a name='bB2F9DVM9ic'></a>Figure.4-14 フォルダのサンプル</p>
<details>
<summary>　※上記サンプルのソースはこちら。</summary>
<pre class='code'>
(diagram (200 100)
  (grid)
  (folder '(100 50) <span class='literal'>"folder.~%multi line."</span>
                    <span class='keyword3'>:width</span> 100 <span class='keyword3'>:height</span> 60
                    <span class='keyword3'>:stroke</span> <span class='keyword3'>:darkkhaki</span> <span class='keyword3'>:fill</span> <span class='keyword3'>:cornsilk</span>))
</pre>
</details>
<p>　<a class='autolink' href='#5ZT843xJDiq'>folder</a> のパラメータ構成は以下の通りです。</p>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>folder</span> (center text <span class='keyword2'>&amp;key</span> width height tab-width tab-height
                                   align valign font fill stroke
                                   margin link rotate layer filter id contents) ...)
</pre>
<p>　　</p>
<p class='tbl_title'><a name='kkE7bE1pYOq'></a>Table.4-5 folder のパラメータ</p>
<table align='center'>
<tr style="font-size: 14;"><th>パラメータ</th><th>説明</th></tr>
<tr style="font-size: 14;"><td nowrap align='left'>center</td><td align='left'>中心点を指定します。詳細は「<a href='#h1RNMQY1C0b'>6  座標と位置</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><a class='autolink' href='#cTdCvBeU6ZJ'>text</a></td><td align='left'>内部に描画するテキストを文字列で指定します。改行は "~%" で表現します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>width</td><td align='left'>幅を自動決定せず、明示的に指定したい場合に数値で指定します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>height</td><td align='left'>高さを自動決定せず、明示的に指定したい場合に数値で指定します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>tab-width</td><td align='left'>左上に描画されるタブ部分の幅を指定します。省略した場合のデフォルト値は 50 です。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>tab-height</td><td align='left'>左上に描画されるタブ部分の高さを指定します。省略した場合のデフォルト値は 20 です。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>align</td><td align='left'>テキストの水平方向のアライメントを <code>:left :center :right</code> のいずれかで指定します。<br>省略した場合のデフォルト値は <code>:center</code> です。詳細は後述します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>vlign</td><td align='left'>テキストの垂直方向のアライメントを <code>:top :center :bottom</code> のいずれかで指定します。<br>省略した場合のデフォルト値は <code>:center</code> です。詳細は後述します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>font</td><td align='left'><a class='autolink' href='#3kZ9FkounyK'>フォント</a>を指定します。詳細は「<a href='#3kZ9FkounyK'>10.4  フォント</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>fill</td><td align='left'>内部の塗り潰しを指定します。詳細は「<a href='#dBUd7L4C3dx'>10.3  フィル</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>stroke</td><td align='left'>外枠を描画する線を指定します。詳細は「<a href='#4HFjqmTuIU6'>10.2  ストローク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>margin</td><td align='left'>テキスト描画における「余白」のサイズです。省略した場合のデフォルト値は 10 です。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>link</td><td align='left'>リンクにする場合、リンク先を指定します。詳細は「<a href='#fbLcMRTVXac'>10.9  リンク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>rotate</td><td align='left'>回転させたい場合に、その角度を指定します。<br>詳細は「<a href='#heEi5Lc5BX9'>10.6  回転</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>layer</td><td align='left'>レイヤーに所属させる場合、その名前をキーワードで指定します。<br>詳細は「<a href='#1ovJxG7Ie9O'>10.8  レイヤー</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>id</td><td align='left'>ID を付与したい場合、その名前をキーワードで指定します。<br>詳細は「<a href='#iu9Ovm00KHn'>10.5  IDと参照</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>filter</td><td align='left'><a class='autolink' href='#gPGlqSbIfdL'>フィルタ</a>効果を適用したい場合、その名前を指定します。<br>詳細は「<a href='#gPGlqSbIfdL'>10.7  フィルタ</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>contents</td><td align='left'>内部を<a class='autolink' href='#kgs1vf3AbTN'>サブキャンバス</a>とした描画をしたい場合、その内容を指定します。<br>詳細は「<a href='#kgs1vf3AbTN'>7  サブキャンバス</a>」を参照してください。</td></tr>
</table>
<p>　　</p>
<p>　図の中で<a class='autolink' href='#5ZT843xJDiq'>フォルダ</a>のスタイルを統一する作業を簡単にするために、<a class='autolink' href='#grfAvoJdCpJ'>with-folder-options</a> が用意されています。これを以下のように使用することで、複数の<a class='autolink' href='#5ZT843xJDiq'>フォルダ</a>のスタイルを一箇所で指定することができます。</p>
<pre class='code'>
(diagram (240 100)
  (grid)
  (drop-shadow)
  (with-folder-options (<span class='keyword3'>:stroke</span> <span class='keyword3'>:maroon</span> <span class='keyword3'>:fill</span> <span class='keyword3'>:linen</span> <span class='keyword3'>:filter</span> <span class='keyword3'>:drop-shadow</span>)
    (folder '( 60 50) <span class='literal'>"first~%folder"</span>  <span class='keyword3'>:width</span> 100 <span class='keyword3'>:height</span> 70)
    (folder '(180 50) <span class='literal'>"second~%folder"</span> <span class='keyword3'>:width</span> 100 <span class='keyword3'>:height</span> 70)))
</pre>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='240' height='100'>
	
	<filter id='drop-shadow'>
		<feColorMatrix type='matrix' values=' 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0' />
		<feGaussianBlur stdDeviation='2' result='blur' />
		<feOffset in='blur' dx='4' dy='4' result='offsetBlur' />
		<feMerge>
			<feMergeNode in='offsetBlur' />
			<feMergeNode in='SourceGraphic'/>
		</feMerge>
	</filter>
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- folder -->
	<polygon fill='linen' stroke='maroon' stroke-width='1' points='10.0,15.0 10.0,85.0 110.0,85.0 110.0,25.0 100.0,15.0 60.0,15.0 50.0,5.0 20.0,5.0 10.0,15.0' filter='url(#drop-shadow)' />
	<polygon fill='linen' stroke='maroon' stroke-width='1' points='10.0,15.0 20.0,25.0 50.0,25.0 60.0,15.0 50.0,5.0 20.0,5.0 10.0,15.0' />
	<text x='60' y='49' text-anchor='middle' font-size='12pt' fill='black' >first</text>
	<text x='60' y='63' text-anchor='middle' font-size='12pt' fill='black' >folder</text>
	<!-- folder -->
	<polygon fill='linen' stroke='maroon' stroke-width='1' points='130.0,15.0 130.0,85.0 230.0,85.0 230.0,25.0 220.0,15.0 180.0,15.0 170.0,5.0 140.0,5.0 130.0,15.0' filter='url(#drop-shadow)' />
	<polygon fill='linen' stroke='maroon' stroke-width='1' points='130.0,15.0 140.0,25.0 170.0,25.0 180.0,15.0 170.0,5.0 140.0,5.0 130.0,15.0' />
	<text x='180' y='49' text-anchor='middle' font-size='12pt' fill='black' >second</text>
	<text x='180' y='63' text-anchor='middle' font-size='12pt' fill='black' >folder</text>

</svg>
</div>

<p class='fig_title'><a name='0MavWGofA5A'></a>Figure.4-15 with-folder-options のサンプル</p>
<h3><a name='03WwbeGq0eH'></a>4.6 人物</h3>
<p>　<a class='autolink' href='#03WwbeGq0eH'>person</a> を使うと、<a class='autolink' href='#03WwbeGq0eH'>人物</a>の形を描画することができます。縦横比は一定のため座標とサイズを指定する必要があり、ラベルを添えることができます。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='200' height='120'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- person -->
	<path fill='oldlace' stroke='brown' stroke-width='1' d='M 30 90 A 20 40 0 1 1 70 90 L 30 90 M 50 50 A 20 20 0 0 1 50 10 A 20 20 0 0 1 50 50' />
	<text x='50' y='104' text-anchor='middle' font-size='12pt' fill='black' >sales</text>
	<!-- person -->
	<path fill='oldlace' stroke='brown' stroke-width='1' d='M 130 90 A 20 40 0 1 1 170 90 L 130 90 M 150 50 A 20 20 0 0 1 150 10 A 20 20 0 0 1 150 50' />
	<text x='150' y='104' text-anchor='middle' font-size='12pt' fill='black' >engineer</text>

</svg>
</div>

<p class='fig_title'><a name='hhPIA8JVdPh'></a>Figure.4-16 人物のサンプル</p>
<details>
<summary>　※上記サンプルのソースはこちら。</summary>
<pre class='code'>
(diagram (200 120)
  (grid)
  (person '( 50 50) 40 <span class='keyword3'>:fill</span> <span class='keyword3'>:oldlace</span> <span class='keyword3'>:stroke</span> <span class='keyword3'>:brown</span> <span class='keyword3'>:label</span> <span class='keyword3'>:sales</span>)
  (person '(150 50) 40 <span class='keyword3'>:fill</span> <span class='keyword3'>:oldlace</span> <span class='keyword3'>:stroke</span> <span class='keyword3'>:brown</span> <span class='keyword3'>:label</span> <span class='keyword3'>:engineer</span>))
</pre>
</details>
<p>　<a class='autolink' href='#03WwbeGq0eH'>person</a> のパラメータ構成は以下の通りです。</p>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>person</span> (center size <span class='keyword2'>&amp;key</span> fill stroke label
                                   link rotate layer filter id) ...)
</pre>
<p>　　</p>
<p class='tbl_title'><a name='8zip6mgb4Ep'></a>Table.4-6 person のパラメータ</p>
<table align='center'>
<tr style="font-size: 14;"><th>パラメータ</th><th>説明</th></tr>
<tr style="font-size: 14;"><td nowrap align='left'>center</td><td align='left'>中心点を指定します。詳細は「<a href='#h1RNMQY1C0b'>6  座標と位置</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>size</td><td align='left'>幅を数値で指定します。高さは自動的にこの 2 倍になります。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>fill</td><td align='left'>内部の塗り潰しを指定します。詳細は「<a href='#dBUd7L4C3dx'>10.3  フィル</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>stroke</td><td align='left'>外枠を描画する線を指定します。詳細は「<a href='#4HFjqmTuIU6'>10.2  ストローク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>label</td><td align='left'>ラベルを付ける場合は指定します。詳細は「<a href='#lpCVEZ9kMoP'>10.11  ラベル</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>link</td><td align='left'>リンクにする場合、リンク先を指定します。詳細は「<a href='#fbLcMRTVXac'>10.9  リンク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>rotate</td><td align='left'>回転させたい場合に、その角度を指定します。<br>詳細は「<a href='#heEi5Lc5BX9'>10.6  回転</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>layer</td><td align='left'>レイヤーに所属させる場合、その名前をキーワードで指定します。<br>詳細は「<a href='#1ovJxG7Ie9O'>10.8  レイヤー</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>filter</td><td align='left'><a class='autolink' href='#gPGlqSbIfdL'>フィルタ</a>効果を適用したい場合、その名前を指定します。<br>詳細は「<a href='#gPGlqSbIfdL'>10.7  フィルタ</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>id</td><td align='left'>ID を付与したい場合、その名前をキーワードで指定します。<br>詳細は「<a href='#iu9Ovm00KHn'>10.5  IDと参照</a>」を参照してください。</td></tr>
</table>
<p>　　</p>
<p>　図の中で<a class='autolink' href='#03WwbeGq0eH'>人物</a>のスタイルを統一する作業を簡単にするために、<a class='autolink' href='#0B9bMaXVpqW'>with-person-options</a> が用意されています。これを以下のように使用することで、複数の<a class='autolink' href='#03WwbeGq0eH'>人物</a>のスタイルを一箇所で指定することができます。</p>
<pre class='code'>
(diagram (200 100)
  (grid)
  (drop-shadow)
  (with-person-options (<span class='keyword3'>:filter</span> <span class='keyword3'>:drop-shadow</span>
                        <span class='keyword3'>:stroke</span> '(<span class='keyword3'>:color</span> <span class='keyword3'>:brown</span> <span class='keyword3'>:width</span> 2)
                        <span class='keyword3'>:fill</span>   '(<span class='keyword3'>:color</span> <span class='keyword3'>:wheat</span> <span class='keyword3'>:opacity</span> 0.5))
    (person '( 50 50) 40)
    (person '(150 50) 40)))
</pre>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='200' height='100'>
	
	<filter id='drop-shadow'>
		<feColorMatrix type='matrix' values=' 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0' />
		<feGaussianBlur stdDeviation='2' result='blur' />
		<feOffset in='blur' dx='4' dy='4' result='offsetBlur' />
		<feMerge>
			<feMergeNode in='offsetBlur' />
			<feMergeNode in='SourceGraphic'/>
		</feMerge>
	</filter>
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- person -->
	<path fill='wheat' fill-opacity='0.5' stroke='brown' stroke-width='2' d='M 30 90 A 20 40 0 1 1 70 90 L 30 90 M 50 50 A 20 20 0 0 1 50 10 A 20 20 0 0 1 50 50' filter='url(#drop-shadow)' />
	<!-- person -->
	<path fill='wheat' fill-opacity='0.5' stroke='brown' stroke-width='2' d='M 130 90 A 20 40 0 1 1 170 90 L 130 90 M 150 50 A 20 20 0 0 1 150 10 A 20 20 0 0 1 150 50' filter='url(#drop-shadow)' />

</svg>
</div>

<p class='fig_title'><a name='lnnHMVYKIVe'></a>Figure.4-17 with-person-options のサンプル</p>
<h3><a name='5IHcv4bxjLU'></a>4.7 吹き出し</h3>
<p>　<a class='autolink' href='#5IHcv4bxjLU'>吹き出し</a><a class='autolink' href='#e7hkC2YUaKe'>テキストボックス</a>と良く似ていますが、指定した位置への引き出し線が描画されます。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='200' height='100'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- r : rectangle -->
	<rect id='r' x='15' y='55' width='30' height='30' fill='gray' stroke='black' stroke-width='1' />
	<!-- balloon -->
	<path fill='skyblue' stroke='navy' stroke-width='1' d='M 79.3 27 L 180.7 27 A 10 10 1 0 1 190.7 37 L 190.7 63 A 10 10 1 0 1 180.7 73 L 79.3 73 A 10 10 1 0 1 69.3 63 L 45.0 70 L 69.3 50 L 69.3 37 A 10 10 1 0 1 79.3 27 Z' />
	<text x='130.0' y='49' text-anchor='middle' font-size='12pt' fill='black' >balloon text.</text>
	<text x='130.0' y='63' text-anchor='middle' font-size='12pt' fill='black' >multi line.</text>

</svg>
</div>

<p class='fig_title'><a name='bnZSVtbTzuH'></a>Figure.4-18 吹き出しのサンプル</p>
<details>
<summary>　※上記サンプルのソースはこちら。</summary>
<pre class='code'>
(diagram (200 100)
  (grid)
  (rect '(30 70) 30 30 <span class='keyword3'>:fill</span> <span class='keyword3'>:gray</span> <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span> <span class='keyword3'>:id</span> <span class='keyword3'>:r</span>)
  (balloon '(130 50) <span class='literal'>"balloon text.~%multi line."</span> r.right
                                   <span class='keyword3'>:fill</span> <span class='keyword3'>:skyblue</span> <span class='keyword3'>:stroke</span> <span class='keyword3'>:navy</span>))
</pre>
</details>
<p>　<a class='autolink' href='#5IHcv4bxjLU'>balloon</a> のパラメータ構成は以下の通りです。</p>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>balloon</span> (center text anchor <span class='keyword2'>&amp;key</span> width height round
                                           align valign margin
                                           font fill stroke link
                                           rotate layer id filter contents) ...)
</pre>
<p>　　</p>
<p class='tbl_title'><a name='g0CYyIsKwua'></a>Table.4-7 balloon のパラメータ</p>
<table align='center'>
<tr style="font-size: 14;"><th>パラメータ</th><th>説明</th></tr>
<tr style="font-size: 14;"><td nowrap align='left'>center</td><td align='left'>中心点を指定します。詳細は「<a href='#h1RNMQY1C0b'>6  座標と位置</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><a class='autolink' href='#cTdCvBeU6ZJ'>text</a></td><td align='left'>内部に描画するテキストを文字列で指定します。改行は "~%" で表現します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>anchor</td><td align='left'>引き出し線の位置を指定します。詳細は「<a href='#h1RNMQY1C0b'>6  座標と位置</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>width</td><td align='left'>幅を自動決定せず、明示的に指定したい場合に数値で指定します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>height</td><td align='left'>高さを自動決定せず、明示的に指定したい場合に数値で指定します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>round</td><td align='left'>角を丸くしたい場合に、角の半径を数値で指定します。<br>省略した場合のデフォルト値は 0（つまり角を丸くしない）です。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>align</td><td align='left'>テキストの水平方向のアライメントを <code>:left :center :right</code> のいずれかで指定します。<br>省略した場合のデフォルト値は <code>:center</code> です。詳細は後述します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>vlign</td><td align='left'>テキストの垂直方向のアライメントを <code>:top :center :bottom</code> のいずれかで指定します。<br>省略した場合のデフォルト値は <code>:center</code> です。詳細は後述します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>margin</td><td align='left'>テキスト描画における「余白」のサイズです。省略した場合のデフォルト値は 10 です。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>font</td><td align='left'><a class='autolink' href='#3kZ9FkounyK'>フォント</a>を指定します。詳細は「<a href='#3kZ9FkounyK'>10.4  フォント</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>fill</td><td align='left'>内部の塗り潰しを指定します。詳細は「<a href='#dBUd7L4C3dx'>10.3  フィル</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>stroke</td><td align='left'>外枠を描画する線を指定します。詳細は「<a href='#4HFjqmTuIU6'>10.2  ストローク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>link</td><td align='left'>リンクにする場合、リンク先を指定します。詳細は「<a href='#fbLcMRTVXac'>10.9  リンク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>rotate</td><td align='left'>全体を回転させたい場合に、その角度を指定します。<br>詳細は「<a href='#heEi5Lc5BX9'>10.6  回転</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>layer</td><td align='left'>レイヤーに所属させる場合、その名前をキーワードで指定します。<br>詳細は「<a href='#1ovJxG7Ie9O'>10.8  レイヤー</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>id</td><td align='left'>ID を付与したい場合、その名前をキーワードで指定します。<br>詳細は「<a href='#iu9Ovm00KHn'>10.5  IDと参照</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>filter</td><td align='left'><a class='autolink' href='#gPGlqSbIfdL'>フィルタ</a>効果を適用したい場合、その名前を指定します。<br>詳細は「<a href='#gPGlqSbIfdL'>10.7  フィルタ</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>contents</td><td align='left'>内部を<a class='autolink' href='#kgs1vf3AbTN'>サブキャンバス</a>とした描画をしたい場合、その内容を指定します。<br>詳細は「<a href='#kgs1vf3AbTN'>7  サブキャンバス</a>」を参照してください。</td></tr>
</table>
<p>　　</p>
<p>　図の中で<a class='autolink' href='#5IHcv4bxjLU'>吹き出し</a>のスタイルを統一する作業を簡単にするために、<a class='autolink' href='#7WY0qIioOWV'>with-balloon-options</a> が用意されています。これを以下のように使用することで、複数の<a class='autolink' href='#5IHcv4bxjLU'>吹き出し</a>のスタイルを一箇所で指定することができます。</p>
<pre class='code'>
(diagram (300 100)
  (grid)
  (drop-shadow)
  (with-balloon-options (<span class='keyword3'>:stroke</span> <span class='keyword3'>:olive</span> <span class='keyword3'>:fill</span> <span class='keyword3'>:lemonchiffon</span> <span class='keyword3'>:filter</span> <span class='keyword3'>:drop-shadow</span>)
    (rect canvas.center 20 20 <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span> <span class='keyword3'>:fill</span> <span class='keyword3'>:white</span>)
    (balloon '( 60 60) <span class='literal'>"first~%balloon"</span>  $1.left  <span class='keyword3'>:width</span> 90)
    (balloon '(240 40) <span class='literal'>"second~%balloon"</span> $2.right <span class='keyword3'>:width</span> 90)))
</pre>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='300' height='100'>
	
	<filter id='drop-shadow'>
		<feColorMatrix type='matrix' values=' 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0' />
		<feGaussianBlur stdDeviation='2' result='blur' />
		<feOffset in='blur' dx='4' dy='4' result='offsetBlur' />
		<feMerge>
			<feMergeNode in='offsetBlur' />
			<feMergeNode in='SourceGraphic'/>
		</feMerge>
	</filter>
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- rectangle -->
	<rect x='140' y='40' width='20' height='20' fill='white' stroke='black' stroke-width='1' />
	<!-- balloon -->
	<path fill='lemonchiffon' stroke='olive' stroke-width='1' d='M 25 37 L 95 37 A 10 10 1 0 1 105 47 L 140 50 L 105 60 L 105 73 A 10 10 1 0 1 95 83 L 25 83 A 10 10 1 0 1 15 73 L 15 47 A 10 10 1 0 1 25 37 Z' filter='url(#drop-shadow)' />
	<text x='60' y='59' text-anchor='middle' font-size='12pt' fill='black' >first</text>
	<text x='60' y='73' text-anchor='middle' font-size='12pt' fill='black' >balloon</text>
	<!-- balloon -->
	<path fill='lemonchiffon' stroke='olive' stroke-width='1' d='M 205 17 L 275 17 A 10 10 1 0 1 285 27 L 285 53 A 10 10 1 0 1 275 63 L 205 63 A 10 10 1 0 1 195 53 L 160 50 L 195 40 L 195 27 A 10 10 1 0 1 205 17 Z' filter='url(#drop-shadow)' />
	<text x='240' y='39' text-anchor='middle' font-size='12pt' fill='black' >second</text>
	<text x='240' y='53' text-anchor='middle' font-size='12pt' fill='black' >balloon</text>

</svg>
</div>

<p class='fig_title'><a name='loJcJRs9CQ6'></a>Figure.4-19 with-balloon-options のサンプル</p>
<h3><a name='0AVJhEKnK1M'></a>4.8 メモ</h3>
<p>　<a class='autolink' href='#0AVJhEKnK1M'>メモ</a>は<a class='autolink' href='#e7hkC2YUaKe'>テキストボックス</a>と良く似ていますが、右下に折り目が描画されます。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='200' height='100'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- memo -->
	<polygon fill='lavenderblush' stroke='red' stroke-width='1' points='25.0,10.0 25.0,90.0 145.0,90.0 175.0,75.0 175.0,10.0 25.0,10.0' />
	<polygon fill='lightpink' stroke='red' stroke-width='1' stroke-linejoin='round' points='145.0,90.0 175.0,75.0 155.0,70.0 145.0,90.0' />
	<text x='35' y='32' text-anchor='start' font-size='12pt' fill='black' >memo text.</text>
	<text x='35' y='46' text-anchor='start' font-size='12pt' fill='black' >multi line.</text>

</svg>
</div>

<p class='fig_title'><a name='2VCrzOuGHtM'></a>Figure.4-20 メモのサンプル</p>
<details>
<summary>　※上記サンプルのソースはこちら。</summary>
<pre class='code'>
(diagram (200 100)
  (grid)
  (memo '(100 50) <span class='literal'>"memo text.~%multi line."</span> <span class='keyword3'>:width</span> 150 <span class='keyword3'>:height</span> 80
                  <span class='keyword3'>:crease</span> 30 <span class='keyword3'>:align</span> <span class='keyword3'>:left</span> <span class='keyword3'>:valign</span> <span class='keyword3'>:top</span> 
                  <span class='keyword3'>:fill</span> <span class='keyword3'>:lavenderblush</span> <span class='keyword3'>:fill2</span> <span class='keyword3'>:lightpink</span> <span class='keyword3'>:stroke</span> <span class='keyword3'>:red</span>))
</pre>
</details>
<p>　<a class='autolink' href='#0AVJhEKnK1M'>memo</a> のパラメータ構成は以下の通りです。</p>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>memo</span> (center text <span class='keyword2'>&amp;key</span> width height crease
                                 align valign margin
                                 font fill fill2 stroke link
                                 rotate layer id filter contents) ...)
</pre>
<p>　　</p>
<p class='tbl_title'><a name='3XY7LS565dW'></a>Table.4-8 memo のパラメータ</p>
<table align='center'>
<tr style="font-size: 14;"><th>パラメータ</th><th>説明</th></tr>
<tr style="font-size: 14;"><td nowrap align='left'>center</td><td align='left'>中心点を指定します。詳細は「<a href='#h1RNMQY1C0b'>6  座標と位置</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><a class='autolink' href='#cTdCvBeU6ZJ'>text</a></td><td align='left'>内部に描画するテキストを文字列で指定します。改行は "~%" で表現します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>width</td><td align='left'>幅を自動決定せず、明示的に指定したい場合に数値で指定します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>height</td><td align='left'>高さを自動決定せず、明示的に指定したい場合に数値で指定します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>crease</td><td align='left'>右下の折り目のサイズを数値で指定します。省略した場合のデフォルト値は 20 です。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>align</td><td align='left'>テキストの水平方向のアライメントを <code>:left :center :right</code> のいずれかで指定します。<br>省略した場合のデフォルト値は <code>:center</code> です。詳細は後述します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>vlign</td><td align='left'>テキストの垂直方向のアライメントを <code>:top :center :bottom</code> のいずれかで指定します。<br>省略した場合のデフォルト値は <code>:center</code> です。詳細は後述します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>margin</td><td align='left'>テキスト描画における「余白」のサイズです。省略した場合のデフォルト値は 10 です。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>font</td><td align='left'><a class='autolink' href='#3kZ9FkounyK'>フォント</a>を指定します。詳細は「<a href='#3kZ9FkounyK'>10.4  フォント</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>fill</td><td align='left'>内部の塗り潰しを指定します。詳細は「<a href='#dBUd7L4C3dx'>10.3  フィル</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>fill2</td><td align='left'>折り目部分の塗り潰しを指定します。詳細は「<a href='#dBUd7L4C3dx'>10.3  フィル</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>stroke</td><td align='left'>外枠を描画する線を指定します。詳細は「<a href='#4HFjqmTuIU6'>10.2  ストローク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>link</td><td align='left'>リンクにする場合、リンク先を指定します。詳細は「<a href='#fbLcMRTVXac'>10.9  リンク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>rotate</td><td align='left'>回転させたい場合に、その角度を指定します。<br>詳細は「<a href='#heEi5Lc5BX9'>10.6  回転</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>layer</td><td align='left'>レイヤーに所属させる場合、その名前をキーワードで指定します。<br>詳細は「<a href='#1ovJxG7Ie9O'>10.8  レイヤー</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>id</td><td align='left'>ID を付与したい場合、その名前をキーワードで指定します。<br>詳細は「<a href='#iu9Ovm00KHn'>10.5  IDと参照</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>filter</td><td align='left'><a class='autolink' href='#gPGlqSbIfdL'>フィルタ</a>効果を適用したい場合、その名前を指定します。<br>詳細は「<a href='#gPGlqSbIfdL'>10.7  フィルタ</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>contents</td><td align='left'><a class='autolink' href='#kgs1vf3AbTN'>サブキャンバス</a>とした描画をしたい場合、その内容を指定します。<br>詳細は「<a href='#kgs1vf3AbTN'>7  サブキャンバス</a>」を参照してください。</td></tr>
</table>
<p>　　</p>
<p>　図の中で<a class='autolink' href='#0AVJhEKnK1M'>メモ</a>のスタイルを統一する作業を簡単にするために、<a class='autolink' href='#0C8r7LcFb7c'>with-memo-options</a> が用意されています。これを以下のように使用することで、複数の<a class='autolink' href='#0AVJhEKnK1M'>メモ</a>のスタイルを一箇所で指定することができます。</p>
<pre class='code'>
(diagram (240 100)
  (grid)
  (drop-shadow)
  (with-memo-options (<span class='keyword3'>:stroke</span> <span class='keyword3'>:red</span> <span class='keyword3'>:fill</span> <span class='keyword3'>:lavenderblush</span>
                      <span class='keyword3'>:fill2</span> <span class='keyword3'>:lightpink</span> <span class='keyword3'>:filter</span> <span class='keyword3'>:drop-shadow</span>)
    (memo '( 60 50) <span class='literal'>"first~%memo"</span>  <span class='keyword3'>:width</span> 80 <span class='keyword3'>:height</span> 60)
    (memo '(180 50) <span class='literal'>"second~%memo"</span> <span class='keyword3'>:width</span> 80 <span class='keyword3'>:height</span> 60)))
</pre>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='240' height='100'>
	
	<filter id='drop-shadow'>
		<feColorMatrix type='matrix' values=' 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0' />
		<feGaussianBlur stdDeviation='2' result='blur' />
		<feOffset in='blur' dx='4' dy='4' result='offsetBlur' />
		<feMerge>
			<feMergeNode in='offsetBlur' />
			<feMergeNode in='SourceGraphic'/>
		</feMerge>
	</filter>
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- memo -->
	<polygon fill='lavenderblush' stroke='red' stroke-width='1' points='20.0,20.0 20.0,80.0 80.0,80.0 100.0,70.0 100.0,20.0 20.0,20.0' filter='url(#drop-shadow)' />
	<polygon fill='lightpink' stroke='red' stroke-width='1' stroke-linejoin='round' points='80.0,80.0 100.0,70.0 86.666664,66.66667 80.0,80.0' />
	<text x='60' y='49' text-anchor='middle' font-size='12pt' fill='black' >first</text>
	<text x='60' y='63' text-anchor='middle' font-size='12pt' fill='black' >memo</text>
	<!-- memo -->
	<polygon fill='lavenderblush' stroke='red' stroke-width='1' points='140.0,20.0 140.0,80.0 200.0,80.0 220.0,70.0 220.0,20.0 140.0,20.0' filter='url(#drop-shadow)' />
	<polygon fill='lightpink' stroke='red' stroke-width='1' stroke-linejoin='round' points='200.0,80.0 220.0,70.0 206.66666,66.66667 200.0,80.0' />
	<text x='180' y='49' text-anchor='middle' font-size='12pt' fill='black' >second</text>
	<text x='180' y='63' text-anchor='middle' font-size='12pt' fill='black' >memo</text>

</svg>
</div>

<p class='fig_title'><a name='85PzRyM9ubb'></a>Figure.4-21 with-memo-options のサンプル</p>
<h3><a name='hja1QJC0Ivb'></a>4.9 キューブ</h3>
<p>　<a class='autolink' href='#hja1QJC0Ivb'>キューブ</a>は<a class='autolink' href='#e7hkC2YUaKe'>テキストボックス</a>と良く似た機能を持ちますが、ボックスのかわりに箱が描画されます。<a class='autolink' href='#e7hkC2YUaKe'>テキストボックス</a>とは異なり、サイズは自動計算されないため、幅と高さを指定する必要があります。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='200' height='100'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- cube -->
	<polygon fill='darkgray' stroke='black' stroke-width='1' points='60.0,26.0 72.0,14.0 146.0,14.0 146.0,68.0 134.0,80.0 60.0,80.0' />
	<polyline fill='none' stroke='black' stroke-width='1' points=' 146.0,14.0 134.0,26.0' />
	<rect x='60' y='26' width='74' height='54' fill='lightgray' stroke='black' stroke-width='1' />
	<text x='97' y='52' text-anchor='middle' font-size='12pt' fill='black' >cube</text>
	<text x='97' y='66' text-anchor='middle' font-size='12pt' fill='black' >text</text>

</svg>
</div>

<p class='fig_title'><a name='j4GYjsfbdqP'></a>Figure.4-22 キューブのサンプル</p>
<details>
<summary>　※上記サンプルのソースはこちら。</summary>
<pre class='code'>
(diagram (200 100)
  (grid)
  (cube canvas.center 80 60 <span class='literal'>"cube~%text"</span>
              <span class='keyword3'>:fill</span> <span class='keyword3'>:lightgray</span> <span class='keyword3'>:fill2</span> <span class='keyword3'>:darkgray</span> <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span>))
</pre>
</details>
<p>　<a class='autolink' href='#hja1QJC0Ivb'>cube</a> のパラメータ構成は以下の通りです。</p>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>cube</span> (center width height text
                           <span class='keyword2'>&amp;key</span> depth align valign margin
                                font fill fill2 stroke link
                                rotate layer id filter contents) ...)
</pre>
<p>　　</p>
<p class='tbl_title'><a name='9OD0uLVcOgy'></a>Table.4-9 cube のパラメータ</p>
<table align='center'>
<tr style="font-size: 14;"><th>パラメータ</th><th>説明</th></tr>
<tr style="font-size: 14;"><td nowrap align='left'>center</td><td align='left'>中心点を指定します。詳細は「<a href='#h1RNMQY1C0b'>6  座標と位置</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>width</td><td align='left'>幅を数値で指定します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>height</td><td align='left'>高さを数値で指定します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><a class='autolink' href='#cTdCvBeU6ZJ'>text</a></td><td align='left'>内部に描画するテキストを文字列で指定します。改行は "~%" で表現します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>depth</td><td align='left'>上面および側面の大きさを数値で指定します。省略した場合のデフォルト値は height の 1/5 です。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>align</td><td align='left'>テキストの水平方向のアライメントを <code>:left :center :right</code> のいずれかで指定します。<br>省略した場合のデフォルト値は <code>:center</code> です。詳細は後述します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>vlign</td><td align='left'>テキストの垂直方向のアライメントを <code>:top :center :bottom</code> のいずれかで指定します。<br>省略した場合のデフォルト値は <code>:center</code> です。詳細は後述します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>margin</td><td align='left'>テキスト描画における「余白」のサイズです。省略した場合のデフォルト値は 10 です。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>font</td><td align='left'><a class='autolink' href='#3kZ9FkounyK'>フォント</a>を指定します。詳細は「<a href='#3kZ9FkounyK'>10.4  フォント</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>fill</td><td align='left'>内部の塗り潰しを指定します。詳細は「<a href='#dBUd7L4C3dx'>10.3  フィル</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>fill2</td><td align='left'>上面および側面の塗り潰しを指定します。詳細は「<a href='#dBUd7L4C3dx'>10.3  フィル</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>stroke</td><td align='left'>外枠を描画する線を指定します。詳細は「<a href='#4HFjqmTuIU6'>10.2  ストローク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>link</td><td align='left'>リンクにする場合、リンク先を指定します。詳細は「<a href='#fbLcMRTVXac'>10.9  リンク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>rotate</td><td align='left'>回転させたい場合に、その角度を指定します。<br>詳細は「<a href='#heEi5Lc5BX9'>10.6  回転</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>layer</td><td align='left'>レイヤーに所属させる場合、その名前をキーワードで指定します。<br>詳細は「<a href='#1ovJxG7Ie9O'>10.8  レイヤー</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>id</td><td align='left'>ID を付与したい場合、その名前をキーワードで指定します。<br>詳細は「<a href='#iu9Ovm00KHn'>10.5  IDと参照</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>filter</td><td align='left'><a class='autolink' href='#gPGlqSbIfdL'>フィルタ</a>効果を適用したい場合、その名前を指定します。<br>詳細は「<a href='#gPGlqSbIfdL'>10.7  フィルタ</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>contents</td><td align='left'>内部を<a class='autolink' href='#kgs1vf3AbTN'>サブキャンバス</a>とした描画をしたい場合、その内容を指定します。<br>詳細は「<a href='#kgs1vf3AbTN'>7  サブキャンバス</a>」を参照してください。</td></tr>
</table>
<p>　　</p>
<p>　図の中で<a class='autolink' href='#hja1QJC0Ivb'>キューブ</a>のスタイルを統一する作業を簡単にするために、<a class='autolink' href='#dpsPduib5te'>with-cube-options</a> が用意されています。これを以下のように使用することで、複数の<a class='autolink' href='#hja1QJC0Ivb'>キューブ</a>のスタイルを一箇所で指定することができます。</p>
<pre class='code'>
(diagram (240 100)
  (grid)
  (drop-shadow)
  (with-cube-options (<span class='keyword3'>:stroke</span> <span class='keyword3'>:slateblue4</span>
                      <span class='keyword3'>:fill</span>   <span class='keyword3'>:lightsteelblue1</span>
                      <span class='keyword3'>:fill2</span>  <span class='keyword3'>:lightsteelblue2</span> <span class='keyword3'>:filter</span> <span class='keyword3'>:drop-shadow</span>)
    (cube '( 60 50) 80 60 <span class='literal'>"first~%cube"</span> )
    (cube '(180 50) 80 60 <span class='literal'>"second~%cube"</span>)))
</pre>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='240' height='100'>
	
	<filter id='drop-shadow'>
		<feColorMatrix type='matrix' values=' 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0' />
		<feGaussianBlur stdDeviation='2' result='blur' />
		<feOffset in='blur' dx='4' dy='4' result='offsetBlur' />
		<feMerge>
			<feMergeNode in='offsetBlur' />
			<feMergeNode in='SourceGraphic'/>
		</feMerge>
	</filter>
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- cube -->
	<polygon fill='#BCD2EE' stroke='#473C8B' stroke-width='1' points='20.0,26.0 32.0,14.0 106.0,14.0 106.0,68.0 94.0,80.0 20.0,80.0' filter='url(#drop-shadow)' />
	<polyline fill='none' stroke='#473C8B' stroke-width='1' points=' 106.0,14.0 94.0,26.0' />
	<rect x='20' y='26' width='74' height='54' fill='#CAE1FF' stroke='#473C8B' stroke-width='1' />
	<text x='57' y='52' text-anchor='middle' font-size='12pt' fill='black' >first</text>
	<text x='57' y='66' text-anchor='middle' font-size='12pt' fill='black' >cube</text>
	<!-- cube -->
	<polygon fill='#BCD2EE' stroke='#473C8B' stroke-width='1' points='140.0,26.0 152.0,14.0 226.0,14.0 226.0,68.0 214.0,80.0 140.0,80.0' filter='url(#drop-shadow)' />
	<polyline fill='none' stroke='#473C8B' stroke-width='1' points=' 226.0,14.0 214.0,26.0' />
	<rect x='140' y='26' width='74' height='54' fill='#CAE1FF' stroke='#473C8B' stroke-width='1' />
	<text x='177' y='52' text-anchor='middle' font-size='12pt' fill='black' >second</text>
	<text x='177' y='66' text-anchor='middle' font-size='12pt' fill='black' >cube</text>

</svg>
</div>

<p class='fig_title'><a name='3SJFdpOYlvc'></a>Figure.4-23 with-cube-options のサンプル</p>
<h3><a name='5ME1Xv0K4sM'></a>4.10 円柱</h3>
<p>　<a class='autolink' href='#5ME1Xv0K4sM'>円柱</a>は<a class='autolink' href='#e7hkC2YUaKe'>テキストボックス</a>と良く似た機能を持ちますが、ボックスのかわりに<a class='autolink' href='#5ME1Xv0K4sM'>円柱</a>が描画されます。<a class='autolink' href='#e7hkC2YUaKe'>テキストボックス</a>とは異なり、サイズは自動計算されないため、幅と高さを指定する必要があります。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='200' height='100'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- cylinder -->
	<path fill='honeydew' stroke='forestgreen' stroke-width='1' d='M 60 20 L 60 80 A 40 6 0 0 0 140 80 L 140 20 A 40 6 0 0 0 60 20' />
	<path fill='none' stroke='forestgreen' stroke-width='1' d='M 60 20 A 40 6 0 0 0 140 20' />
	<text x='100' y='49' text-anchor='middle' font-size='12pt' fill='black' >cylinder</text>
	<text x='100' y='63' text-anchor='middle' font-size='12pt' fill='black' >text</text>

</svg>
</div>

<p class='fig_title'><a name='c33W6fj0jlH'></a>Figure.4-24 円柱のサンプル</p>
<details>
<summary>　※上記サンプルのソースはこちら。</summary>
<pre class='code'>
(diagram (200 100)
  (grid)
  (cylinder canvas.center 80 60 <span class='literal'>"cylinder~%text"</span>
                                   <span class='keyword3'>:fill</span> <span class='keyword3'>:honeydew</span> <span class='keyword3'>:stroke</span> <span class='keyword3'>:forestgreen</span>))
</pre>
</details>
<p>　<a class='autolink' href='#5ME1Xv0K4sM'>cylinder</a> のパラメータ構成は以下の通りです。</p>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>cylinder</span> (center width height text
                           <span class='keyword2'>&amp;key</span> depth align valign margin
                                font fill stroke link
                                rotate layer id filter contents) ...)
</pre>
<p>　　</p>
<p class='tbl_title'><a name='lR2lSmJgEMn'></a>Table.4-10 cylinder のパラメータ</p>
<table align='center'>
<tr style="font-size: 14;"><th>パラメータ</th><th>説明</th></tr>
<tr style="font-size: 14;"><td nowrap align='left'>center</td><td align='left'>中心点を指定します。詳細は「<a href='#h1RNMQY1C0b'>6  座標と位置</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>width</td><td align='left'>幅を数値で指定します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>height</td><td align='left'>高さを数値で指定します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><a class='autolink' href='#cTdCvBeU6ZJ'>text</a></td><td align='left'>内部に描画するテキストを文字列で指定します。改行は "~%" で表現します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>depth</td><td align='left'>下部の曲線の深さを指定します。省略した場合のデフォルト値は height の 1/5 です。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>align</td><td align='left'>テキストの水平方向のアライメントを <code>:left :center :right</code> のいずれかで指定します。<br>省略した場合のデフォルト値は <code>:center</code> です。詳細は後述します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>vlign</td><td align='left'>テキストの垂直方向のアライメントを <code>:top :center :bottom</code> のいずれかで指定します。<br>省略した場合のデフォルト値は <code>:center</code> です。詳細は後述します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>margin</td><td align='left'>テキスト描画における「余白」のサイズです。省略した場合のデフォルト値は 10 です。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>font</td><td align='left'><a class='autolink' href='#3kZ9FkounyK'>フォント</a>を指定します。詳細は「<a href='#3kZ9FkounyK'>10.4  フォント</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>fill</td><td align='left'>内部の塗り潰しを指定します。詳細は「<a href='#dBUd7L4C3dx'>10.3  フィル</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>stroke</td><td align='left'>外枠を描画する線を指定します。詳細は「<a href='#4HFjqmTuIU6'>10.2  ストローク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>link</td><td align='left'>リンクにする場合、リンク先を指定します。詳細は「<a href='#fbLcMRTVXac'>10.9  リンク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>rotate</td><td align='left'>回転させたい場合に、その角度を指定します。<br>詳細は「<a href='#heEi5Lc5BX9'>10.6  回転</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>layer</td><td align='left'>レイヤーに所属させる場合、その名前をキーワードで指定します。<br>詳細は「<a href='#1ovJxG7Ie9O'>10.8  レイヤー</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>id</td><td align='left'>ID を付与したい場合、その名前をキーワードで指定します。<br>詳細は「<a href='#iu9Ovm00KHn'>10.5  IDと参照</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>filter</td><td align='left'><a class='autolink' href='#gPGlqSbIfdL'>フィルタ</a>効果を適用したい場合、その名前を指定します。<br>詳細は「<a href='#gPGlqSbIfdL'>10.7  フィルタ</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>contents</td><td align='left'>内部を<a class='autolink' href='#kgs1vf3AbTN'>サブキャンバス</a>とした描画をしたい場合、その内容を指定します。<br>詳細は「<a href='#kgs1vf3AbTN'>7  サブキャンバス</a>」を参照してください。</td></tr>
</table>
<p>　　</p>
<p>　図の中で<a class='autolink' href='#5ME1Xv0K4sM'>円柱</a>のスタイルを統一する作業を簡単にするために、<a class='autolink' href='#6STY3Kxzonk'>with-cylinder-options</a> が用意されています。これを以下のように使用することで、複数の<a class='autolink' href='#5ME1Xv0K4sM'>円柱</a>のスタイルを一箇所で指定することができます。</p>
<pre class='code'>
(diagram (240 100)
  (grid)
  (drop-shadow)
  (with-cylinder-options (<span class='keyword3'>:stroke</span> <span class='keyword3'>:slateblue4</span>
                          <span class='keyword3'>:fill</span>   <span class='keyword3'>:lightsteelblue1</span> <span class='keyword3'>:filter</span> <span class='keyword3'>:drop-shadow</span>)
    (cylinder '( 60 50) 80 60 <span class='literal'>"first~%cylinder"</span> )
    (cylinder '(180 50) 80 60 <span class='literal'>"second~%cylinder"</span>)))
</pre>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='240' height='100'>
	
	<filter id='drop-shadow'>
		<feColorMatrix type='matrix' values=' 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0' />
		<feGaussianBlur stdDeviation='2' result='blur' />
		<feOffset in='blur' dx='4' dy='4' result='offsetBlur' />
		<feMerge>
			<feMergeNode in='offsetBlur' />
			<feMergeNode in='SourceGraphic'/>
		</feMerge>
	</filter>
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- cylinder -->
	<path fill='#CAE1FF' stroke='#473C8B' stroke-width='1' d='M 20 20 L 20 80 A 40 6 0 0 0 100 80 L 100 20 A 40 6 0 0 0 20 20' filter='url(#drop-shadow)' />
	<path fill='none' stroke='#473C8B' stroke-width='1' d='M 20 20 A 40 6 0 0 0 100 20' />
	<text x='60' y='49' text-anchor='middle' font-size='12pt' fill='black' >first</text>
	<text x='60' y='63' text-anchor='middle' font-size='12pt' fill='black' >cylinder</text>
	<!-- cylinder -->
	<path fill='#CAE1FF' stroke='#473C8B' stroke-width='1' d='M 140 20 L 140 80 A 40 6 0 0 0 220 80 L 220 20 A 40 6 0 0 0 140 20' filter='url(#drop-shadow)' />
	<path fill='none' stroke='#473C8B' stroke-width='1' d='M 140 20 A 40 6 0 0 0 220 20' />
	<text x='180' y='49' text-anchor='middle' font-size='12pt' fill='black' >second</text>
	<text x='180' y='63' text-anchor='middle' font-size='12pt' fill='black' >cylinder</text>

</svg>
</div>

<p class='fig_title'><a name='6qpOLVQEU9p'></a>Figure.4-25 with-cylinder-options のサンプル</p>
<h3><a name='hjZ26isLw42'></a>4.11 爆発</h3>
<p>　<a class='autolink' href='#hjZ26isLw42'>爆発</a>は<a class='autolink' href='#e7hkC2YUaKe'>テキストボックス</a>と良く似た機能を持ちますが、ボックスのかわりに<a class='autolink' href='#hjZ26isLw42'>爆発</a>を模した<a class='autolink' href='#5vGRm9AMypB'>多角形</a>が描画されます。<a class='autolink' href='#e7hkC2YUaKe'>テキストボックス</a>とは異なり、サイズは自動計算されないため、幅と高さを指定する必要があります。また、<a class='autolink' href='#hjZ26isLw42'>爆発</a>には２種類の形状があります<sup><a name='footnote_ref5' href='#footnote5'>5</a></sup>。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='350' height='150'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- explosion -->
	<polygon fill='pink' stroke='red' stroke-width='1' points='32.8,27.0 60.8,57.0 31.4,61.8 55.2,79.8 31.4,95.4 67.8,93.0 62.2,111.0 80.4,102.600006 84.6,133.8 98.6,97.8 116.8,124.200005 122.4,95.4 147.6,114.6 139.2,85.799995 168.6,88.200005 143.4,73.8 167.2,60.6 137.79999,55.8 149.0,40.199997 121.0,45.0 123.8,15.0 100.0,47.4 84.6,29.4 77.600006,49.8' />
	<text x='100' y='74' text-anchor='middle' font-size='12pt' fill='black' >explosion</text>
	<text x='100' y='88' text-anchor='middle' font-size='12pt' fill='black' >type1</text>
	<!-- explosion -->
	<polygon fill='pink' stroke='red' stroke-width='1' points='209.4,35.4 215.0,58.2 187.0,60.6 205.2,79.8 180.0,85.799995 201.0,100.2 188.4,113.4 210.8,115.799995 212.2,135.0 229.0,114.6 236.0,124.200005 244.4,111.0 255.6,119.4 258.4,102.600006 276.6,111.0 275.2,94.200005 301.8,101.4 286.4,83.4 299.0,77.399994 289.2,67.8 320.0,52.2 286.4,51.0 296.2,31.8 273.8,47.4 275.2,15.0 254.2,39.0 243.0,25.8 236.0,51.0' />
	<text x='250' y='74' text-anchor='middle' font-size='12pt' fill='black' >explosion</text>
	<text x='250' y='88' text-anchor='middle' font-size='12pt' fill='black' >type2</text>

</svg>
</div>

<p class='fig_title'><a name='alxN8u8h3HH'></a>Figure.4-26 爆発のサンプル</p>
<details>
<summary>　※上記サンプルのソースはこちら。</summary>
<pre class='code'>
(diagram (350 150)
  (grid)
  (explosion1 '(100 75) 140 120 <span class='literal'>"explosion~%type1"</span> <span class='keyword3'>:fill</span> <span class='keyword3'>:pink</span> <span class='keyword3'>:stroke</span> <span class='keyword3'>:red</span>)
  (explosion2 '(250 75) 140 120 <span class='literal'>"explosion~%type2"</span> <span class='keyword3'>:fill</span> <span class='keyword3'>:pink</span> <span class='keyword3'>:stroke</span> <span class='keyword3'>:red</span>))
</pre>
</details>
<p>　<a class='autolink' href='#hjZ26isLw42'>explosion1</a>, <a class='autolink' href='#hjZ26isLw42'>explosion2</a> のパラメータ構成は以下の通りです。</p>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>explosion1</span> (center width height text
                         <span class='keyword2'>&amp;key</span> font fill stroke
                              link rotate layer id filter contents) ...)
(<span class='keyword1'>defmacro</span> <span class='keyword5'>explosion2</span> (center width height text
                         <span class='keyword2'>&amp;key</span> font fill stroke
                              link rotate layer id filter contents) ...)
</pre>
<p>　　</p>
<p class='tbl_title'><a name='gP4bMhLxslv'></a>Table.4-11 explosion1, explosion2 のパラメータ</p>
<table align='center'>
<tr style="font-size: 14;"><th>パラメータ</th><th>説明</th></tr>
<tr style="font-size: 14;"><td nowrap align='left'>center</td><td align='left'>中心点を指定します。詳細は「<a href='#h1RNMQY1C0b'>6  座標と位置</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>width</td><td align='left'>幅を数値で指定します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>height</td><td align='left'>高さを数値で指定します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><a class='autolink' href='#cTdCvBeU6ZJ'>text</a></td><td align='left'>内部に描画するテキストを文字列で指定します。改行は "~%" で表現します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>font</td><td align='left'><a class='autolink' href='#3kZ9FkounyK'>フォント</a>を指定します。詳細は「<a href='#3kZ9FkounyK'>10.4  フォント</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>fill</td><td align='left'>内部の塗り潰しを指定します。詳細は「<a href='#dBUd7L4C3dx'>10.3  フィル</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>stroke</td><td align='left'>外枠を描画する線を指定します。詳細は「<a href='#4HFjqmTuIU6'>10.2  ストローク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>link</td><td align='left'>リンクにする場合、リンク先を指定します。詳細は「<a href='#fbLcMRTVXac'>10.9  リンク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>rotate</td><td align='left'>回転させたい場合に、その角度を指定します。<br>詳細は「<a href='#heEi5Lc5BX9'>10.6  回転</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>layer</td><td align='left'>レイヤーに所属させる場合、その名前をキーワードで指定します。<br>詳細は「<a href='#1ovJxG7Ie9O'>10.8  レイヤー</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>id</td><td align='left'>ID を付与したい場合、その名前をキーワードで指定します。<br>詳細は「<a href='#iu9Ovm00KHn'>10.5  IDと参照</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>filter</td><td align='left'><a class='autolink' href='#gPGlqSbIfdL'>フィルタ</a>効果を適用したい場合、その名前を指定します。<br>詳細は「<a href='#gPGlqSbIfdL'>10.7  フィルタ</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>contents</td><td align='left'>内部を<a class='autolink' href='#kgs1vf3AbTN'>サブキャンバス</a>とした描画をしたい場合、その内容を指定します。<br>詳細は「<a href='#kgs1vf3AbTN'>7  サブキャンバス</a>」を参照してください。</td></tr>
</table>
<p>　　</p>
<p>　図の中で<a class='autolink' href='#hjZ26isLw42'>爆発</a>のスタイルを統一する作業を簡単にするために、<a class='autolink' href='#h8PWgenmp0d'>with-explosion-options</a> が用意されています。これを以下のように使用することで、複数の<a class='autolink' href='#hjZ26isLw42'>爆発</a>のスタイルを一箇所で指定することができます。</p>
<pre class='code'>
(diagram (300 100)
  (grid)
  (drop-shadow)
  (with-explosion-options (<span class='keyword3'>:stroke</span> <span class='keyword3'>:orangered3</span>
                           <span class='keyword3'>:fill</span>   <span class='keyword3'>:thistle1</span>   <span class='keyword3'>:filter</span> <span class='keyword3'>:drop-shadow</span>)
    (explosion1 '( 80 50) 140 100 <span class='literal'>"first~%explosion"</span> )
    (explosion2 '(220 50) 140 100 <span class='literal'>"second~%explosion"</span>)))
</pre>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='300' height='100'>
	
	<filter id='drop-shadow'>
		<feColorMatrix type='matrix' values=' 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0' />
		<feGaussianBlur stdDeviation='2' result='blur' />
		<feOffset in='blur' dx='4' dy='4' result='offsetBlur' />
		<feMerge>
			<feMergeNode in='offsetBlur' />
			<feMergeNode in='SourceGraphic'/>
		</feMerge>
	</filter>
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- explosion -->
	<polygon fill='#FFE1FF' stroke='#CD3700' stroke-width='1' points='12.8,10.0 40.8,35.0 11.4,39.0 35.2,54.000004 11.4,67.0 47.800003,65.0 42.2,80.0 60.4,73.0 64.6,99.0 78.6,69.0 96.8,91.0 102.4,67.0 127.6,83.0 119.2,58.999996 148.6,61.0 123.4,49.0 147.2,38.0 117.799995,34.0 129.0,21.0 101.0,25.0 103.8,0.0 80.0,27.000002 64.6,12.0 57.600002,29.0' filter='url(#drop-shadow)' />
	<text x='80' y='49' text-anchor='middle' font-size='12pt' fill='black' >first</text>
	<text x='80' y='63' text-anchor='middle' font-size='12pt' fill='black' >explosion</text>
	<!-- explosion -->
	<polygon fill='#FFE1FF' stroke='#CD3700' stroke-width='1' points='179.4,17.0 185.0,36.0 157.0,38.0 175.2,54.000004 150.0,58.999996 171.0,71.0 158.4,82.0 180.8,84.0 182.2,100.0 199.0,83.0 206.0,91.0 214.4,80.0 225.6,87.0 228.4,73.0 246.6,80.0 245.20001,66.0 271.8,72.0 256.4,57.0 269.0,52.0 259.2,44.0 290.0,31.0 256.4,30.000002 266.2,14.0 243.8,27.000002 245.20001,0.0 224.2,20.0 213.0,9.0 206.0,30.000002' filter='url(#drop-shadow)' />
	<text x='220' y='49' text-anchor='middle' font-size='12pt' fill='black' >second</text>
	<text x='220' y='63' text-anchor='middle' font-size='12pt' fill='black' >explosion</text>

</svg>
</div>

<p class='fig_title'><a name='6vhSWl4Z51P'></a>Figure.4-27 with-explosion-options のサンプル</p>
<h3><a name='4cZRWkwhYNO'></a>4.12 十字</h3>
<p>　<a class='autolink' href='#4cZRWkwhYNO'>cross</a> を使うと、<a class='autolink' href='#4cZRWkwhYNO'>十字</a>の形を描画することができます。幅と高さ、太さを指定でき、回転させれば×印にもなります。また、縦横で太さを変えたり、交差する位置をズラすこともできます。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='400' height='100'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- cross -->
	<path fill='pink' stroke='red' stroke-width='1' d='M 70 10 V 40 H 40 V 60 H 70 V 90 H 90 V 60 H 120 V 40 H 90 V 10 z' />
	<!-- cross -->
	<g transform='rotate(45,200,50)'>
		<path fill='pink' stroke='red' stroke-width='1' d='M 190 10 V 40 H 160 V 60 H 190 V 90 H 210 V 60 H 240 V 40 H 210 V 10 z' />
	</g>
	<!-- cross -->
	<path fill='pink' stroke='red' stroke-width='1' d='M 302.5 10 V 30 H 280 V 40 H 302.5 V 90 H 317.5 V 40 H 360 V 30 H 317.5 V 10 z' />

</svg>
</div>

<p class='fig_title'><a name='i6ogP2K90yF'></a>Figure.4-28 十字のサンプル</p>
<details>
<summary>　※上記サンプルのソースはこちら。</summary>
<pre class='code'>
(diagram (400 100)
  (grid)
  (cross '( 80 50) 80 80 20 <span class='keyword3'>:fill</span> <span class='keyword3'>:pink</span> <span class='keyword3'>:stroke</span> <span class='keyword3'>:red</span>)
  (cross '(200 50) 80 80 20 <span class='keyword3'>:fill</span> <span class='keyword3'>:pink</span> <span class='keyword3'>:stroke</span> <span class='keyword3'>:red</span> <span class='keyword3'>:rotate</span> 45)
  (cross '(320 50) 80 80 10 <span class='keyword3'>:fill</span> <span class='keyword3'>:pink</span> <span class='keyword3'>:stroke</span> <span class='keyword3'>:red</span> <span class='keyword3'>:pivot</span> '(-10 -15) <span class='keyword3'>:size-v</span> 15))
</pre>
</details>
<p>　<a class='autolink' href='#4cZRWkwhYNO'>cross</a> のパラメータ構成は以下の通りです。</p>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>cross</span> (center width height size
                        <span class='keyword2'>&amp;key</span> size-v pivot fill stroke 
                             rotate link layer id filter) ...)
</pre>
<p>　　</p>
<p class='tbl_title'><a name='l28V5sm9qL4'></a>Table.4-12 cross のパラメータ</p>
<table align='center'>
<tr style="font-size: 14;"><th>パラメータ</th><th>説明</th></tr>
<tr style="font-size: 14;"><td nowrap align='left'>center</td><td align='left'>中心点を指定します。詳細は「<a href='#h1RNMQY1C0b'>6  座標と位置</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>width</td><td align='left'>幅を数値で指定します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>height</td><td align='left'>高さを数値で指定します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>size</td><td align='left'>太さを指定します。size-v を指定しない限り、縦横両方の太さになります。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>size-v</td><td align='left'>縦棒の太さを指定します。省略した場合、size と同じになります。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>pivot</td><td align='left'>縦横の棒が交差する点を center からどれだけズラすかを <code>'(x y)</code> の要領で指定します。<br>省略すると <code>'(0 0)</code> として扱われます。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>fill</td><td align='left'>内部の塗り潰しを指定します。詳細は「<a href='#dBUd7L4C3dx'>10.3  フィル</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>stroke</td><td align='left'>外枠を描画する線を指定します。詳細は「<a href='#4HFjqmTuIU6'>10.2  ストローク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>link</td><td align='left'>リンクにする場合、リンク先を指定します。詳細は「<a href='#fbLcMRTVXac'>10.9  リンク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>rotate</td><td align='left'>回転させたい場合に、その角度を指定します。<br>詳細は「<a href='#heEi5Lc5BX9'>10.6  回転</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>layer</td><td align='left'>レイヤーに所属させる場合、その名前をキーワードで指定します。<br>詳細は「<a href='#1ovJxG7Ie9O'>10.8  レイヤー</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>id</td><td align='left'>ID を付与したい場合、その名前をキーワードで指定します。<br>詳細は「<a href='#iu9Ovm00KHn'>10.5  IDと参照</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>filter</td><td align='left'><a class='autolink' href='#gPGlqSbIfdL'>フィルタ</a>効果を適用したい場合、その名前を指定します。<br>詳細は「<a href='#gPGlqSbIfdL'>10.7  フィルタ</a>」を参照してください。</td></tr>
</table>
<p>　　</p>
<p>　図の中で<a class='autolink' href='#4cZRWkwhYNO'>十字</a>のスタイルを統一する作業を簡単にするために、<a class='autolink' href='#gE4r2xg8b9U'>with-cross-options</a> が用意されています。これを以下のように使用することで、複数の<a class='autolink' href='#4cZRWkwhYNO'>十字</a>のスタイルを一箇所で指定することができます。</p>
<pre class='code'>
(diagram (300 100)
  (grid)
  (drop-shadow)
  (with-cross-options (<span class='keyword3'>:stroke</span> <span class='keyword3'>:purple</span>
                       <span class='keyword3'>:fill</span>   <span class='keyword3'>:plum</span>   <span class='keyword3'>:filter</span> <span class='keyword3'>:drop-shadow</span>)
    (cross '( 80 50) 80 80 20)
    (cross '(220 50) 80 80 20 <span class='keyword3'>:rotate</span> 45)))
</pre>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='300' height='100'>
	
	<filter id='drop-shadow'>
		<feColorMatrix type='matrix' values=' 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0' />
		<feGaussianBlur stdDeviation='2' result='blur' />
		<feOffset in='blur' dx='4' dy='4' result='offsetBlur' />
		<feMerge>
			<feMergeNode in='offsetBlur' />
			<feMergeNode in='SourceGraphic'/>
		</feMerge>
	</filter>
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- cross -->
	<path fill='plum' stroke='purple' stroke-width='1' d='M 70 10 V 40 H 40 V 60 H 70 V 90 H 90 V 60 H 120 V 40 H 90 V 10 z' filter='url(#drop-shadow)' />
	<!-- cross -->
	<g transform='rotate(45,220,50)'>
		<path fill='plum' stroke='purple' stroke-width='1' d='M 210 10 V 40 H 180 V 60 H 210 V 90 H 230 V 60 H 260 V 40 H 230 V 10 z' filter='url(#drop-shadow)' />
	</g>

</svg>
</div>

<p class='fig_title'><a name='aRp5j4797s7'></a>Figure.4-29 with-cross-options のサンプル</p>
<h3><a name='49KKf97828b'></a>4.13 ブロック矢印</h3>
<p>　<a class='autolink' href='#49KKf97828b'>block-arrow1</a> を使うと、指定した２点を結ぶ大きな矢印を描画できます。<a class='autolink' href='#49KKf97828b'>block-arrow1</a> は終端側だけに矢印が描画されますが、<a class='autolink' href='#49KKf97828b'>block-arrow2</a> を使えば双方向の矢印になります。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='300' height='150'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- block-arrow -->
	<polygon fill='skyblue' stroke='navy' stroke-width='2' points='50.0,50.0 50.0,30.0 210.0,30.0 210.0,20.0 250.0,40.0 210.0,60.0 210.0,50.0' />
	<!-- block-arrow -->
	<polygon fill='skyblue' stroke='navy' stroke-width='2' points='50.0,110.0 90.0,90.0 90.0,100.0 210.0,100.0 210.0,90.0 250.0,110.0 210.0,130.0 210.0,120.0 90.0,120.0 90.0,130.0' />

</svg>
</div>

<p class='fig_title'><a name='eIwQ5AwuV7t'></a>Figure.4-30 ブロック矢印のサンプル</p>
<details>
<summary>　※上記サンプルのソースはこちら。</summary>
<pre class='code'>
(diagram (300 150)
  (grid)
  (with-options (<span class='keyword3'>:fill</span> <span class='keyword3'>:skyblue</span>
                 <span class='keyword3'>:stroke</span> '(<span class='keyword3'>:color</span> <span class='keyword3'>:navy</span> <span class='keyword3'>:width</span> 2))
    (block-arrow1 '(50  40) '(250  40) 20)
    (block-arrow2 '(50 110) '(250 110) 20)))
</pre>
</details>
<p>　<a class='autolink' href='#49KKf97828b'>block-arrow1</a>, <a class='autolink' href='#49KKf97828b'>block-arrow2</a> のパラメータ構成は以下の通りです。</p>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>block-arrow1</span> (pt1 pt2 width <span class='keyword2'>&amp;key</span> size length margin
                                     fill stroke link layer filter id) ...)
(<span class='keyword1'>defmacro</span> <span class='keyword5'>block-arrow2</span> (pt1 pt2 width <span class='keyword2'>&amp;key</span> size length margin
                                     fill stroke link layer filter id) ...)
</pre>
<p>　　</p>
<p class='tbl_title'><a name='eVCkMFMqQkq'></a>Table.4-13 block-arrow1, block-arrow2 のパラメータ</p>
<table align='center'>
<tr style="font-size: 14;"><th>パラメータ</th><th>説明</th></tr>
<tr style="font-size: 14;"><td nowrap align='left'>pt1, pt2</td><td align='left'>始点と終点を指定します。詳細は「<a href='#h1RNMQY1C0b'>6  座標と位置</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>width</td><td align='left'>矢印の幅を数値で指定します（後述）。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>size</td><td align='left'>矢印部分の大きさを数値で指定します（後述）。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>length</td><td align='left'>矢印部分の長さを数値で指定します（後述）。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>margin</td><td align='left'>始点・終点と<a class='autolink' href='#49KKf97828b'>ブロック矢印</a>の間にあける隙間を数値で指定します（後述）。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>fill</td><td align='left'>内部の塗り潰しを指定します。詳細は「<a href='#dBUd7L4C3dx'>10.3  フィル</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>stroke</td><td align='left'>外枠を描画する線を指定します。詳細は「<a href='#4HFjqmTuIU6'>10.2  ストローク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>link</td><td align='left'>リンクにする場合、リンク先を指定します。詳細は「<a href='#fbLcMRTVXac'>10.9  リンク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>layer</td><td align='left'>レイヤーに所属させる場合、その名前をキーワードで指定します。<br>詳細は「<a href='#1ovJxG7Ie9O'>10.8  レイヤー</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>filter</td><td align='left'><a class='autolink' href='#gPGlqSbIfdL'>フィルタ</a>効果を適用したい場合、その名前を指定します。<br>詳細は「<a href='#gPGlqSbIfdL'>10.7  フィルタ</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>id</td><td align='left'>ID を付与したい場合、その名前をキーワードで指定します。<br>詳細は「<a href='#iu9Ovm00KHn'>10.5  IDと参照</a>」を参照してください。</td></tr>
</table>
<p>　　</p>
<p>　上記だけではわかりにくいので、以下を参考にしてください。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='400' height='120'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- circle -->
	<circle cx='50' cy='50' r='4' fill='red' stroke='none' stroke-width='1' />
	<!-- circle -->
	<circle cx='350' cy='50' r='4' fill='red' stroke='none' stroke-width='1' />
	<!-- text -->
	<text x='50' y='65' text-anchor='middle' font-size='10pt' fill='red' >pt1</text>
	<!-- text -->
	<text x='350' y='65' text-anchor='middle' font-size='10pt' fill='red' >pt2</text>
	<!-- line -->
	<polyline fill='none' stroke='red' stroke-width='0.5' stroke-dasharray='4 4 ' points=' 50.0,50.0 350.0,50.0' />
	<!-- block-arrow -->
	<polygon fill='skyblue' fill-opacity='0.3' stroke='navy' stroke-width='1' points='80.0,65.0 80.0,35.0 250.0,35.0 250.0,20.0 320.0,50.0 250.0,80.0 250.0,65.0' />
	<!-- line -->
	<polyline fill='none' stroke='gray' stroke-width='1' stroke-dasharray='QUOTE (3 3) ' points=' 50.0,50.0 50.0,20.0' />
	<!-- line -->
	<polyline fill='none' stroke='gray' stroke-width='1' stroke-dasharray='QUOTE (3 3) ' points=' 350.0,50.0 350.0,20.0' />
	<!-- line -->
	<polyline fill='none' stroke='gray' stroke-width='1' stroke-dasharray='QUOTE (3 3) ' points=' 320.0,50.0 320.0,20.0' />
	<!-- line -->
	<polyline fill='none' stroke='gray' stroke-width='1' stroke-dasharray='QUOTE (3 3) ' points=' 250.0,20.0 220.0,20.0' />
	<!-- line -->
	<polyline fill='none' stroke='gray' stroke-width='1' stroke-dasharray='QUOTE (3 3) ' points=' 250.0,80.0 220.0,80.0' />
	<!-- line -->
	<polyline fill='none' stroke='gray' stroke-width='1' stroke-dasharray='QUOTE (3 3) ' points=' 250.0,80.0 250.0,100.0' />
	<!-- line -->
	<polyline fill='none' stroke='gray' stroke-width='1' stroke-dasharray='QUOTE (3 3) ' points=' 320.0,50.0 320.0,100.0' />
	<!-- line -->
	<polyline fill='none' stroke='brown' stroke-width='1' points=' 230.0,20.0 230.0,80.0' />
	<polyline fill='none' stroke='brown' stroke-width='1' points='235.0,28.660254 230,20 225.0,28.660254' />
	<polyline fill='none' stroke='brown' stroke-width='1' points='225.0,71.339745 230,80 235.0,71.339745' />
	<!-- line -->
	<polyline fill='none' stroke='brown' stroke-width='1' points=' 150.0,35.0 150.0,65.0' />
	<polyline fill='none' stroke='brown' stroke-width='1' points='155.0,43.660255 150,35 145.0,43.660255' />
	<polyline fill='none' stroke='brown' stroke-width='1' points='145.0,56.339745 150,65 155.0,56.339745' />
	<!-- line -->
	<polyline fill='none' stroke='brown' stroke-width='1' points=' 250.0,90.0 320.0,90.0' />
	<polyline fill='none' stroke='brown' stroke-width='1' points='258.66025,85.0 250,90 258.66025,95.0' />
	<polyline fill='none' stroke='brown' stroke-width='1' points='311.33975,95.0 320,90 311.33975,85.0' />
	<!-- line -->
	<polyline fill='none' stroke='brown' stroke-width='1' points=' 50.0,35.0 80.0,35.0' />
	<polyline fill='none' stroke='brown' stroke-width='1' points='58.660255,30.0 50,35 58.660255,40.0' />
	<polyline fill='none' stroke='brown' stroke-width='1' points='71.339745,40.0 80,35 71.339745,30.0' />
	<!-- line -->
	<polyline fill='none' stroke='brown' stroke-width='1' points=' 320.0,30.0 350.0,30.0' />
	<polyline fill='none' stroke='brown' stroke-width='1' points='328.66025,25.0 320,30 328.66025,35.0' />
	<polyline fill='none' stroke='brown' stroke-width='1' points='341.33975,35.0 350,30 341.33975,25.0' />
	<!-- text -->
	<text x='150' y='30' text-anchor='middle' font-size='10pt' fill='brown' >width</text>
	<!-- text -->
	<text x='230' y='95' text-anchor='end' font-size='10pt' fill='brown' >size</text>
	<!-- text -->
	<text x='325' y='100' text-anchor='start' font-size='10pt' fill='brown' >length</text>
	<!-- text -->
	<text x='60' y='25' text-anchor='start' font-size='10pt' fill='brown' >margin</text>
	<!-- text -->
	<text x='330' y='25' text-anchor='start' font-size='10pt' fill='brown' >margin</text>

</svg>
</div>

<p class='fig_title'><a name='htsQptREwXf'></a>Figure.4-31 ブロック矢印のパラメータ</p>
<ul>
<li><code>size</code> が省略された場合、デフォルト値として <code>width</code> の２倍が使用されます</li>
<li><code>length</code> が省略された場合、デフォルト値として <code>size</code> と同じ値が使用されます</li>
<li><code>margin</code> が省略された場合、デフォルト値として 0 が使用されます</li>
</ul>
<p>　　</p>
<p>　図の中で<a class='autolink' href='#49KKf97828b'>ブロック矢印</a>のスタイルを統一する作業を簡単にするために、<a class='autolink' href='#kT3ITG7nfBI'>with-block-arrow-options</a> が用意されています。これを以下のように使用することで、複数の<a class='autolink' href='#49KKf97828b'>ブロック矢印</a>のスタイルを一箇所で指定することができます。</p>
<pre class='code'>
(diagram (200 100)
  (grid)
  (drop-shadow)
  (with-block-arrow-options (<span class='keyword3'>:fill</span>   <span class='keyword3'>:honeydew</span>
                             <span class='keyword3'>:stroke</span> <span class='keyword3'>:darkgreen</span> <span class='keyword3'>:filter</span> <span class='keyword3'>:drop-shadow</span>)
    (block-arrow1 '(30 25) '(170 25) 20)
    (block-arrow2 '(30 75) '(170 75) 20)))
</pre>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='200' height='100'>
	
	<filter id='drop-shadow'>
		<feColorMatrix type='matrix' values=' 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0' />
		<feGaussianBlur stdDeviation='2' result='blur' />
		<feOffset in='blur' dx='4' dy='4' result='offsetBlur' />
		<feMerge>
			<feMergeNode in='offsetBlur' />
			<feMergeNode in='SourceGraphic'/>
		</feMerge>
	</filter>
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- block-arrow -->
	<polygon fill='honeydew' stroke='darkgreen' stroke-width='1' points='30.0,35.0 30.0,15.0 130.0,15.0 130.0,5.0 170.0,25.0 130.0,45.0 130.0,35.0' filter='url(#drop-shadow)' />
	<!-- block-arrow -->
	<polygon fill='honeydew' stroke='darkgreen' stroke-width='1' points='30.0,75.0 70.0,55.0 70.0,65.0 130.0,65.0 130.0,55.0 170.0,75.0 130.0,95.0 130.0,85.0 70.0,85.0 70.0,95.0' filter='url(#drop-shadow)' />

</svg>
</div>

<p class='fig_title'><a name='joIBAKcJmZU'></a>Figure.4-32 with-block-arrow-options のサンプル</p>
<h3><a name='lBS33hNe32a'></a>4.14 波括弧</h3>
<p>　<a class='autolink' href='#lBS33hNe32a'>brace</a> により、大きな<a class='autolink' href='#lBS33hNe32a'>波括弧</a>を描画することができます。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='400' height='220'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- brace -->
	<path fill='none' stroke='navy' stroke-width='2' d='M 80 10 A 10 20 0 0 0 90 30 L 220 30 A 10 20 1 0 1 230 50 A 10 20 1 0 1 240 30 L 310 30 A 10 20 0 0 0 320 10' />
	<text x='230' y='71' text-anchor='middle' font-size='16pt' fill='navy' >upper brace</text>
	<!-- brace -->
	<path fill='none' stroke='navy' stroke-width='2' d='M 80 210 A 10 20 1 0 1 90 190 L 130 190 A 10 20 0 0 0 140 170 A 10 20 0 0 0 150 190 L 310 190 A 10 20 1 0 1 320 210' />
	<text x='140' y='165' text-anchor='middle' font-size='16pt' fill='navy' >bottom brace</text>
	<!-- brace -->
	<path fill='none' stroke='navy' stroke-width='2' d='M 10 50 A 20 10 1 0 1 30 60 L 30 80 A 20 10 0 0 0 50 90 A 20 10 0 0 0 30 100 L 30 160 A 20 10 1 0 1 10 170' />
	<text x='55' y='98' text-anchor='start' font-size='16pt' fill='navy' >left brace</text>
	<!-- brace -->
	<path fill='none' stroke='navy' stroke-width='2' d='M 390 50 A 20 10 0 0 0 370 60 L 370 120 A 20 10 1 0 1 350 130 A 20 10 1 0 1 370 140 L 370 160 A 20 10 0 0 0 390 170' />
	<text x='345' y='138' text-anchor='end' font-size='16pt' fill='navy' >right brace</text>

</svg>
</div>

<p class='fig_title'><a name='jKClDFWGMjM'></a>Figure.4-33 波括弧のサンプル</p>
<details>
<summary>　※上記サンプルのソースはこちら。</summary>
<pre class='code'>
(diagram (400 220)
   (grid)
   (with-options (<span class='keyword3'>:font</span>   '(<span class='keyword3'>:fill</span> <span class='keyword3'>:navy</span> <span class='keyword3'>:size</span> 16)
                  <span class='keyword3'>:stroke</span> '(<span class='keyword3'>:color</span> <span class='keyword3'>:navy</span> <span class='keyword3'>:width</span> 2))
       (brace '(200  30) <span class='keyword3'>:upper</span>  240  40 <span class='keyword3'>:r</span> 10 <span class='keyword3'>:point</span> 150 <span class='keyword3'>:text</span> <span class='literal'>"upper brace"</span> )
       (brace '(200 190) <span class='keyword3'>:bottom</span> 240  40 <span class='keyword3'>:r</span> 10 <span class='keyword3'>:point</span>  60 <span class='keyword3'>:text</span> <span class='literal'>"bottom brace"</span>)
       (brace '( 30 110) <span class='keyword3'>:left</span>    40 120 <span class='keyword3'>:r</span> 10 <span class='keyword3'>:point</span>  40 <span class='keyword3'>:text</span> <span class='literal'>"left brace"</span>  )
       (brace '(370 110) <span class='keyword3'>:right</span>   40 120 <span class='keyword3'>:r</span> 10 <span class='keyword3'>:point</span>  80 <span class='keyword3'>:text</span> <span class='literal'>"right brace"</span> )))
</pre>
</details>
<p>　<a class='autolink' href='#lBS33hNe32a'>brace</a> のパラメータ構成は以下の通りです。</p>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>brace</span> (center direction width height
                        <span class='keyword2'>&amp;key</span> r point text font stroke layer filter id) ...)
</pre>
<p>　　</p>
<p class='tbl_title'><a name='kt8n5zzXY1P'></a>Table.4-14 brace のパラメータ</p>
<table align='center'>
<tr style="font-size: 14;"><th>パラメータ</th><th>説明</th></tr>
<tr style="font-size: 14;"><td nowrap align='left'>center</td><td align='left'>中心点を指定します。詳細は「<a href='#h1RNMQY1C0b'>6  座標と位置</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>di<a class='autolink' href='#kJonRG8GtHF'>rect</a>ion</td><td align='left'><a class='autolink' href='#lBS33hNe32a'>波括弧</a>の向きを <code>:upper,:bottom,:left,:right</code> のいずれかで指定します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>width</td><td align='left'>幅を数値で指定します（後述）。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>height</td><td align='left'>高さを数値で指定します（後述）。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>r</td><td align='left'>曲線部分の半径を数値で指定します（後述）。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>point</td><td align='left'>中央の「つまみ」の曲線部分の端からの距離を数値で指定します。<br>これは水平の<a class='autolink' href='#lBS33hNe32a'>波括弧</a>の場合は左から、垂直の<a class='autolink' href='#lBS33hNe32a'>波括弧</a>の場合は上からの距離です。（後述）。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><a class='autolink' href='#cTdCvBeU6ZJ'>text</a></td><td align='left'>描画するテキストを文字列で指定します。改行は "~%" で表現します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>font</td><td align='left'><a class='autolink' href='#3kZ9FkounyK'>フォント</a>を指定します。詳細は「<a href='#3kZ9FkounyK'>10.4  フォント</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>stroke</td><td align='left'><a class='autolink' href='#lBS33hNe32a'>波括弧</a>を描画する線を指定します。詳細は「<a href='#4HFjqmTuIU6'>10.2  ストローク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>layer</td><td align='left'>レイヤーに所属させる場合、その名前をキーワードで指定します。<br>詳細は「<a href='#1ovJxG7Ie9O'>10.8  レイヤー</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>filter</td><td align='left'><a class='autolink' href='#gPGlqSbIfdL'>フィルタ</a>効果を適用したい場合、その名前を指定します。<br>詳細は「<a href='#gPGlqSbIfdL'>10.7  フィルタ</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>id</td><td align='left'>ID を付与したい場合、その名前をキーワードで指定します。<br>詳細は「<a href='#iu9Ovm00KHn'>10.5  IDと参照</a>」を参照してください。</td></tr>
</table>
<p>　　</p>
<p>　上記だけではわかりにくいので、以下を参考にしてください。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='400' height='150'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- brace -->
	<path fill='none' stroke='navy' stroke-width='2' d='M 80 40 A 30 30 0 0 0 110 70 L 200 70 A 30 30 1 0 1 230 100 A 30 30 1 0 1 260 70 L 290 70 A 30 30 0 0 0 320 40' />
	<!-- line -->
	<polyline fill='none' stroke='gray' stroke-width='1' stroke-dasharray='QUOTE (3 3) ' points=' 80.0,10.0 80.0,130.0' />
	<!-- line -->
	<polyline fill='none' stroke='gray' stroke-width='1' stroke-dasharray='QUOTE (3 3) ' points=' 320.0,40.0 320.0,10.0' />
	<!-- line -->
	<polyline fill='none' stroke='gray' stroke-width='1' stroke-dasharray='QUOTE (3 3) ' points=' 320.0,40.0 350.0,40.0' />
	<!-- line -->
	<polyline fill='none' stroke='gray' stroke-width='1' stroke-dasharray='QUOTE (3 3) ' points=' 230.0,100.0 350.0,100.0' />
	<!-- line -->
	<polyline fill='none' stroke='gray' stroke-width='1' stroke-dasharray='QUOTE (3 3) ' points=' 110.0,70.0 110.0,100.0' />
	<!-- line -->
	<polyline fill='none' stroke='gray' stroke-width='1' stroke-dasharray='QUOTE (3 3) ' points=' 230.0,100.0 230.0,130.0' />
	<!-- line -->
	<polyline fill='none' stroke='brown' stroke-width='1' points=' 80.0,20.0 320.0,20.0' />
	<polyline fill='none' stroke='brown' stroke-width='1' points='88.660255,15.0 80,20 88.660255,25.0' />
	<polyline fill='none' stroke='brown' stroke-width='1' points='311.33975,25.0 320,20 311.33975,15.0' />
	<!-- line -->
	<polyline fill='none' stroke='brown' stroke-width='1' points=' 340.0,40.0 340.0,100.0' />
	<polyline fill='none' stroke='brown' stroke-width='1' points='345.0,48.660255 340,40 335.0,48.660255' />
	<polyline fill='none' stroke='brown' stroke-width='1' points='335.0,91.339745 340,100 345.0,91.339745' />
	<!-- line -->
	<polyline fill='none' stroke='brown' stroke-width='1' points=' 80.0,90.0 110.0,90.0' />
	<polyline fill='none' stroke='brown' stroke-width='1' points='88.660255,85.0 80,90 88.660255,95.0' />
	<polyline fill='none' stroke='brown' stroke-width='1' points='101.339745,95.0 110,90 101.339745,85.0' />
	<!-- line -->
	<polyline fill='none' stroke='brown' stroke-width='1' points=' 80.0,120.0 230.0,120.0' />
	<polyline fill='none' stroke='brown' stroke-width='1' points='88.660255,115.0 80,120 88.660255,125.0' />
	<polyline fill='none' stroke='brown' stroke-width='1' points='221.33975,125.0 230,120 221.33975,115.0' />
	<!-- text -->
	<text x='200' y='35' text-anchor='middle' font-size='12pt' fill='brown' >width</text>
	<!-- text -->
	<text x='345' y='75' text-anchor='start' font-size='12pt' fill='brown' >height</text>
	<!-- text -->
	<text x='95' y='105' text-anchor='middle' font-size='12pt' fill='brown' >r</text>
	<!-- text -->
	<text x='155' y='135' text-anchor='middle' font-size='12pt' fill='brown' >point</text>

</svg>
</div>

<p class='fig_title'><a name='eWywNaFqjwP'></a>Figure.4-34 波括弧のパラメータ</p>
<ul>
<li><code>r</code> が省略された場合、デフォルト値として <code>height</code> （縦向きの場合は <code>width</code> ）の 1/3 が指定されます</li>
<li><code>point</code> が省略された場合、デフォルト値として <code>width</code> （縦向きの場合は <code>height</code> ）の 1/2 が指定されます</li>
<li><code>point</code> が左右端に近過ぎる場合、 <code>r</code> が自動調整されます</li>
</ul>
<p>　　</p>
<p>　図の中で<a class='autolink' href='#lBS33hNe32a'>波括弧</a>のスタイルを統一する作業を簡単にするために、<a class='autolink' href='#avbLVTgRge8'>with-brace-options</a> が用意されています。これを以下のように使用することで、複数の<a class='autolink' href='#lBS33hNe32a'>波括弧</a>のスタイルを一箇所で指定することができます。</p>
<pre class='code'>
(diagram (400 220)
   (grid)
   (with-brace-options (<span class='keyword3'>:font</span>   '(<span class='keyword3'>:fill</span>  <span class='keyword3'>:brown</span> <span class='keyword3'>:size</span> 16)
                        <span class='keyword3'>:stroke</span> '(<span class='keyword3'>:color</span> <span class='keyword3'>:brown</span> <span class='keyword3'>:width</span> 2))
       (brace '(200  30) <span class='keyword3'>:upper</span>  240  40 <span class='keyword3'>:r</span> 10 <span class='keyword3'>:point</span> 150 <span class='keyword3'>:text</span> <span class='literal'>"upper brace"</span> )
       (brace '(200 190) <span class='keyword3'>:bottom</span> 240  40 <span class='keyword3'>:r</span> 10 <span class='keyword3'>:point</span>  60 <span class='keyword3'>:text</span> <span class='literal'>"bottom brace"</span>)
       (brace '( 30 110) <span class='keyword3'>:left</span>    40 120 <span class='keyword3'>:r</span> 10 <span class='keyword3'>:point</span>  40 <span class='keyword3'>:text</span> <span class='literal'>"left brace"</span>  )
       (brace '(370 110) <span class='keyword3'>:right</span>   40 120 <span class='keyword3'>:r</span> 10 <span class='keyword3'>:point</span>  80 <span class='keyword3'>:text</span> <span class='literal'>"right brace"</span> )))
</pre>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='400' height='220'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- brace -->
	<path fill='none' stroke='brown' stroke-width='2' d='M 80 10 A 10 20 0 0 0 90 30 L 220 30 A 10 20 1 0 1 230 50 A 10 20 1 0 1 240 30 L 310 30 A 10 20 0 0 0 320 10' />
	<text x='230' y='71' text-anchor='middle' font-size='16pt' fill='brown' >upper brace</text>
	<!-- brace -->
	<path fill='none' stroke='brown' stroke-width='2' d='M 80 210 A 10 20 1 0 1 90 190 L 130 190 A 10 20 0 0 0 140 170 A 10 20 0 0 0 150 190 L 310 190 A 10 20 1 0 1 320 210' />
	<text x='140' y='165' text-anchor='middle' font-size='16pt' fill='brown' >bottom brace</text>
	<!-- brace -->
	<path fill='none' stroke='brown' stroke-width='2' d='M 10 50 A 20 10 1 0 1 30 60 L 30 80 A 20 10 0 0 0 50 90 A 20 10 0 0 0 30 100 L 30 160 A 20 10 1 0 1 10 170' />
	<text x='55' y='98' text-anchor='start' font-size='16pt' fill='brown' >left brace</text>
	<!-- brace -->
	<path fill='none' stroke='brown' stroke-width='2' d='M 390 50 A 20 10 0 0 0 370 60 L 370 120 A 20 10 1 0 1 350 130 A 20 10 1 0 1 370 140 L 370 160 A 20 10 0 0 0 390 170' />
	<text x='345' y='138' text-anchor='end' font-size='16pt' fill='brown' >right brace</text>

</svg>
</div>

<p class='fig_title'><a name='hnkBV0wrSv5'></a>Figure.4-35 with-brace-options のサンプル</p>
<h3><a name='g6xjP526KX7'></a>4.15 テーブル</h3>
<p>　<a class='autolink' href='#g6xjP526KX7'>table</a> を使うことで、表を描画することができます。以下の例では、３行４列の表を作成しています。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='320' height='120'>
	
	<!-- table -->
	<rect x='10' y='15' width='300' height='90' fill='white' stroke='none' stroke-width='1' />
	<rect x='10' y='15' width='300' height='30' fill='skyblue' stroke='none' stroke-width='1' />
	<polyline fill='none' stroke='black' stroke-width='1' points=' 10.0,15.0 310.0,15.0' />
	<polyline fill='none' stroke='black' stroke-width='1' points=' 10.0,45.0 310.0,45.0' />
	<polyline fill='none' stroke='black' stroke-width='1' points=' 10.0,75.0 310.0,75.0' />
	<polyline fill='none' stroke='black' stroke-width='1' points=' 10.0,105.0 310.0,105.0' />
	<polyline fill='none' stroke='black' stroke-width='1' points=' 10.0,15.0 10.0,105.0' />
	<polyline fill='none' stroke='black' stroke-width='1' points=' 85.0,15.0 85.0,105.0' />
	<polyline fill='none' stroke='black' stroke-width='1' points=' 160.0,15.0 160.0,105.0' />
	<polyline fill='none' stroke='black' stroke-width='1' points=' 235.0,15.0 235.0,105.0' />
	<polyline fill='none' stroke='black' stroke-width='1' points=' 310.0,15.0 310.0,105.0' />
	<text x='47.5' y='36' text-anchor='middle' font-size='12pt' fill='black' >FOO</text>
	<text x='122.5' y='36' text-anchor='middle' font-size='12pt' fill='black' >BAR</text>
	<text x='197.5' y='36' text-anchor='middle' font-size='12pt' fill='black' >BAZ</text>
	<text x='272.5' y='36' text-anchor='middle' font-size='12pt' fill='black' >QUUX</text>
	<text x='79' y='66' text-anchor='end' font-size='12pt' fill='black' >5</text>
	<text x='154' y='66' text-anchor='end' font-size='12pt' fill='black' >6</text>
	<text x='229' y='66' text-anchor='end' font-size='12pt' fill='black' >42</text>
	<text x='304' y='66' text-anchor='end' font-size='12pt' fill='black' >-123</text>
	<text x='16' y='96' text-anchor='start' font-size='12pt' fill='black' >asdf</text>
	<text x='91' y='96' text-anchor='start' font-size='12pt' fill='black' >qwer</text>
	<text x='166' y='96' text-anchor='start' font-size='12pt' fill='black' >zxcv</text>
	<text x='241' y='96' text-anchor='start' font-size='12pt' fill='black' >hjkl</text>

</svg>
</div>

<p class='fig_title'><a name='4p5NTDB8bf1'></a>Figure.4-36 テーブルのサンプル</p>
<details>
<summary>　※上記サンプルのソースはこちら。</summary>
<pre class='code'>
(diagram (320 120)
   (table '(160 60) '(30 30 30) '(75 75 75 75)
          <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span> <span class='keyword3'>:fills</span> '(<span class='keyword3'>:rc</span> <span class='keyword3'>:white</span> <span class='keyword3'>:r0</span> <span class='keyword3'>:skyblue</span>)
          <span class='keyword3'>:texts</span> '((<span class='keyword3'>:foo</span> <span class='keyword3'>:bar</span> <span class='keyword3'>:baz</span> <span class='keyword3'>:quux</span>)
                   (5 6 42 -123)
                   (<span class='literal'>"asdf"</span> <span class='literal'>"qwer"</span> <span class='literal'>"zxcv"</span> <span class='literal'>"hjkl"</span>))))
</pre>
</details>
<p>　<a class='autolink' href='#g6xjP526KX7'>table</a> のパラメータ構成は以下の通りです。</p>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>table</span> (center rows cols
                        <span class='keyword2'>&amp;key</span> stroke fills font texts layer id) ...)
</pre>
<p>　　</p>
<p class='tbl_title'><a name='46vpyWYCtdw'></a>Table.4-15 table のパラメータ</p>
<table align='center'>
<tr style="font-size: 14;"><th>パラメータ</th><th>説明</th></tr>
<tr style="font-size: 14;"><td nowrap align='left'>center</td><td align='left'>中心点を指定します。詳細は「<a href='#h1RNMQY1C0b'>6  座標と位置</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>rows</td><td align='left'>行数と各行の高さを数値のリストで指定します。リストの長さが行数、リスト要素の数値が行の高さです。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>cols</td><td align='left'>列数と各列の幅を数値のリストで指定します。リストの長さが列数、リスト要素の数値が列の幅です。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>stroke</td><td align='left'>罫線を描画する線を指定します。詳細は「<a href='#4HFjqmTuIU6'>10.2  ストローク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>fills</td><td align='left'>表、行、列、またはセル個別の塗り潰しを指定します。位置を示すキーワードと<a class='autolink' href='#dBUd7L4C3dx'>フィル</a>情報の２つの値を繰り返すリストで指定してください。位置は、表全体であれば <code>:rc</code> 、列や行全体を指定する場合は <code>:rN</code> や <code>:cM</code> を指定します。ここで、 <code>N,M</code> は行や列の番号を示す整数です（上または左から０で始まります）。単独のセルを指定する場合、同じ要領で <code>:rNcM</code> と指定してください。 <code>fills</code> パラメータ全体が省略された場合、表の背景は塗り潰されません。<a class='autolink' href='#dBUd7L4C3dx'>フィル</a>情報の詳細は「<a href='#dBUd7L4C3dx'>10.3  フィル</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>font</td><td align='left'>表内でテキストを描画する際に使用する<a class='autolink' href='#3kZ9FkounyK'>フォント</a>を指定します。省略した場合、 <code>*default-table-font*, *default-font*</code> の順でデフォルト<a class='autolink' href='#3kZ9FkounyK'>フォント</a>が使用されます。また、 <code>texts</code> パラメータ指定の中でセル毎に個別に<a class='autolink' href='#3kZ9FkounyK'>フォント</a>を指定することもできます。<a class='autolink' href='#3kZ9FkounyK'>フォント</a>情報の詳細は「<a href='#3kZ9FkounyK'>10.4  フォント</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><a class='autolink' href='#cTdCvBeU6ZJ'>text</a>s</td><td align='left'>表内の各セルに設定するテキストをリストで指定します。正確には、行のリストを連ねたリストで指定します。テキスト情報はキーワードなどのシンボル、数値、文字列を指定できますが、アライメントや<a class='autolink' href='#3kZ9FkounyK'>フォント</a>情報を指定する場合は テキスト情報自体をリストにする必要があります。詳細は後述します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>layer</td><td align='left'>レイヤーに所属させる場合、その名前をキーワードで指定します。<br>詳細は「<a href='#1ovJxG7Ie9O'>10.8  レイヤー</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>id</td><td align='left'>ID を付与したい場合、その名前をキーワードで指定します。<br>詳細は「<a href='#iu9Ovm00KHn'>10.5  IDと参照</a>」を参照してください。</td></tr>
</table>
<p>　　</p>
<p>　<code>texts</code> パラメータについて説明します。まず、 <code>texts</code> パラメータそのものを省略した場合、すべてのセルにおいてテキストは指定されなかったものとして扱われます。指定する場合、典型的には前述の例のように「リストのリスト」として指定することになります。</p>
<pre class='code'>
  <span class='keyword3'>:texts</span> '((<span class='keyword3'>:foo</span> <span class='keyword3'>:bar</span> <span class='keyword3'>:baz</span> <span class='keyword3'>:quux</span>)
           (5 6 42 -123)
           (<span class='literal'>"asdf"</span> <span class='literal'>"qwer"</span> <span class='literal'>"zxcv"</span> <span class='literal'>"hjkl"</span>))
</pre>
<p>　この例では 3 行 x 4 列全てのセルにテキストを指定していますが、空のままにしておきたいセルには <code>nil</code> を指定してください。見ての通り、 <code>:texts</code> といっても数値やシンボルも指定することができます。ただし、改行を含む複数行のテキストを表示させることはできません。それが必要な場合は、後述する <a href='#3qNm5uHdKTZ'>with-table-cell を使ったセル内描画</a>を利用してください。</p>
<p>　表示させるテキストの<a class='autolink' href='#3kZ9FkounyK'>フォント</a>情報やアライメントを指定したい場合、個々のデータ自体をリストで指定する必要があります。</p>
<ul>
<li>データはリストの先頭要素として指定します。</li>
<li>水平方向のアライメントは、 <code>:align</code> に続けて <code>:left, :center, :right</code> のいずれかを指定します。これを省略した場合、 <code>data</code> が数値であれば右寄せ、文字列であれば左寄せ、キーワードなどのシンボルであれば中央揃えになります。</li>
<li>垂直方向のアライメントは、 <code>:valign</code> に続けて <code>:top, :center, :bottom</code> のいずれかを指定します。デフォルトで <code>:center</code> 指定になります</li>
<li><a class='autolink' href='#3kZ9FkounyK'>フォント</a>は、 <code>:font</code> に続けて<a class='autolink' href='#3kZ9FkounyK'>フォント</a>情報を指定します。これを省略した場合、その時点でのデフォルト<a class='autolink' href='#3kZ9FkounyK'>フォント</a>が使用されます。</li>
</ul>
<p>　<code>:align</code> および <code>:valign</code> のサンプルを以下に示します。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='480' height='240'>
	
	<!-- tbl : table -->
	<g id='tbl'>
		<rect x='10' y='10' width='460' height='220' fill='white' stroke='none' stroke-width='1' />
		<rect x='10' y='10' width='460' height='40' fill='skyblue' stroke='none' stroke-width='1' />
		<rect x='10' y='10' width='100' height='220' fill='skyblue' stroke='none' stroke-width='1' />
		<polyline fill='none' stroke='navy' stroke-width='1' points=' 10.0,10.0 470.0,10.0' />
		<polyline fill='none' stroke='navy' stroke-width='1' points=' 10.0,50.0 470.0,50.0' />
		<polyline fill='none' stroke='navy' stroke-width='1' points=' 10.0,110.0 470.0,110.0' />
		<polyline fill='none' stroke='navy' stroke-width='1' points=' 10.0,170.0 470.0,170.0' />
		<polyline fill='none' stroke='navy' stroke-width='1' points=' 10.0,230.0 470.0,230.0' />
		<polyline fill='none' stroke='navy' stroke-width='1' points=' 10.0,10.0 10.0,230.0' />
		<polyline fill='none' stroke='navy' stroke-width='1' points=' 110.0,10.0 110.0,230.0' />
		<polyline fill='none' stroke='navy' stroke-width='1' points=' 230.0,10.0 230.0,230.0' />
		<polyline fill='none' stroke='navy' stroke-width='1' points=' 350.0,10.0 350.0,230.0' />
		<polyline fill='none' stroke='navy' stroke-width='1' points=' 470.0,10.0 470.0,230.0' />
		<text x='170' y='36' text-anchor='middle' font-size='12pt' fill='black' >:left</text>
		<text x='290' y='36' text-anchor='middle' font-size='12pt' fill='black' >:center</text>
		<text x='410' y='36' text-anchor='middle' font-size='12pt' fill='black' >:right</text>
		<text x='60' y='86' text-anchor='middle' font-size='12pt' fill='black' >:top</text>
		<text x='116' y='68' text-anchor='start' font-size='12pt' fill='black' >top-left</text>
		<text x='290' y='68' text-anchor='middle' font-size='12pt' fill='black' >top-center</text>
		<text x='464' y='68' text-anchor='end' font-size='12pt' fill='black' >top-right</text>
		<text x='60' y='146' text-anchor='middle' font-size='12pt' fill='black' >:center</text>
		<text x='116' y='146' text-anchor='start' font-size='12pt' fill='black' >center-left</text>
		<text x='290' y='146' text-anchor='middle' font-size='12pt' fill='black' >center-center</text>
		<text x='464' y='146' text-anchor='end' font-size='12pt' fill='black' >center-right</text>
		<text x='60' y='206' text-anchor='middle' font-size='12pt' fill='black' >:bottom</text>
		<text x='116' y='224' text-anchor='start' font-size='12pt' fill='black' >botom-left</text>
		<text x='290' y='224' text-anchor='middle' font-size='12pt' fill='black' >bottom-center</text>
		<text x='464' y='224' text-anchor='end' font-size='12pt' fill='black' >bottom-right</text>
	</g>
	<!-- text -->
	<text x='59' y='28' text-anchor='start' font-size='12pt' fill='black' >:align</text>
	<!-- text -->
	<text x='13' y='45' text-anchor='start' font-size='12pt' fill='black' >:valign</text>
	<!-- line -->
	<polyline fill='none' stroke='navy' stroke-width='1' points=' 10.0,10.0 110.0,50.0' />

</svg>
</div>

<p class='fig_title'><a name='0EEfXZqu18P'></a>Figure.4-37 テーブルにおけるテキストの align と valign パラメータ</p>
<details>
<summary>　※上記サンプルのソースはこちら。</summary>
<pre class='code'>
(diagram (480 240)
  (with-options (<span class='keyword3'>:font</span> '(<span class='keyword3'>:size</span> 12))
    (table '(240 120) '(40 60 60 60) '(100 120 120 120)
           <span class='keyword3'>:stroke</span> <span class='keyword3'>:navy</span> <span class='keyword3'>:id</span> <span class='keyword3'>:tbl</span>
           <span class='keyword3'>:fills</span> '(<span class='keyword3'>:rc</span> <span class='keyword3'>:white</span> <span class='keyword3'>:r0</span> <span class='keyword3'>:skyblue</span> <span class='keyword3'>:c0</span> <span class='keyword3'>:skyblue</span>)
           <span class='keyword3'>:texts</span> `((nil        :|:left|   :|:center|   :|:right|)
                    (:|:top|    (<span class='literal'>"top-left"</span>      <span class='keyword3'>:align</span> <span class='keyword3'>:left</span>   <span class='keyword3'>:valign</span> <span class='keyword3'>:top</span>)
                                (<span class='literal'>"top-center"</span>    <span class='keyword3'>:align</span> <span class='keyword3'>:center</span> <span class='keyword3'>:valign</span> <span class='keyword3'>:top</span>)
                                (<span class='literal'>"top-right"</span>     <span class='keyword3'>:align</span> <span class='keyword3'>:right</span>  <span class='keyword3'>:valign</span> <span class='keyword3'>:top</span>))
                    (:|:center| (<span class='literal'>"center-left"</span>   <span class='keyword3'>:align</span> <span class='keyword3'>:left</span>   <span class='keyword3'>:valign</span> <span class='keyword3'>:center</span>)
                                (<span class='literal'>"center-center"</span> <span class='keyword3'>:align</span> <span class='keyword3'>:center</span> <span class='keyword3'>:valign</span> <span class='keyword3'>:center</span>)
                                (<span class='literal'>"center-right"</span>  <span class='keyword3'>:align</span> <span class='keyword3'>:right</span>  <span class='keyword3'>:valign</span> <span class='keyword3'>:center</span>))
                    (:|:bottom| (<span class='literal'>"botom-left"</span>    <span class='keyword3'>:align</span> <span class='keyword3'>:left</span>   <span class='keyword3'>:valign</span> <span class='keyword3'>:bottom</span>)
                                (<span class='literal'>"bottom-center"</span> <span class='keyword3'>:align</span> <span class='keyword3'>:center</span> <span class='keyword3'>:valign</span> <span class='keyword3'>:bottom</span>)
                                (<span class='literal'>"bottom-right"</span>  <span class='keyword3'>:align</span> <span class='keyword3'>:right</span>  <span class='keyword3'>:valign</span> <span class='keyword3'>:bottom</span>))))
    (with-table-cell (<span class='keyword3'>:tbl</span> 0 0)
      (text (xy+ canvas.center -1 -2)  <span class='literal'>":align"</span> <span class='keyword3'>:align</span> <span class='keyword3'>:left</span>)
      (text (xy+ canvas.left    3 15) <span class='literal'>":valign"</span> <span class='keyword3'>:align</span> <span class='keyword3'>:left</span>)
      (<span class='keyword1'>let</span> ((w canvas.width)
           (h canvas.height))
        (line `((0 0) (,w ,h)) <span class='keyword3'>:stroke</span> <span class='keyword3'>:navy</span>)))))
</pre>
</details>
<p>　データを（リストでなく）直接指定した場合でも、数値ならば右寄せ、文字列ならば左寄せ、シンボルならば中央揃えというデフォルトの設定は行なわれるため、多くの場合で個別セルのテキストデータ指定をリストで行なう必要は無いでしょう。キーワードを使うと全て大文字で表示されてしまいますが、 <code>:|Foo|</code> のようにバーティカルバーで括ると文字の大小を維持したまま表示されます（<a href='#0EEfXZqu18P'>Figure.4-37</a> のコードを参照）。</p>
<h4><a name='3qNm5uHdKTZ'></a>4.15.1 with-table-cell を使ったセル内描画</h4>
<p>　<code>table</code> の id とセルの行・列番号を指定して <code>with-table-cell</code> を使用することで、該当するセルを<a class='autolink' href='#kgs1vf3AbTN'>サブキャンバス</a>とした描画ができます。</p>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>with-table-cell</span> ((id r c) &amp;body body) ...)
</pre>
<p>　以下の例では、2 x 2 の空の<a class='autolink' href='#g6xjP526KX7'>テーブル</a>を作成し、そのうちの２つのセル内部に図形を描画しています。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='220' height='220'>
	
	<!-- tbl : table -->
	<g id='tbl'>
		<rect x='10' y='10' width='200' height='200' fill='white' stroke='none' stroke-width='1' />
		<polyline fill='none' stroke='navy' stroke-width='1' points=' 10.0,10.0 210.0,10.0' />
		<polyline fill='none' stroke='navy' stroke-width='1' points=' 10.0,110.0 210.0,110.0' />
		<polyline fill='none' stroke='navy' stroke-width='1' points=' 10.0,210.0 210.0,210.0' />
		<polyline fill='none' stroke='navy' stroke-width='1' points=' 10.0,10.0 10.0,210.0' />
		<polyline fill='none' stroke='navy' stroke-width='1' points=' 110.0,10.0 110.0,210.0' />
		<polyline fill='none' stroke='navy' stroke-width='1' points=' 210.0,10.0 210.0,210.0' />
	</g>
	<!-- circle -->
	<circle cx='60' cy='160' r='30' fill='lightcyan' stroke='blue' stroke-width='1' />
	<!-- rectangle -->
	<g transform='rotate(45,160,60)'>
		<rect x='135' y='35' width='50' height='50' fill='lightpink' stroke='red' stroke-width='1' />
	</g>

</svg>
</div>

<p class='fig_title'><a name='knawwdhRtbI'></a>Figure.4-38 with-table-cell の使用例</p>
<p>　上記のサンプルは以下のコードで生成されています。</p>
<pre class='code'>
(diagram (220 220)
    (table '(110 110) '(100 100) '(100 100)
               <span class='keyword3'>:stroke</span> <span class='keyword3'>:navy</span> <span class='keyword3'>:fills</span> '(<span class='keyword3'>:rc</span> <span class='keyword3'>:white</span>) <span class='keyword3'>:id</span> <span class='keyword3'>:tbl</span>)
    (with-table-cell (<span class='keyword3'>:tbl</span> 1 0)
      (circle canvas.center 30 <span class='keyword3'>:fill</span> <span class='keyword3'>:lightcyan</span> <span class='keyword3'>:stroke</span> <span class='keyword3'>:blue</span>))
    (with-table-cell (<span class='keyword3'>:tbl</span> 0 1)
      (rect canvas.center 50 50 <span class='keyword3'>:fill</span> <span class='keyword3'>:lightpink</span> <span class='keyword3'>:stroke</span> <span class='keyword3'>:red</span> <span class='keyword3'>:rotate</span> 45)))
</pre>
<p>　<code>with-table-cell</code> は事実上、指定した<a class='autolink' href='#g6xjP526KX7'>テーブル</a>の指定セル領域を指定した <code>with-subcanvas</code> として機能します。そのため、 <code>canvas</code> を使ってその中心座標や幅、高さ情報にアクセスできます。</p>
<p>　　</p>
<h2><a name='gz7soCOOkJW'></a>5 その他の図形要素</h2>
<p>　ほしい図形要素がなければ、手間はかかりますが<a class='autolink' href='#4qgt62QVDZl'>パス</a>を使って実現できるかもしれません。図面の中に写真などのラスタ画像を含めることもできます。あるいは、kaavio がサポートしていない SVG の機能を利用したければ生の SVG コードを挿入することもできます。</p>
<h3><a name='4qgt62QVDZl'></a>5.1 パス</h3>
<p>　<a class='autolink' href='#4qgt62QVDZl'>path</a> によって<a class='autolink' href='#fv4OUML78x4'>直線</a>や曲線からなる複雑な図形を描画できます。<a class='autolink' href='#5vGRm9AMypB'>polygon</a> は<a class='autolink' href='#fv4OUML78x4'>直線</a>からなる<a class='autolink' href='#5vGRm9AMypB'>多角形</a>でしたが、<a class='autolink' href='#4qgt62QVDZl'>path</a> は複雑な曲線を含む図形を描画できます。ただ、その分構文も複雑です。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='300' height='100'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- path -->
	<path fill='rosybrown' stroke='black' stroke-width='1' d='M 120 50 A 30 30 0 1 1 150 80 L 150 50 Z' />

</svg>
</div>

<p class='fig_title'><a name='4Iv4ytJmORX'></a>Figure.5-1 path のサンプル</p>
<details>
<summary>　※上記サンプルのソースはこちら。</summary>
<pre class='code'>
(diagram (300 100)
  (grid)
  (path '((<span class='keyword3'>:move-to</span> (120 50))
          (<span class='keyword3'>:arc-to</span> 30 30 0 1 1 (150 80))
          (<span class='keyword3'>:line-to</span> (150 50)) <span class='keyword3'>:close-path</span>) <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span> <span class='keyword3'>:fill</span> <span class='keyword3'>:rosybrown</span>))
</pre>
</details>
<p>　<a class='autolink' href='#4qgt62QVDZl'>path</a> のパラメータ構成は以下の通りです。</p>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>path</span> (data <span class='keyword2'>&amp;key</span> fill stroke layer filter id) ... )
</pre>
<p class='tbl_title'><a name='1YwjqbZ6y0N'></a>Table.5-1 path のパラメータ</p>
<table align='center'>
<tr style="font-size: 14;"><th>パラメータ</th><th>説明</th></tr>
<tr style="font-size: 14;"><td nowrap align='left'>data</td><td align='left'><a class='autolink' href='#4qgt62QVDZl'>パス</a>を構成するデータを指定します。詳細は後述します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>fill</td><td align='left'>内部の塗り潰しを指定します。詳細は「<a href='#dBUd7L4C3dx'>10.3  フィル</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>stroke</td><td align='left'>線を指定します。詳細は「<a href='#4HFjqmTuIU6'>10.2  ストローク</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>layer</td><td align='left'>レイヤーに所属させる場合、その名前をキーワードで指定します。<br>詳細は「<a href='#1ovJxG7Ie9O'>10.8  レイヤー</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>id</td><td align='left'>ID を付与したい場合、その名前をキーワードで指定します。<br>詳細は「<a href='#iu9Ovm00KHn'>10.5  IDと参照</a>」を参照してください。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'>filter</td><td align='left'><a class='autolink' href='#gPGlqSbIfdL'>フィルタ</a>効果を適用したい場合、その名前を指定します。<br>詳細は「<a href='#gPGlqSbIfdL'>10.7  フィルタ</a>」を参照してください。</td></tr>
</table>
<p>　　</p>
<p>　data パラメータについて説明します。data パラメータは以下のような <strong>ディレクティブ</strong> キーワードを要素とするリストで指定します。点や値の指定を伴うディレクティブは、それ自体をリストにする必要があります。</p>
<p class='tbl_title'><a name='f7wEYjGUqWE'></a>Table.5-2 path の data で使用できるディレクティブ</p>
<table align='center'>
<tr style="font-size: 14;"><th>ディレクティブ</th><th>説明</th></tr>
<tr style="font-size: 14;"><td nowrap align='left'><code>:move-to</code></td><td align='left'>指定した点に（線を描くことなく）移動します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><code>:line-to</code></td><td align='left'>現在の点から指定した点に向かって（線を描きながら）移動します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><code>:h-line-to</code></td><td align='left'>現在の点から指定した x 座標に向かって水平線を描きながら移動します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><code>:v-line-to</code></td><td align='left'>現在の点から指定した y 座標に向かって垂<a class='autolink' href='#fv4OUML78x4'>直線</a>を描きながら移動します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><code>:arc-to</code></td><td align='left'><span style='background:red;color:white;'>ToDo : まだ記述されていません。</span></td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><code>:2d-curve-to</code></td><td align='left'><span style='background:red;color:white;'>ToDo : まだ記述されていません。</span></td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><code>:3d-curve-to</code></td><td align='left'><span style='background:red;color:white;'>ToDo : まだ記述されていません。</span></td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><code>:absolute</code></td><td align='left'>後続のディレクティブを、現在の<a class='autolink' href='#kgs1vf3AbTN'>キャンバス</a>に対する絶対座標として処理します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><code>:relative</code></td><td align='left'>後続のディレクティブを、現在の点に対する相対座標として処理します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><code>:close-path</code></td><td align='left'><a class='autolink' href='#4qgt62QVDZl'>パス</a>を閉じます。すなわち、現在の点から先頭の点までを結ぶ<a class='autolink' href='#fv4OUML78x4'>直線</a>を引きます。</td></tr>
</table>
<p>　　</p>
<p>　多くの場合、開始点に移動してから<a class='autolink' href='#fv4OUML78x4'>直線</a>や曲線を描いて、最後には開始点に戻ることで図形を描くことになります。たとえば、正方形を描く場合の data パラメータは以下のようなリストになるでしょう。</p>
<pre class='code'>
  '((<span class='keyword3'>:move-to</span> ( 50  50))
    (<span class='keyword3'>:line-to</span> (100  50))
    (<span class='keyword3'>:line-to</span> (100 100))
    (<span class='keyword3'>:line-to</span> ( 50 100)) <span class='keyword3'>:close-path</span>)
</pre>
<p>　以下に、各ディレクティブの詳細について説明します。</p>
<h4><a name='g0Dr3NCI4V0'></a>5.1.1 :move-to ディレクティブ</h4>
<p>　<code>(:move-to pt)</code> という記述により、線を描くことなく指定した点 pt に移動します。また、 <code>(:move-to pt1 pt2 pt3 ...)</code> のように複数の点を記述することができ、これは <code>(:move-to pt1) (:line-to pt2 pt3 ...)</code> と等価になります。以下に例を示します。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='400' height='100'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- path -->
	<path fill='rosybrown' stroke='black' stroke-width='1' d='M 200 10 L 230 50 L 170 50 L 200 10' />
	<!-- text -->
	<text x='200' y='80' text-anchor='middle' font-size='12pt' fill='black' >(:move-to (200 10) (230 50) (170 50) (200 10))</text>

</svg>
</div>

<p class='fig_title'><a name='b5nHW1IvOL5'></a>Figure.5-2 :move-to ディレクティブのサンプル</p>
<p>　なお、<a class='autolink' href='#g0Dr3NCI4V0'>:move-to</a> で指定する点は <a class='autolink' href='#dakC66hrAaS'>:absolute</a> および <a class='autolink' href='#9DKrZhbLEFX'>:relative</a> の影響を受けます。</p>
<h4><a name='cUdEKyCDebd'></a>5.1.2 :line-to ディレクティブ</h4>
<p>　<code>(:line-to pt)</code> という記述により、現在の点から<a class='autolink' href='#fv4OUML78x4'>直線</a>を描きながら指定した点 pt に移動します。<code>(:line-to pt1 pt2 pt3 ...)</code> のように複数の点を記述することができます。これは現在の点から順番に<a class='autolink' href='#fv4OUML78x4'>直線</a>を描きながら移動します。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='400' height='100'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- path -->
	<path fill='rosybrown' stroke='black' stroke-width='1' d='M 200 10 L 230 50 L 170 50 L 200 10' />
	<!-- text -->
	<text x='70' y='75' text-anchor='start' font-size='12pt' fill='black' >(:move-to (200 10))</text>
	<!-- text -->
	<text x='70' y='95' text-anchor='start' font-size='12pt' fill='black' >(:line-to (230 50) (170 50) (200 10))</text>

</svg>
</div>

<p class='fig_title'><a name='i7V67Cjuavz'></a>Figure.5-3 :line-to ディレクティブのサンプル</p>
<p>　なお、<a class='autolink' href='#cUdEKyCDebd'>:line-to</a> で指定する点は <a class='autolink' href='#dakC66hrAaS'>:absolute</a> および <a class='autolink' href='#9DKrZhbLEFX'>:relative</a> の影響を受けます。</p>
<h4><a name='4Dfw1F7JwVj'></a>5.1.3 :h-line-to ディレクティブ</h4>
<p><span style='background:red;color:white;'>ToDo : まだ記述されていません。</span></p>
<h4><a name='1B0JCoNzfxs'></a>5.1.4 :v-line-to ディレクティブ</h4>
<p><span style='background:red;color:white;'>ToDo : まだ記述されていません。</span></p>
<h4><a name='7RszlFbOHcp'></a>5.1.5 :arc-to ディレクティブ</h4>
<p><span style='background:red;color:white;'>ToDo : まだ記述されていません。</span></p>
<pre>
'(arc-to rx ry x-axis-rotation large-arc-flag sweep-flag pt)
</pre>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='400' height='100'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- path -->
	<path fill='rosybrown' stroke='black' stroke-width='1' d='M 150 50 A 30 30 0 0 1 250 80 Z' />

</svg>
</div>

<p class='fig_title'><a name='0iNBCVKyFlO'></a>Figure.5-4 :arc-to ディレクティブのサンプル</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='400' height='140'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- ellipse -->
	<ellipse cx='250' cy='50' rx='100' ry='40' fill='none' stroke='lightgray' stroke-width='2' />
	<!-- ellipse -->
	<ellipse cx='150' cy='90' rx='100' ry='40' fill='none' stroke='lightgray' stroke-width='2' />
	<!-- circle -->
	<circle cx='150' cy='50' r='3' fill='red' stroke='none' stroke-width='1' />
	<!-- circle -->
	<circle cx='250' cy='90' r='3' fill='red' stroke='none' stroke-width='1' />
	<!-- text -->
	<text x='145' y='45' text-anchor='end' font-size='12pt' fill='red' >pt1</text>
	<!-- text -->
	<text x='255' y='105' text-anchor='start' font-size='12pt' fill='red' >pt2</text>

</svg>
</div>

<p>　上記を見ればわかる通り、指定した２つの点を通過する半径 rx, ry の<a class='autolink' href='#7YzIcjhyGKN'>楕円</a>には４種類あります。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='510' height='220'>
	
	<!-- back : group-definition -->
	<defs>
		<g id='back'>
			<!-- ellipse -->
			<ellipse cx='110' cy='30' rx='50' ry='20' fill='none' stroke='lightgray' stroke-width='2' />
			<!-- ellipse -->
			<ellipse cx='60' cy='50' rx='50' ry='20' fill='none' stroke='lightgray' stroke-width='2' />
			<!-- circle -->
			<circle cx='60' cy='30' r='3' fill='red' stroke='none' stroke-width='1' />
			<!-- circle -->
			<circle cx='110' cy='50' r='3' fill='red' stroke='none' stroke-width='1' />
			
		</g>
	</defs>
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- use -->
	<use xlink:href='#back' x='10' y='10' />
	<!-- path -->
	<path fill='none' stroke='red' stroke-width='3' stroke-opacity='0.4' d='M 70 40 A 50 20 0 0 1 120 60' />
	<!-- text -->
	<text x='125' y='75' text-anchor='start' font-size='10pt' fill='black' >large-arc-flag : 0</text>
	<!-- text -->
	<text x='125' y='90' text-anchor='start' font-size='10pt' fill='black' >sweep-flag : 1</text>
	<!-- use -->
	<use xlink:href='#back' x='260' y='10' />
	<!-- path -->
	<path fill='none' stroke='red' stroke-width='3' stroke-opacity='0.4' d='M 320 40 A 50 20 0 0 0 370 60' />
	<!-- text -->
	<text x='375' y='75' text-anchor='start' font-size='10pt' fill='black' >large-arc-flag : 0</text>
	<!-- text -->
	<text x='375' y='90' text-anchor='start' font-size='10pt' fill='black' >sweep-flag : 0</text>
	<!-- use -->
	<use xlink:href='#back' x='10' y='110' />
	<!-- path -->
	<path fill='none' stroke='red' stroke-width='3' stroke-opacity='0.4' d='M 70 140 A 50 20 0 1 1 120 160' />
	<!-- text -->
	<text x='125' y='175' text-anchor='start' font-size='10pt' fill='black' >large-arc-flag : 1</text>
	<!-- text -->
	<text x='125' y='190' text-anchor='start' font-size='10pt' fill='black' >sweep-flag : 1</text>
	<!-- use -->
	<use xlink:href='#back' x='260' y='110' />
	<!-- path -->
	<path fill='none' stroke='red' stroke-width='3' stroke-opacity='0.4' d='M 320 140 A 50 20 0 1 0 370 160' />
	<!-- text -->
	<text x='375' y='175' text-anchor='start' font-size='10pt' fill='black' >large-arc-flag : 1</text>
	<!-- text -->
	<text x='375' y='190' text-anchor='start' font-size='10pt' fill='black' >sweep-flag : 0</text>

</svg>
</div>

<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='200' height='200'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- ellipse -->
	<ellipse cx='100' cy='100' rx='40' ry='20' fill='none' stroke='lightgray' stroke-width='3' />
	<!-- path -->
	<path fill='none' stroke='red' stroke-width='1' d='M 134.64102 110.0 A 40 20 0 0 1 80.0 117.32051' />

</svg>
</div>

<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='200' height='200'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- ellipse -->
	<g transform='rotate(45,100,100)'>
		<ellipse cx='100' cy='100' rx='40' ry='20' fill='none' stroke='lightgray' stroke-width='3' />
	</g>
	<!-- path -->
	<path fill='none' stroke='red' stroke-width='1' d='M 117.42383 131.56596 A 40 20 45 0 1 73.61041 98.105316' />

</svg>
</div>

<h4><a name='00Vj4Quxjg3'></a>5.1.6 :2d-curve-to ディレクティブ</h4>
<p><span style='background:red;color:white;'>ToDo : まだ記述されていません。</span></p>
<h4><a name='ewUXtISm3SD'></a>5.1.7 :3d-curve-to ディレクティブ</h4>
<p><span style='background:red;color:white;'>ToDo : まだ記述されていません。</span></p>
<h4><a name='dakC66hrAaS'></a>5.1.8 :absolute ディレクティブ</h4>
<p><span style='background:red;color:white;'>ToDo : まだ記述されていません。</span></p>
<h4><a name='9DKrZhbLEFX'></a>5.1.9 :relative ディレクティブ</h4>
<p><span style='background:red;color:white;'>ToDo : まだ記述されていません。</span></p>
<h4><a name='eYtPrg88Qb0'></a>5.1.10 :close-path ディレクティブ</h4>
<p><span style='background:red;color:white;'>ToDo : まだ記述されていません。</span></p>
<p>　　</p>
<h3><a name='kSyxpJZzQjY'></a>5.2 画像ファイルの埋め込み</h3>
<p>　<span style='background:red;color:white;'>ToDo : まだ記述されていません。</span></p>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>image</span> (center filename
                 <span class='keyword2'>&amp;key</span> width height label link rotate layer id filter contents) ...)
</pre>
<pre class='code'>
  <span class='comment'>;; width, height の両方とも明示的に指定されている場合、アスペクト比の維持をしない</span>
  (<span class='keyword1'>if</span> (and width height)
      (setf preserve-ratio nil)
      <span class='comment'>;; 上記以外の場合、画像ファイルの実際のサイズを取得する。</span>
      (<span class='keyword1'>multiple-value-bind</span> (w h) (__get-size-of-imagefile path)
        <span class='comment'>;; width, height の両方とも nil ならば実際のサイズを設定</span>
        (<span class='keyword1'>if</span> (and (null width) (null height))
            (setf width  w
                  height h)
            <span class='comment'>;; 上記以外の場合、実サイズのアスペクト比にあわせて nil 側を設定</span>
            (<span class='keyword1'>if</span> (null width)
                (setf width  (* height (/ w h)))
                (setf height (* width  (/ h w))))))))
</pre>
<p>　　</p>
<h3><a name='cNmjD3OiTOH'></a>5.3 生の SVG コード片の挿入</h3>
<p>　<a class='autolink' href='#cNmjD3OiTOH'>raw-svg</a> を使うことで、kaavio が生成する SVG 画像の中に任意の SVG コード片を挿入することができます。サンプルとしては雑ですが、以下のようにすれば、</p>
<pre class='code'>
(diagram (200 100)
  (grid)
  (raw-svg <span class='literal'>"&lt;rect x='50' y='25' width='100' height='50' fill='linen' stroke='brown' stroke-width='1' /&gt;"</span>))
</pre>
<p>　文字列として <a class='autolink' href='#cNmjD3OiTOH'>raw-svg</a> に渡したコード片がそのまま挿入されます。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='200' height='100'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- raw-svg -->
	<rect x='50' y='25' width='100' height='50' fill='linen' stroke='brown' stroke-width='1' />

</svg>
</div>

<p class='fig_title'><a name='f0G61WmPR5j'></a>Figure.5-5 raw-svg のサンプル</p>
<p>　　</p>
<p>　<a class='autolink' href='#cNmjD3OiTOH'>raw-svg</a> のパラメータ構成は以下の通りです。文字列として渡す <code>svgdata</code> パラメータの他に、名前付きパラメータとして <code>layer</code> を取ります。詳細は「<a href='#1ovJxG7Ie9O'>10.8  レイヤー</a>」を参照してください。</p>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>raw-svg</span> (svgdata <span class='keyword2'>&amp;key</span> (layer nil)) ...)
</pre>
<p>　　</p>
<h2><a name='h1RNMQY1C0b'></a>6 座標と位置</h2>
<p>　kaavio では、座標系は左上端を原点としており、水平右方向に x 軸、垂直下方向に y 軸となっています。また、角度は時計回りになります。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='300' height='150'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- circle -->
	<circle cx='0' cy='0' r='4' fill='black' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='5' y='15' text-anchor='start' font-size='12pt' fill='black' >(0, 0)</text>
	<!-- line -->
	<polyline fill='none' stroke='black' stroke-width='1' points=' 250.0,10.0 275.0,10.0' />
	<path fill='black' stroke='black' stroke-width='1' d='M 275 10 l -9.063078 -4.2261825 l 0.0000000000000017763568 8.452365 z' />
	<!-- text -->
	<text x='280' y='15' text-anchor='start' font-size='12pt' fill='black' >x</text>
	<!-- line -->
	<polyline fill='none' stroke='black' stroke-width='1' points=' 10.0,100.0 10.0,130.0' />
	<path fill='black' stroke='black' stroke-width='1' d='M 10 130 l 4.2261825 -9.063078 l -8.452365 0.0000000000000017763568 z' />
	<!-- text -->
	<text x='10' y='145' text-anchor='middle' font-size='12pt' fill='black' >y</text>
	<!-- line -->
	<polyline fill='none' stroke='black' stroke-width='1' points=' 100.0,60.0 180.0,60.0' />
	<!-- text -->
	<text x='185' y='65' text-anchor='start' font-size='12pt' fill='black' >0°</text>
	<!-- line -->
	<polyline fill='none' stroke='black' stroke-width='1' points=' 100.0,60.0 140.0,130.0' />
	<!-- arc -->
	<path fill='none' stroke='black' stroke-width='1' d='M 130.0 60.0 A 30 30 0 0 1 119.28362829059618 82.98133329356934' />
	<!-- line -->
	<polyline fill='none' stroke='black' stroke-width='1' points=' 123.0,80.0 115.0,85.0' />
	<path fill='black' stroke='black' stroke-width='1' d='M 115 85 l 9.925347 -1.2196261 l -4.479745 -7.1675916 z' />
	<!-- text -->
	<text x='130' y='85' text-anchor='start' font-size='12pt' fill='black' >θ</text>

</svg>
</div>

<p class='fig_title'><a name='bdrJmRrH79B'></a>Figure.6-1 kaavio における座標系</p>
<details>
<summary>　※上記画像のソースはこちら。</summary>
<pre class='code'>
(diagram (300 150)
  (grid)
  (circle canvas.topleft 4 <span class='keyword3'>:fill</span> <span class='keyword3'>:black</span>)
  (<span class='keyword1'>let</span> ((em (make-endmark <span class='keyword3'>:type</span> <span class='keyword3'>:triangle</span> <span class='keyword3'>:fill</span> <span class='keyword3'>:black</span> <span class='keyword3'>:size</span> <span class='keyword3'>:small</span>)))
    (text '(5 15) <span class='literal'>"(0, 0)"</span>)
    (line '((250  10) (275  10)) <span class='keyword3'>:end2</span> em) (text '(280  15) <span class='literal'>"x"</span> <span class='keyword3'>:align</span> <span class='keyword3'>:left</span>)
    (line '(( 10 100) ( 10 130)) <span class='keyword3'>:end2</span> em) (text '( 10 145) <span class='literal'>"y"</span> <span class='keyword3'>:align</span> <span class='keyword3'>:center</span>)
    (line '((100  60) (180  60)))          (text '(185  65) <span class='literal'>"0°"</span> <span class='keyword3'>:align</span> <span class='keyword3'>:left</span>)
    (line '((100  60) (140 130)))
    (arc   '(100  60) 30 30 0 0 50)
    (line '((123  80) (115  85)) <span class='keyword3'>:end2</span> em) (text '(130  85) <span class='literal'>"θ"</span> <span class='keyword3'>:align</span> <span class='keyword3'>:left</span>)))
</pre>
</details>
<p>　　</p>
<p>　kaavio データの中で座標を指定する方法にはいくつかあります。以下に説明します。</p>
<p>　具体的な数値で座標を指定する場合、 <code>'(x y)</code> の要領で指定します。つまり、 <code>'(50 100)</code> といった指定です。これは即値で座標を指定する場合の書き方ですが、Common LISP の変数に格納した数値から座標を作成したい場合は make-point 関数が使えます。これは <code>(make-point x y)</code> の要領で使用してください<sup><a name='footnote_ref6' href='#footnote6'>6</a></sup>。</p>
<p>　具体的な数値を指定するのでなく、「すでに登場した要素の位置を利用して座標を指定する」こともできます。<a href='#9LLncE6hWlx'>2  章</a>の 2 つめのサンプルでは、 <code>app.center</code> や <code>in.right</code> という表記が登場しました。これは、図形要素を記述する際に指定した ID を使ってその中心座標などを参照するものです。これには９種類あり、その名前と具体的な場所は以下の通りです<sup><a name='footnote_ref7' href='#footnote7'>7</a></sup>。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='300' height='150'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- rct : rectangle -->
	<rect id='rct' x='100' y='25' width='100' height='100' fill='white' stroke='gray' stroke-width='1' />
	<!-- circle -->
	<circle cx='100' cy='25' r='3' fill='red' stroke='none' stroke-width='1' />
	<!-- text -->
	<text x='97' y='19' text-anchor='end' font-size='12pt' fill='red' >topleft</text>
	<!-- circle -->
	<circle cx='150' cy='25' r='3' fill='red' stroke='none' stroke-width='1' />
	<!-- text -->
	<text x='150' y='19' text-anchor='middle' font-size='12pt' fill='red' >top</text>
	<!-- circle -->
	<circle cx='200' cy='25' r='3' fill='red' stroke='none' stroke-width='1' />
	<!-- text -->
	<text x='203' y='19' text-anchor='start' font-size='12pt' fill='red' >topright</text>
	<!-- circle -->
	<circle cx='100' cy='75' r='3' fill='red' stroke='none' stroke-width='1' />
	<!-- text -->
	<text x='92' y='80' text-anchor='end' font-size='12pt' fill='red' >left</text>
	<!-- circle -->
	<circle cx='150' cy='75' r='3' fill='red' stroke='none' stroke-width='1' />
	<!-- text -->
	<text x='150' y='69' text-anchor='middle' font-size='12pt' fill='red' >center</text>
	<!-- circle -->
	<circle cx='200' cy='75' r='3' fill='red' stroke='none' stroke-width='1' />
	<!-- text -->
	<text x='208' y='80' text-anchor='start' font-size='12pt' fill='red' >right</text>
	<!-- circle -->
	<circle cx='100' cy='125' r='3' fill='red' stroke='none' stroke-width='1' />
	<!-- text -->
	<text x='97' y='141' text-anchor='end' font-size='12pt' fill='red' >bottomleft</text>
	<!-- circle -->
	<circle cx='150' cy='125' r='3' fill='red' stroke='none' stroke-width='1' />
	<!-- text -->
	<text x='150' y='141' text-anchor='middle' font-size='12pt' fill='red' >bottom</text>
	<!-- circle -->
	<circle cx='200' cy='125' r='3' fill='red' stroke='none' stroke-width='1' />
	<!-- text -->
	<text x='203' y='141' text-anchor='start' font-size='12pt' fill='red' >bottomright</text>

</svg>
</div>

<p class='fig_title'><a name='2oP7i8nCaCH'></a>Figure.6-2 図形要素の座標参照</p>
<p>　　</p>
<p>　上記の <code>app.center</code> という記法は、座標を指定すべきところではたいてい使用できますが、これを <code>(attr :app :center)</code> という記法で代替することもできます<sup><a name='footnote_ref8' href='#footnote8'>8</a></sup>。</p>
<p>　<code>app.center</code> の記法において要素名のところに <code>canvas</code> を指定することで、<a class='autolink' href='#kgs1vf3AbTN'>キャンバス</a>全体をひとつの図形要素のように扱うことができます。つまり、 <code>canvas.center</code> とすれば SVG 画像の中心点を指定できますし、 <code>canvas.width</code> と言えば SVG 画像の幅を取得することができます。実際には、この <code>canvas</code> が意味するのは「現在の<a class='autolink' href='#kgs1vf3AbTN'>キャンバス</a>」なのですが、これについては「<a href='#kgs1vf3AbTN'>7  サブキャンバス</a>」で説明します。</p>
<p>　<code>app.center</code> などの記述は単独で使用するよりも、「app の中心から 100pt くらい右」といった指定をしたい場合の方が多いでしょう。そのような場合、 <code>(x+ app.center 100)</code> といった記述で目的を達することができます。以下の 3 つの関数が利用できます。</p>
<pre class='code'>
(<span class='keyword1'>defun</span> <span class='keyword5'>x+</span> (pt x) ...)
(<span class='keyword1'>defun</span> <span class='keyword5'>y+</span> (pt y) ...)
(<span class='keyword1'>defun</span> <span class='keyword5'>xy+</span> (pt x y) ...)
</pre>
<p>　なお、 <code>(x- app.center 100)</code> とは書けません。 <code>(x+ app.center -100)</code> としてください。</p>
<p>　　</p>
<h2><a name='kgs1vf3AbTN'></a>7 サブキャンバス</h2>
<p>　<a href='#h1RNMQY1C0b'>前節</a>では、座標指定のための ID 名として <code>canvas</code> を指定すると作成中の図全体の領域を指定できると説明しました。kaavio では、これを<a class='autolink' href='#kgs1vf3AbTN'>キャンバス</a>と読んでいますが、その一部を独立した<a class='autolink' href='#kgs1vf3AbTN'>キャンバス</a>として描画を行うことができます。これを<a class='autolink' href='#kgs1vf3AbTN'>サブキャンバス</a>と呼びます。</p>
<p>　<a class='autolink' href='#kgs1vf3AbTN'>サブキャンバス</a>を使う方法のひとつは、<a class='autolink' href='#lsGULoUqoK4'>with-subcanvas</a> を使うことです。左上の座標と幅・高さを与えることで、その部分領域の左上を原点とする新しい座標系が作成されます。以下に簡単な例を示します。</p>
<pre class='code'>
(diagram (300 150)
  (grid)
  (circle '(50 50) 20 <span class='keyword3'>:stroke</span> <span class='keyword3'>:brown</span> <span class='keyword3'>:fill</span> <span class='keyword3'>:thistle</span>)
  (with-subcanvas ('(150 40) 100 100)
    (rect canvas.center canvas.width canvas.height <span class='keyword3'>:stroke</span> <span class='keyword3'>:gray</span> <span class='keyword3'>:fill</span> <span class='keyword3'>:none</span>)
    (circle '(50 50) 20 <span class='keyword3'>:stroke</span> <span class='keyword3'>:navy</span> <span class='keyword3'>:fill</span> <span class='keyword3'>:skyblue</span>)))
</pre>
<p>　上記のコードを kaavio にかけると以下が生成されます。2 回登場する <a class='autolink' href='#8UQowBxrcaE'>circle</a> は座標と半径が同じ <code>'(50 50) 20</code> で指定されていますが、実際に描画された場所は異なっています。これは、後者の（青い方の）<a class='autolink' href='#8UQowBxrcaE'>circle</a> が <a class='autolink' href='#lsGULoUqoK4'>with-subcanvas</a> の配下にあるためで、この<a class='autolink' href='#kgs1vf3AbTN'>サブキャンバス</a>の実際の領域は <a class='autolink' href='#kJonRG8GtHF'>rect</a> で示されています。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='300' height='150'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- circle -->
	<circle cx='50' cy='50' r='20' fill='thistle' stroke='brown' stroke-width='1' />
	<!-- rectangle -->
	<rect x='150' y='40' width='100' height='100' fill='none' stroke='gray' stroke-width='1' />
	<!-- circle -->
	<circle cx='200' cy='90' r='20' fill='skyblue' stroke='navy' stroke-width='1' />

</svg>
</div>

<p class='fig_title'><a name='kV8JVeAiwLR'></a>Figure.7-1 サブキャンバスのサンプル</p>
<p>　<a class='autolink' href='#kgs1vf3AbTN'>サブキャンバス</a>は入力データの一部分で独自の座標系を一時的に作成するもので、それ以外の効果はありません。たとえば、描画順序を制御するレイヤーとは無関係です<sup><a name='footnote_ref9' href='#footnote9'>9</a></sup>。</p>
<p>　<a class='autolink' href='#jHhN85RvHYn'>with-canvas</a> で明示的に<a class='autolink' href='#kgs1vf3AbTN'>サブキャンバス</a>を作成するのでなく、作成した図形要素の内部を<a class='autolink' href='#kgs1vf3AbTN'>サブキャンバス</a>とすることもできます。これには、 contents パラメータを使用します。たとえば、先程の例と同じ作図をするには以下のように書きます。この場合、先程とは違って <a class='autolink' href='#kJonRG8GtHF'>rect</a> の中に <a class='autolink' href='#8UQowBxrcaE'>circle</a> が置かれることになります（<a class='autolink' href='#kJonRG8GtHF'>rect</a> が動けば <a class='autolink' href='#8UQowBxrcaE'>circle</a> も動く）。</p>
<pre class='code'>
(diagram (300 150)
  (grid)
  (circle '(50 50) 20 <span class='keyword3'>:stroke</span> <span class='keyword3'>:brown</span> <span class='keyword3'>:fill</span> <span class='keyword3'>:thistle</span>)
  (rect '(200 90) 100 100 <span class='keyword3'>:stroke</span> <span class='keyword3'>:gray</span> <span class='keyword3'>:fill</span> <span class='keyword3'>:none</span>
     <span class='keyword3'>:contents</span>
     ((circle '(50 50) 20 <span class='keyword3'>:stroke</span> <span class='keyword3'>:navy</span> <span class='keyword3'>:fill</span> <span class='keyword3'>:skyblue</span>))))
</pre>
<p class='fig_title'><a name='5maEWPLcbWX'></a>Figure.7-2 contents パラメータを使ったサブキャンバス</p>
<p>　contents パラメータによる<a class='autolink' href='#kgs1vf3AbTN'>サブキャンバス</a>は、その図形要素の幅と高さからなる<a class='autolink' href='#kJonRG8GtHF'>四角形</a>になるのが原則です。つまり、円や<a class='autolink' href='#7YzIcjhyGKN'>楕円</a>の場合は以下のように<a class='autolink' href='#kgs1vf3AbTN'>サブキャンバス</a>の方が大きくなりますので注意してください。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='300' height='120'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- circle -->
	<circle cx='70' cy='60' r='40' fill='lightgray' stroke='black' stroke-width='1' />
	<!-- rectangle -->
	<rect x='30' y='20' width='80' height='80' fill='none' stroke='red' stroke-width='3' stroke-opacity='0.3' stroke-dasharray='10 5 ' />
	<!-- ellipse -->
	<ellipse cx='200' cy='60' rx='70' ry='40' fill='lightgray' stroke='black' stroke-width='1' />
	<!-- rectangle -->
	<rect x='130' y='20' width='140' height='80' fill='none' stroke='red' stroke-width='3' stroke-opacity='0.3' stroke-dasharray='10 5 ' />

</svg>
</div>

<p>　一部の図形要素では、<a class='autolink' href='#kgs1vf3AbTN'>サブキャンバス</a>の位置が調整されている場合があります。たとえば、<a class='autolink' href='#hja1QJC0Ivb'>cube</a> では以下のようになります。青い点線の枠が <a class='autolink' href='#hja1QJC0Ivb'>cube</a> の幅と高さからなる矩形で、赤い点線の枠が<a class='autolink' href='#kgs1vf3AbTN'>サブキャンバス</a>です。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='300' height='200'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- node : cube -->
	<g id='node'>
		<polygon fill='lightgray' stroke='black' stroke-width='1' points='20.0,54.0 48.0,26.0 274.0,26.0 274.0,152.0 246.0,180.0 20.0,180.0' />
		<polyline fill='none' stroke='black' stroke-width='1' points=' 274.0,26.0 246.0,54.0' />
		<rect x='20' y='54' width='226' height='126' fill='white' stroke='black' stroke-width='1' />
		<text x='133' y='123' text-anchor='middle' font-size='12pt' fill='black' ></text>
	</g>
	<!-- rectangle -->
	<rect x='20' y='54' width='226' height='126' fill='none' stroke='red' stroke-width='3' stroke-opacity='0.5' stroke-dasharray='10 5 ' />
	<!-- rectangle -->
	<rect x='20' y='40' width='240' height='140' fill='none' stroke='blue' stroke-width='3' stroke-opacity='0.5' stroke-dasharray='10 5 ' />

</svg>
</div>

<p>　なお、contents パラメータを使わずに図形要素の<a class='autolink' href='#kgs1vf3AbTN'>サブキャンバス</a>を利用する方法として、<a class='autolink' href='#2c8duiejnaO'>with-subcanvas-of</a> が用意されています。これは既出の図形要素の ID を指定して<a class='autolink' href='#kgs1vf3AbTN'>サブキャンバス</a>を確立するものです。<a href='#kV8JVeAiwLR'>Figure.7-1</a> と同じ（つまり <a href='#5maEWPLcbWX'>Figure.7-2</a> とも同じ）作図をするサンプルを以下に示します。</p>
<pre class='code'>
(diagram (300 150)
  (grid)
  (circle '(50 50) 20 <span class='keyword3'>:stroke</span> <span class='keyword3'>:brown</span> <span class='keyword3'>:fill</span> <span class='keyword3'>:thistle</span>)
  (rect '(200 90) 100 100 <span class='keyword3'>:stroke</span> <span class='keyword3'>:gray</span> <span class='keyword3'>:fill</span> <span class='keyword3'>:none</span> <span class='keyword3'>:id</span> <span class='keyword3'>:rct</span>)
  (with-subcanvas-of (<span class='keyword3'>:rct</span>)
     (circle '(50 50) 20 <span class='keyword3'>:stroke</span> <span class='keyword3'>:navy</span> <span class='keyword3'>:fill</span> <span class='keyword3'>:skyblue</span>)))
</pre>
<p class='fig_title'><a name='04Bhkv1vkfw'></a>Figure.7-3 with-subcanvas-of を使ったサブキャンバス</p>
<p>　　</p>
<p>　最後に <a class='autolink' href='#jHhN85RvHYn'>with-canvas</a> を紹介しておきます。<a class='autolink' href='#lsGULoUqoK4'>with-subcanvas</a> と <a class='autolink' href='#2c8duiejnaO'>with-subcanvas-of</a> は新しい<a class='autolink' href='#kgs1vf3AbTN'>サブキャンバス</a>を確立するものでしたが、<a class='autolink' href='#jHhN85RvHYn'>with-canvas</a> は「現在の<a class='autolink' href='#kgs1vf3AbTN'>キャンバス</a>へのアクセスを簡単にする」ものです。<a class='autolink' href='#kgs1vf3AbTN'>キャンバス</a>を使っていると、 <code>canvas.center, canvas.width, canvs.height</code> を頻繁に使うことになりますが、これらに短い名前でアクセスできるようにします。たとえば、<a href='#kgs1vf3AbTN'>本節冒頭の例</a>は、以下のように書き換えることができます（１回ずつしか使ってないのでメリットがわかりにくいですが）。</p>
<pre class='code'>
(diagram (300 150)
  (grid)
  (circle '(50 50) 20 <span class='keyword3'>:stroke</span> <span class='keyword3'>:brown</span> <span class='keyword3'>:fill</span> <span class='keyword3'>:thistle</span>)
  (with-subcanvas ('(150 40) 100 100)
    (with-canvas (cc w h) canvas
      (rect cc w h <span class='keyword3'>:stroke</span> <span class='keyword3'>:gray</span> <span class='keyword3'>:fill</span> <span class='keyword3'>:none</span>)
      (circle '(50 50) 20 <span class='keyword3'>:stroke</span> <span class='keyword3'>:navy</span> <span class='keyword3'>:fill</span> <span class='keyword3'>:skyblue</span>))))
</pre>
<p class='fig_title'><a name='hlkqXNIhtVu'></a>Figure.7-4 with-canvas の使用</p>
<p>　　</p>
<h2><a name='hwRhCz9Gn9t'></a>8 定義と再使用</h2>
<p>　<a class='autolink' href='#gxb34ymFlDc'>defgroup</a> と <a class='autolink' href='#klH6tZ6gdaQ'>use</a> を使うことによって、複数の図形要素をひとつにまとめ、図面の中で繰り返し使用することができます。要点を明確にするために、まずは同じ図形（ちょっと装飾のついた<a class='autolink' href='#kJonRG8GtHF'>四角形</a>）を３回描画することを考えてみてください。まずは単純に記述を３回繰り返します。座標以外は完全に同じ内容です。</p>
<pre class='code'>
(diagram (200 100)
  (grid)
  (rect '( 50 50) 40 40 <span class='keyword3'>:fill</span> <span class='keyword3'>:white</span> <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span>
        <span class='keyword3'>:contents</span>
        ((line '((0 10) (40 10)) <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span>)
         (line '((10 0) (10 40)) <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span>)))
  (rect '(100 50) 40 40 <span class='keyword3'>:fill</span> <span class='keyword3'>:white</span> <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span>
        <span class='keyword3'>:contents</span>
        ((line '((0 10) (40 10)) <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span>)
         (line '((10 0) (10 40)) <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span>)))
  (rect '(150 50) 40 40 <span class='keyword3'>:fill</span> <span class='keyword3'>:white</span> <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span>
        <span class='keyword3'>:contents</span>
        ((line '((0 10) (40 10)) <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span>)
         (line '((10 0) (10 40)) <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span>))))
</pre>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='200' height='100'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- rectangle -->
	<rect x='30' y='30' width='40' height='40' fill='white' stroke='black' stroke-width='1' />
	<!-- line -->
	<polyline fill='none' stroke='black' stroke-width='1' points=' 30.0,40.0 70.0,40.0' />
	<!-- line -->
	<polyline fill='none' stroke='black' stroke-width='1' points=' 40.0,30.0 40.0,70.0' />
	<!-- rectangle -->
	<rect x='80' y='30' width='40' height='40' fill='white' stroke='black' stroke-width='1' />
	<!-- line -->
	<polyline fill='none' stroke='black' stroke-width='1' points=' 80.0,40.0 120.0,40.0' />
	<!-- line -->
	<polyline fill='none' stroke='black' stroke-width='1' points=' 90.0,30.0 90.0,70.0' />
	<!-- rectangle -->
	<rect x='130' y='30' width='40' height='40' fill='white' stroke='black' stroke-width='1' />
	<!-- line -->
	<polyline fill='none' stroke='black' stroke-width='1' points=' 130.0,40.0 170.0,40.0' />
	<!-- line -->
	<polyline fill='none' stroke='black' stroke-width='1' points=' 140.0,30.0 140.0,70.0' />

</svg>
</div>

<p>　この場合、出力される SVG ファイル内でも（当然ながら）座標以外は同じ出力が３回繰り返されます。</p>
<pre>
&lt;svg xmlns="http://www.w3.org/2000/svg" ...&gt;
      :
    &lt;rect x="30" y="30" width="40" height="40" ...&gt;&lt;/rect&gt;
    &lt;polyline ... points=" 30.0,40.0 70.0,40.0"&gt;&lt;/polyline&gt;
    &lt;polyline ... points=" 40.0,30.0 40.0,70.0"&gt;&lt;/polyline&gt;

    &lt;rect x="80" y="30" width="40" height="40" ...&gt;&lt;/rect&gt;
    &lt;polyline ... points=" 80.0,40.0 120.0,40.0"&gt;&lt;/polyline&gt;
    &lt;polyline ... points=" 90.0,30.0 90.0,70.0"&gt;&lt;/polyline&gt;

    &lt;rect x="130" y="30" width="40" height="40" ...&gt;&lt;/rect&gt;
    &lt;polyline ... points=" 130.0,40.0 170.0,40.0"&gt;&lt;/polyline&gt;
    &lt;polyline ... points=" 140.0,30.0 140.0,70.0"&gt;&lt;/polyline&gt;
&lt;/svg&gt;
</pre>
<p>　以下のように、Common LISP 言語の機能を使用してループで処理することはできますが、入力データが短くなっても出力される SVG が短くなるわけではありません。</p>
<pre class='code'>
(diagram (200 100)
  (grid)
  (dotimes (i 3)
    (rect `(,(* (1+ i) 50) 50) 40 40 <span class='keyword3'>:fill</span> <span class='keyword3'>:white</span> <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span>
          <span class='keyword3'>:contents</span>
          ((line '((0 10) (40 10)) <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span>)
           (line '((10 0) (10 40)) <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span>)))))
</pre>
<p>　これに対して、<a class='autolink' href='#gxb34ymFlDc'>defgroup</a> と <a class='autolink' href='#klH6tZ6gdaQ'>use</a> を使うと SVG 上でも「一度だけ定義して複数回描画させる」ような出力をすることができます。先程のサンプルと同じ出力をするコードは以下のようになります。</p>
<pre class='code'>
(diagram (200 100)
  (grid)
  (defgroup (40 40 <span class='keyword3'>:icon</span>)
    (with-canvas (cc w h) canvas
      (rect cc w h <span class='keyword3'>:fill</span> <span class='keyword3'>:white</span> <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span>
            <span class='keyword3'>:contents</span>
            ((line `((0 10) (,w 10)) <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span>)
             (line `((10 0) (10 ,h)) <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span>)))))
  (use <span class='keyword3'>:icon</span> '( 50 50))
  (use <span class='keyword3'>:icon</span> '(100 50))
  (use <span class='keyword3'>:icon</span> '(150 50)))
</pre>
<p>　上記のコードでは、 <code>(defgroup (40 40 :icon) ...)</code> によって icon という名前の定義を作成しています。幅と高さはそれぞれ 40 です。これによって独立した<a class='autolink' href='#kgs1vf3AbTN'>キャンバス</a>が確立され、その中で作図を行うことができます。ここではその<a class='autolink' href='#kgs1vf3AbTN'>キャンバス</a>いっぱいに <a class='autolink' href='#kJonRG8GtHF'>rect</a> を描き、さらにその中で <a class='autolink' href='#fv4OUML78x4'>line</a> を 2 本描いています。しかしこれは <a class='autolink' href='#gxb34ymFlDc'>defgroup</a> の中でのこと（つまり定義を作成しただけ）なので、これだけでは描画は行なわれません。<a class='autolink' href='#gxb34ymFlDc'>defgroup</a> で定義した図形を実際に描画するには、<a class='autolink' href='#klH6tZ6gdaQ'>use</a> を使います。上記の例では、 <code>(use :icon '( 50 50))</code> といった記述を 3 回行なっています。パラメータは、定義名と描画する中心の座標です。</p>
<p>　上記のコードによって生成される SVG 画像は以下のようになります。入力データとの対応がわかると思います。定義（<a class='autolink' href='#gxb34ymFlDc'>defgroup</a>）は一度だけで、それを参照（<a class='autolink' href='#klH6tZ6gdaQ'>use</a>）するタグが複数登場しています。</p>
<pre>
&lt;svg xmlns='http://www.w3.org/2000/svg' ...&gt;
    &lt;defs&gt;
        &lt;g id='icon'&gt;
            &lt;rect x='0' y='0' width='40' height='40' ... /&gt;
            &lt;polyline ... points=' 0.0,10.0 40.0,10.0' /&gt;
            &lt;polyline ... points=' 10.0,0.0 10.0,40.0' /&gt;
        &lt;/g&gt;
    &lt;/defs&gt;
      :
    &lt;use xlink:href='#icon' x='30' y='30' /&gt;
    &lt;use xlink:href='#icon' x='80' y='30' /&gt;
    &lt;use xlink:href='#icon' x='130' y='30' /&gt;
&lt;/svg&gt;
</pre>
<p>　このように、<a class='autolink' href='#gxb34ymFlDc'>defgroup</a> と <a class='autolink' href='#klH6tZ6gdaQ'>use</a> を使えば繰り返し登場する図形要素の再利用が可能になりますが、スタンプのようにまったく同じものを表示させることしかできないのでしょうか。また、<a class='autolink' href='#klH6tZ6gdaQ'>use</a> で描画した要素どうしを<a class='autolink' href='#eFhVs4WwYUG'>コネクタ</a>で接続したりできないでしょうか。最初の質問については、「基本的に定義した通りにしか描画できないけど、<a class='autolink' href='#klH6tZ6gdaQ'>use</a> で contents パラメータが使えます」が答えになります。そして２番目の質問の答えは、「<a class='autolink' href='#klH6tZ6gdaQ'>use</a> に ID を付ければ<a class='autolink' href='#eFhVs4WwYUG'>コネクタ</a>が使える」です。以下の例ではその両方をやっています。</p>
<pre class='code'>
(diagram (300 150)
  (grid)
  (defgroup (70 50 <span class='keyword3'>:frame</span>)
    (with-canvas (cc w h) canvas
      (rect cc w h <span class='keyword3'>:fill</span> <span class='keyword3'>:white</span> <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span>)
      (line `((0 10) (,w 10))   <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span>)))
  (use <span class='keyword3'>:frame</span> '(75 50) <span class='keyword3'>:id</span> <span class='keyword3'>:frame1</span>
       <span class='keyword3'>:contents</span>
       ((text (y+ canvas.center 10) <span class='literal'>"frame 1"</span> <span class='keyword3'>:align</span> <span class='keyword3'>:center</span>)))
  (use <span class='keyword3'>:frame</span> '(225 100) <span class='keyword3'>:id</span> <span class='keyword3'>:frame2</span>
       <span class='keyword3'>:contents</span>
       ((text (y+ canvas.center 10) <span class='literal'>"frame 2"</span> <span class='keyword3'>:align</span> <span class='keyword3'>:center</span>)))
  (connect <span class='keyword3'>:frame1</span> <span class='keyword3'>:frame2</span> <span class='keyword3'>:end2</span> <span class='keyword3'>:arrow</span>))
</pre>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='300' height='150'>
	
	<!-- frame : group-definition -->
	<defs>
		<g id='frame'>
			<!-- rectangle -->
			<rect x='0' y='0' width='70' height='50' fill='white' stroke='black' stroke-width='1' />
			<!-- line -->
			<polyline fill='none' stroke='black' stroke-width='1' points=' 0.0,10.0 70.0,10.0' />
			
		</g>
	</defs>
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- frame1 : use -->
	<use xlink:href='#frame' x='40' y='25' />
	<!-- text -->
	<text x='75' y='60' text-anchor='middle' font-size='12pt' fill='black' >frame 1</text>
	<!-- frame2 : use -->
	<use xlink:href='#frame' x='190' y='75' />
	<!-- text -->
	<text x='225' y='110' text-anchor='middle' font-size='12pt' fill='black' >frame 2</text>
	<!-- connector from frame1 to frame2 -->
	<polyline fill='none' stroke='black' stroke-width='1' points=' 110.0,61.666668 190.0,88.333336' />
	<polyline fill='none' stroke='black' stroke-width='1' points='175.30453,91.34054 190,88.333336 180.04796,77.11029' />

</svg>
</div>

<p class='fig_title'><a name='eY4WMx1X8UT'></a>Figure.8-1 defgroup と use のサンプル</p>
<p>　　</p>
<p>　注意してほしいのは、<a class='autolink' href='#gxb34ymFlDc'>defgroup</a> で作成する定義に指定する ID と、図形要素を描画する時に指定する ID は別モノだということです。上記の例で言えば、 <code>:frame</code> は定義の ID なので、<a class='autolink' href='#klH6tZ6gdaQ'>use</a> の最初のパラメータには使えますが<a class='autolink' href='#eFhVs4WwYUG'>コネクタ</a>の接続対象としては指定できません。逆も同様で、たとえば <a class='autolink' href='#kJonRG8GtHF'>rect</a> を描いた後にその ID を指定して <a class='autolink' href='#klH6tZ6gdaQ'>use</a> することはできません。</p>
<p>　　</p>
<h2><a name='kfrwaPRQE9I'></a>9 パターンとグラデーション</h2>
<p>　「<a class='autolink' href='#dBUd7L4C3dx'>フィル</a>」では通常塗り潰しを指定しますが、定義した図形を敷き詰める「<a class='autolink' href='#dmYFJAv81Kl'>パターン</a>」や、複雑な色の変化を見せる「<a class='autolink' href='#4p1J7EWjD3m'>グラデーション</a>」も利用できます。また、<a class='autolink' href='#dmYFJAv81Kl'>パターン</a>と<a class='autolink' href='#4p1J7EWjD3m'>グラデーション</a>は<a class='autolink' href='#dBUd7L4C3dx'>フィル</a>だけでなく<a class='autolink' href='#4HFjqmTuIU6'>ストローク</a>で使用することも可能です。</p>
<h3><a name='dmYFJAv81Kl'></a>9.1 パターン</h3>
<p>　<a class='autolink' href='#dmYFJAv81Kl'>パターン</a>を定義するには <a class='autolink' href='#81YGnpDRA3K'>defpattern</a> を使用します。 <a class='autolink' href='#81YGnpDRA3K'>defpattern</a> は <a class='autolink' href='#gxb34ymFlDc'>defgroup</a> に良く似ていますが、<a class='autolink' href='#dmYFJAv81Kl'>パターン</a>を定義するための構文です。以下のサンプルでは 5 x 5 の小さな領域に細い青線を斜めにひく<a class='autolink' href='#dmYFJAv81Kl'>パターン</a>を定義し、<a class='autolink' href='#kJonRG8GtHF'>rect</a> の中にそれを敷き詰めています。</p>
<pre class='code'>
(diagram (140 70)
  (defpattern (<span class='keyword3'>:tile</span> <span class='keyword3'>:width</span> 5 <span class='keyword3'>:height</span> 5 <span class='keyword3'>:units</span> <span class='keyword3'>:userSpaceOnUse</span>)
    (line '((5 0) (0 5)) <span class='keyword3'>:stroke</span> '(<span class='keyword3'>:color</span> <span class='keyword3'>:blue</span> <span class='keyword3'>:width</span> 0.3)))
  (rect canvas.center 100 50 <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span> <span class='keyword3'>:fill</span> '(<span class='keyword3'>:url</span> <span class='keyword3'>:tile</span>)))
</pre>
<p>　上記のコードは以下の図を生成します。<a class='autolink' href='#81YGnpDRA3K'>defpattern</a> で定義した<a class='autolink' href='#dmYFJAv81Kl'>パターン</a>に <code>:tile</code> というID をつけ、後続の <a class='autolink' href='#kJonRG8GtHF'>rect</a> の <a href='#dBUd7L4C3dx'>fill パラメータ</a>で <code>'(:url :tile)</code> という指定をすることで<a class='autolink' href='#dmYFJAv81Kl'>パターン</a>の使用を指示しています。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='140' height='70'>
	
	<!-- tile : pattern-definition -->
	<defs>
		<pattern id='tile' width='5' height='5' patternUnits='userSpaceOnUse' >
			<!-- line -->
			<polyline fill='none' stroke='blue' stroke-width='0.3' points=' 5.0,0.0 0.0,5.0' />
			
		</pattern>
	</defs>
	<!-- rectangle -->
	<rect x='20' y='10' width='100' height='50' fill='url(#tile)' stroke='black' stroke-width='1' />

</svg>
</div>

<p class='fig_title'><a name='hMyYNXGygmb'></a>Figure.9-1 単純なパターンのサンプル</p>
<p>　　</p>
<p>　せっかくなのでサンプルをもうひとつ。センス云々はともかくとして、お望みならこんなカラフルな<a class='autolink' href='#dmYFJAv81Kl'>パターン</a>も作成できます。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='140' height='140'>
	
	<!-- crazy : pattern-definition -->
	<defs>
		<pattern id='crazy' width='40' height='40' patternUnits='userSpaceOnUse' >
			<!-- circle -->
			<circle cx='10' cy='10' r='8' fill='red' stroke='none' stroke-width='1' />
			<!-- rectangle -->
			<rect x='23' y='3' width='14' height='14' fill='blue' stroke='none' stroke-width='1' />
			<!-- rectangle -->
			<g transform='rotate(45,10,30)'>
				<rect x='4' y='24' width='12' height='12' fill='green' stroke='none' stroke-width='1' />
			</g>
			<!-- circle -->
			<circle cx='30' cy='30' r='8' fill='orange' stroke='none' stroke-width='1' />
			
		</pattern>
	</defs>
	<!-- rectangle -->
	<rect x='10' y='10' width='120' height='120' fill='url(#crazy)' stroke='black' stroke-width='1' />

</svg>
</div>

<p class='fig_title'><a name='iUL0e8M4mDl'></a>Figure.9-2 パターンのサンプル - 2</p>
<details>
<summary>　※上記画像のソースはこちら。</summary>
<pre class='code'>
(diagram (140 140)
  (defpattern (<span class='keyword3'>:crazy</span> <span class='keyword3'>:width</span> 40 <span class='keyword3'>:height</span> 40 <span class='keyword3'>:units</span> <span class='keyword3'>:userSpaceOnUse</span>)
    (circle '(10 10) 8     <span class='keyword3'>:stroke</span> <span class='keyword3'>:none</span> <span class='keyword3'>:fill</span> <span class='keyword3'>:red</span>)
    (rect   '(30 10) 14 14 <span class='keyword3'>:stroke</span> <span class='keyword3'>:none</span> <span class='keyword3'>:fill</span> <span class='keyword3'>:blue</span>)
    (rect   '(10 30) 12 12 <span class='keyword3'>:stroke</span> <span class='keyword3'>:none</span> <span class='keyword3'>:fill</span> <span class='keyword3'>:green</span> <span class='keyword3'>:rotate</span> 45)
    (circle '(30 30) 8     <span class='keyword3'>:stroke</span> <span class='keyword3'>:none</span> <span class='keyword3'>:fill</span> <span class='keyword3'>:orange</span>))
  (rect canvas.center 120 120 <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span> <span class='keyword3'>:fill</span> '(<span class='keyword3'>:url</span> <span class='keyword3'>:crazy</span>)))
</pre>
</details>
<p>　　</p>
<p>　<a class='autolink' href='#81YGnpDRA3K'>defpattern</a> には <code>x, y, units, content-units, view-box</code> などの名前付きパラメータがありますが、現時点ではその詳細な説明は割愛します。今後説明を充実させる可能性はありますが、現時点では <a class='autolink' href='#l10jSaJeUDk'>SVG本</a>の８章をお読みください。kaavio で <a class='autolink' href='#l10jSaJeUDk'>SVG本</a>の 8.1 節のサンプルを実現するコードを以下に提示しておきます。なお、現在 preserveAspectRatio 属性には対応していません。将来対応する可能性はありますが、未確定です。</p>
<details>
<summary>　※「SVG エッセンシャルズ 第二版」 8.1 節の図面サンプルはこちら</summary>
<p><strong>◆ 図 8.2</strong></p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='400' height='170'>
	
	<!-- tile1 : pattern-definition -->
	<defs>
		<pattern id='tile1' x='0' y='0' width='20%' height='20%' patternUnits='objectBoundingBox' >
			<!-- raw-svg -->
			<path d='M 0 0 Q 5 20 10 10 T 20 20' stroke='black' fill='none' />
			<!-- raw-svg -->
			<path d='M 0 0 h 20 v 20 h -20 z'    stroke='gray'  fill='none' />
			
		</pattern>
	</defs>
	<!-- rectangle -->
	<rect x='20' y='20' width='100' height='100' fill='url(#tile1)' stroke='black' stroke-width='1' />
	<!-- rectangle -->
	<rect x='135' y='20' width='70' height='80' fill='url(#tile1)' stroke='black' stroke-width='1' />
	<!-- rectangle -->
	<rect x='225' y='20' width='150' height='130' fill='url(#tile1)' stroke='black' stroke-width='1' />

</svg>
</div>

<pre class='code'>
(diagram (400 170)
  (defpattern (<span class='keyword3'>:tile1</span> <span class='keyword3'>:x</span> 0 <span class='keyword3'>:y</span> 0 <span class='keyword3'>:width</span> <span class='literal'>"20%"</span> <span class='keyword3'>:height</span> <span class='literal'>"20%"</span> <span class='keyword3'>:units</span> <span class='keyword3'>:objectBoundingBox</span>)
    (raw-svg <span class='literal'>"&lt;path d='M 0 0 Q 5 20 10 10 T 20 20' stroke='black' fill='none' /&gt;"</span>)
    (raw-svg <span class='literal'>"&lt;path d='M 0 0 h 20 v 20 h -20 z'    stroke='gray'  fill='none' /&gt;"</span>))
  (rect '( 70 70) 100 100 <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span> <span class='keyword3'>:fill</span> '(<span class='keyword3'>:url</span> <span class='keyword3'>:tile1</span>))
  (rect '(170 60)  70  80 <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span> <span class='keyword3'>:fill</span> '(<span class='keyword3'>:url</span> <span class='keyword3'>:tile1</span>))
  (rect '(300 85) 150 130 <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span> <span class='keyword3'>:fill</span> '(<span class='keyword3'>:url</span> <span class='keyword3'>:tile1</span>)))
</pre>
<p>　　</p>
<p><strong>◆ 図 8.3</strong></p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='400' height='170'>
	
	<!-- tile2 : pattern-definition -->
	<defs>
		<pattern id='tile2' width='20' height='20' patternUnits='userSpaceOnUse' >
			<!-- raw-svg -->
			<path d='M 0 0 Q 5 20 10 10 T 20 20' stroke='black' fill='none' />
			<!-- raw-svg -->
			<path d='M 0 0 h 20 v 20 h -20 z'    stroke='gray'  fill='none' />
			
		</pattern>
	</defs>
	<!-- rectangle -->
	<rect x='20' y='20' width='100' height='100' fill='url(#tile2)' stroke='black' stroke-width='1' />
	<!-- rectangle -->
	<rect x='135' y='20' width='70' height='80' fill='url(#tile2)' stroke='black' stroke-width='1' />
	<!-- rectangle -->
	<rect x='225' y='20' width='150' height='130' fill='url(#tile2)' stroke='black' stroke-width='1' />

</svg>
</div>

<pre class='code'>
(diagram (400 170)
  (defpattern (<span class='keyword3'>:tile2</span> <span class='keyword3'>:width</span> 20 <span class='keyword3'>:height</span> 20 <span class='keyword3'>:units</span> <span class='keyword3'>:userSpaceOnUse</span>)
    (raw-svg <span class='literal'>"&lt;path d='M 0 0 Q 5 20 10 10 T 20 20' stroke='black' fill='none' /&gt;"</span>)
    (raw-svg <span class='literal'>"&lt;path d='M 0 0 h 20 v 20 h -20 z'    stroke='gray'  fill='none' /&gt;"</span>))
  (rect '( 70 70) 100 100 <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span> <span class='keyword3'>:fill</span> '(<span class='keyword3'>:url</span> <span class='keyword3'>:tile2</span>))
  (rect '(170 60)  70  80 <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span> <span class='keyword3'>:fill</span> '(<span class='keyword3'>:url</span> <span class='keyword3'>:tile2</span>))
  (rect '(300 85) 150 130 <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span> <span class='keyword3'>:fill</span> '(<span class='keyword3'>:url</span> <span class='keyword3'>:tile2</span>)))
</pre>
<p>　　</p>
<p><strong>◆ 図 8.4</strong></p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='400' height='170'>
	
	<!-- tile3 : pattern-definition -->
	<defs>
		<pattern id='tile3' width='.2' height='.2' patternUnits='objectBoundingBox' patternContentUnits='objectBoundingBox' >
			<!-- raw-svg -->
			<path d='M 0 0 Q .05 .20 .10 .10 T .20 .20' stroke='black' stroke-width='0.01' fill='none' />
			<!-- raw-svg -->
			<path d='M 0 0 h 0.20 v 0.20 h -0.2 z'      stroke='gray'  stroke-width='0.01' fill='none' />
			
		</pattern>
	</defs>
	<!-- rectangle -->
	<rect x='20' y='20' width='100' height='100' fill='url(#tile3)' stroke='black' stroke-width='1' />
	<!-- rectangle -->
	<rect x='135' y='20' width='70' height='80' fill='url(#tile3)' stroke='black' stroke-width='1' />
	<!-- rectangle -->
	<rect x='225' y='20' width='150' height='130' fill='url(#tile3)' stroke='black' stroke-width='1' />

</svg>
</div>

<pre class='code'>
(diagram (400 170)
  (defpattern (<span class='keyword3'>:tile3</span> <span class='keyword3'>:width</span> <span class='literal'>".2"</span> <span class='keyword3'>:height</span> <span class='literal'>".2"</span> 
               <span class='keyword3'>:units</span> <span class='keyword3'>:objectBoundingBox</span> <span class='keyword3'>:content-units</span> <span class='keyword3'>:objectBoundingBox</span>)
    (raw-svg <span class='literal'>"&lt;path d='M 0 0 Q .05 .20 .10 .10 T .20 .20' stroke='black' stroke-width='0.01' fill='none' /&gt;"</span>)
    (raw-svg <span class='literal'>"&lt;path d='M 0 0 h 0.20 v 0.20 h -0.2 z'      stroke='gray'  stroke-width='0.01' fill='none' /&gt;"</span>))
  (rect '( 70 70) 100 100 <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span> <span class='keyword3'>:fill</span> '(<span class='keyword3'>:url</span> <span class='keyword3'>:tile3</span>))
  (rect '(170 60)  70  80 <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span> <span class='keyword3'>:fill</span> '(<span class='keyword3'>:url</span> <span class='keyword3'>:tile3</span>))
  (rect '(300 85) 150 130 <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span> <span class='keyword3'>:fill</span> '(<span class='keyword3'>:url</span> <span class='keyword3'>:tile3</span>)))
</pre>
<p>　　</p>
<p><strong>◆ 図 8.5</strong></p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='140' height='140'>
	
	<!-- tile4 : pattern-definition -->
	<defs>
		<pattern id='tile4' width='20' height='20' patternUnits='userSpaceOnUse' viewBox=' 0 0 150 150' >
			<!-- raw-svg -->
			<path d='M 30 100 C 50 50, 70 20, 100 100, 110, 130, 45, 150, 65, 100' stroke='black' stroke-width='5' fill='none' />
			
		</pattern>
	</defs>
	<!-- rectangle -->
	<rect x='20' y='20' width='100' height='100' fill='url(#tile4)' stroke='black' stroke-width='1' />

</svg>
</div>

<pre class='code'>
(diagram (140 140)
  (defpattern (<span class='keyword3'>:tile4</span> <span class='keyword3'>:width</span> 20 <span class='keyword3'>:height</span> 20 
               <span class='keyword3'>:units</span> <span class='keyword3'>:userSpaceOnUse</span> <span class='keyword3'>:view-box</span> '(0 0 150 150))
    (raw-svg <span class='literal'>"&lt;path d='M 30 100 C 50 50, 70 20, 100 100, 110, 130, 45, 150, 65, 100' stroke='black' stroke-width='5' fill='none' /&gt;"</span>))
  (rect canvas.center 100 100 <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span> <span class='keyword3'>:fill</span> '(<span class='keyword3'>:url</span> <span class='keyword3'>:tile4</span>)))
</pre>
<p>　　</p>
<p><strong>◆ 図 8.6</strong></p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='110' height='110'>
	
	<!-- stripe : pattern-definition -->
	<defs>
		<pattern id='stripe' width='6' height='6' patternUnits='userSpaceOnUse' >
			<!-- raw-svg -->
			<path d='M 0 0 6 0' stroke='black' fill='none' />
			
		</pattern>
	</defs>
	<!-- polcadot : pattern-definition -->
	<defs>
		<pattern id='polcadot' width='36' height='36' patternUnits='userSpaceOnUse' >
			<!-- circle -->
			<circle cx='18' cy='18' r='12' fill='url(#stripe)' stroke='black' stroke-width='1' />
			
		</pattern>
	</defs>
	<!-- rectangle -->
	<rect x='4' y='4' width='100' height='100' fill='url(#polcadot)' stroke='black' stroke-width='1' />

</svg>
</div>

<pre class='code'>
(diagram (110 110)
  (defpattern (<span class='keyword3'>:stripe</span> <span class='keyword3'>:width</span> 6 <span class='keyword3'>:height</span> 6 <span class='keyword3'>:units</span> <span class='keyword3'>:userSpaceOnUse</span>)
    (raw-svg <span class='literal'>"&lt;path d='M 0 0 6 0' stroke='black' fill='none' /&gt;"</span>))
  (defpattern (<span class='keyword3'>:polcadot</span> <span class='keyword3'>:width</span> 36 <span class='keyword3'>:height</span> 36 <span class='keyword3'>:units</span> <span class='keyword3'>:userSpaceOnUse</span>)
    (circle '(18 18) 12 <span class='keyword3'>:fill</span> '(<span class='keyword3'>:url</span> <span class='keyword3'>:stripe</span>) <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span>))
  (rect '(54 54) 100 100 <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span> <span class='keyword3'>:fill</span> '(<span class='keyword3'>:url</span> <span class='keyword3'>:polcadot</span>)))
</pre>
</details>
<p>　　</p>
<h3><a name='4p1J7EWjD3m'></a>9.2 グラデーション</h3>
<p>　<a class='autolink' href='#4p1J7EWjD3m'>グラデーション</a>を定義するには <a class='autolink' href='#dNdd5AGYfnC'>defgradient</a> を使用します。<a class='autolink' href='#4p1J7EWjD3m'>グラデーション</a>には線型と円形の２種類があります。以下のサンプルでは、青から赤に連続的に変換する<a class='autolink' href='#4p1J7EWjD3m'>グラデーション</a>を定義し、<a class='autolink' href='#kJonRG8GtHF'>rect</a> の中でそれを利用しています。</p>
<pre class='code'>
(diagram (140 70)
  (defgradient (<span class='keyword3'>:linear</span> <span class='keyword3'>:gradient1</span>)
    (0.00 <span class='keyword3'>:blue</span>)
    (1.00 <span class='keyword3'>:red</span>))
  (rect canvas.center 100 50 <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span> <span class='keyword3'>:fill</span> '(<span class='keyword3'>:url</span> <span class='keyword3'>:gradient1</span>)))
</pre>
<p>　上記のコードは以下の図を生成します。<a class='autolink' href='#dNdd5AGYfnC'>defgradient</a> で定義した<a class='autolink' href='#4p1J7EWjD3m'>グラデーション</a>に <code>:gradient1</code> というID をつけ、後続の <a class='autolink' href='#kJonRG8GtHF'>rect</a> の <a href='#dBUd7L4C3dx'>fill パラメータ</a>で <code>'(:url :gradient1)</code> という指定をすることで<a class='autolink' href='#4p1J7EWjD3m'>グラデーション</a>の使用を指示しています。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='140' height='70'>
	
	<!-- gradient1 : linear-gradient-definition -->
	<defs>
		<linearGradient id='gradient1' >
			<stop offset='0.0' stop-color='blue' />
			<stop offset='1.0' stop-color='red' />
		</linearGradient>
	</defs>
	<!-- rectangle -->
	<rect x='20' y='10' width='100' height='50' fill='url(#gradient1)' stroke='black' stroke-width='1' />

</svg>
</div>

<p class='fig_title'><a name='fMuRXwcCVRN'></a>Figure.9-3 単純なグラデーションのサンプル</p>
<p>　　</p>
<p>　もうひとつのサンプルは円形<a class='autolink' href='#4p1J7EWjD3m'>グラデーション</a>です。今度は単色で不透明度を変化させています。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='140' height='140'>
	
	<!-- gradient2 : radial-gradient-definition -->
	<defs>
		<radialGradient id='gradient2' r='70%' >
			<stop offset='0.0' stop-color='green' stop-opacity='0.0' />
			<stop offset='1.0' stop-color='green' stop-opacity='1.0' />
		</radialGradient>
	</defs>
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- rectangle -->
	<rect x='20' y='20' width='100' height='100' fill='url(#gradient2)' stroke='black' stroke-width='1' />

</svg>
</div>

<p class='fig_title'><a name='04QAFmYhXse'></a>Figure.9-4 グラデーションのサンプル - 2</p>
<details>
<summary>　※上記画像のソースはこちら。</summary>
<pre class='code'>
(diagram (140 140)
  (grid)
  (defgradient (<span class='keyword3'>:radial</span> <span class='keyword3'>:gradient2</span> <span class='keyword3'>:radius</span> <span class='literal'>"70%"</span>)
    (0.00 <span class='keyword3'>:green</span> 0.0)
    (1.00 <span class='keyword3'>:green</span> 1.0))
  (rect '(70 70) 100 100 <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span> <span class='keyword3'>:fill</span> '(<span class='keyword3'>:url</span> <span class='keyword3'>:gradient2</span>)))
</pre>
</details>
<p>　　</p>
<p>　<a class='autolink' href='#dNdd5AGYfnC'>defgradient</a> には多くの名前付きパラメータがありますが、現時点ではその詳細な説明は割愛します。今後説明を充実させる可能性はありますが、現時点では <a class='autolink' href='#l10jSaJeUDk'>SVG本</a>の８章をお読みください。kaavio で <a class='autolink' href='#l10jSaJeUDk'>SVG本</a>の 8.2 節のサンプルを実現するコードを以下に提示しておきます。</p>
<details>
<summary>　※「SVG エッセンシャルズ 第二版」 8.2 節の図面サンプルはこちら</summary>
<p><strong>◆ 図 8.7</strong></p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='240' height='120'>
	
	<!-- two_hues_8_7 : linear-gradient-definition -->
	<defs>
		<linearGradient id='two_hues_8_7' >
			<stop offset='0.0' stop-color='#ffcc00' />
			<stop offset='1.0' stop-color='#0099cc' />
		</linearGradient>
	</defs>
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- rectangle -->
	<rect x='20' y='10' width='200' height='100' fill='url(#two_hues_8_7)' stroke='black' stroke-width='1' />

</svg>
</div>

<pre class='code'>
(diagram (240 120)
  (grid)
  (defgradient (<span class='keyword3'>:linear</span> <span class='keyword3'>:two_hues_8_7</span>)
    (0.0 <span class='literal'>"#ffcc00"</span>)
    (1.0 <span class='literal'>"#0099cc"</span>))
  (rect canvas.center 200 100 <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span> <span class='keyword3'>:fill</span> '(<span class='keyword3'>:url</span> <span class='keyword3'>:two_hues_8_7</span>)))
</pre>
<p>　　</p>
<p><strong>◆ 図 8.8</strong></p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='240' height='120'>
	
	<!-- three_stops_8_8 : linear-gradient-definition -->
	<defs>
		<linearGradient id='three_stops_8_8' >
			<stop offset='0.0' stop-color='#ffcc00' />
			<stop offset='0.33' stop-color='#cc6699' />
			<stop offset='1.0' stop-color='#66cc99' />
		</linearGradient>
	</defs>
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- rectangle -->
	<rect x='20' y='10' width='200' height='100' fill='url(#three_stops_8_8)' stroke='black' stroke-width='1' />

</svg>
</div>

<pre class='code'>
(diagram (240 120)
  (grid)
  (defgradient (<span class='keyword3'>:linear</span> <span class='keyword3'>:three_stops_8_8</span>)
    (0.00 <span class='literal'>"#ffcc00"</span>)
    (0.33 <span class='literal'>"#cc6699"</span>)
    (1.00 <span class='literal'>"#66cc99"</span>))
  (rect canvas.center 200 100 <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span> <span class='keyword3'>:fill</span> '(<span class='keyword3'>:url</span> <span class='keyword3'>:three_stops_8_8</span>)))
</pre>
<p>　　</p>
<p><strong>◆ 図 8.9</strong></p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='240' height='120'>
	
	<!-- three_stops_8_9 : linear-gradient-definition -->
	<defs>
		<linearGradient id='three_stops_8_9' >
			<stop offset='0.0' stop-color='#906' stop-opacity='1.0' />
			<stop offset='0.5' stop-color='#906' stop-opacity='0.3' />
			<stop offset='1.0' stop-color='#906' stop-opacity='0.1' />
		</linearGradient>
	</defs>
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- rectangle -->
	<rect x='20' y='10' width='200' height='100' fill='url(#three_stops_8_9)' stroke='black' stroke-width='1' />

</svg>
</div>

<pre class='code'>
(diagram (240 120)
  (grid)
  (defgradient (<span class='keyword3'>:linear</span> <span class='keyword3'>:three_stops_8_9</span>)
    (0.00 <span class='literal'>"#906"</span> 1.0)
    (0.50 <span class='literal'>"#906"</span> 0.3)
    (1.00 <span class='literal'>"#906"</span> 0.1))
  (rect canvas.center 200 100 <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span> <span class='keyword3'>:fill</span> '(<span class='keyword3'>:url</span> <span class='keyword3'>:three_stops_8_9</span>)))
</pre>
<p>　　</p>
<p><strong>◆ 図 8.10</strong></p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='380' height='240'>
	
	<!-- three_stops_8_10 : linear-gradient-definition -->
	<defs>
		<linearGradient id='three_stops_8_10' >
			<stop offset='0.0' stop-color='#ffcc00' />
			<stop offset='0.33' stop-color='#cc6699' />
			<stop offset='1.0' stop-color='#66cc99' />
		</linearGradient>
	</defs>
	<!-- right_to_left_8_10 : linear-gradient-definition -->
	<defs>
		<linearGradient id='right_to_left_8_10' xlink:href='#three_stops_8_10' x1='100%' y1='0%' x2='0%' y2='0%' />
	</defs>
	<!-- down_8_10 : linear-gradient-definition -->
	<defs>
		<linearGradient id='down_8_10' xlink:href='#three_stops_8_10' x1='0%' y1='0%' x2='0%' y2='100%' />
	</defs>
	<!-- up_8_10 : linear-gradient-definition -->
	<defs>
		<linearGradient id='up_8_10' xlink:href='#three_stops_8_10' x1='0%' y1='100%' x2='0%' y2='0%' />
	</defs>
	<!-- diagonal_8_10 : linear-gradient-definition -->
	<defs>
		<linearGradient id='diagonal_8_10' xlink:href='#three_stops_8_10' x1='0%' y1='0%' x2='100%' y2='100%' />
	</defs>
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- rectangle -->
	<rect x='40' y='20' width='200' height='40' fill='url(#three_stops_8_10)' stroke='black' stroke-width='1' />
	<!-- rectangle -->
	<rect x='40' y='70' width='200' height='40' fill='url(#right_to_left_8_10)' stroke='black' stroke-width='1' />
	<!-- rectangle -->
	<rect x='250' y='20' width='40' height='200' fill='url(#down_8_10)' stroke='black' stroke-width='1' />
	<!-- rectangle -->
	<rect x='300' y='20' width='40' height='200' fill='url(#up_8_10)' stroke='black' stroke-width='1' />
	<!-- rectangle -->
	<rect x='40' y='120' width='200' height='100' fill='url(#diagonal_8_10)' stroke='black' stroke-width='1' />

</svg>
</div>

<pre class='code'>
(diagram (380 240)
  (grid)
  (defgradient (<span class='keyword3'>:linear</span> <span class='keyword3'>:three_stops_8_10</span>)
    (0.00 <span class='literal'>"#ffcc00"</span>)
    (0.33 <span class='literal'>"#cc6699"</span>)
    (1.00 <span class='literal'>"#66cc99"</span>))
  (defgradient (<span class='keyword3'>:linear</span> <span class='keyword3'>:right_to_left_8_10</span> <span class='keyword3'>:href</span> <span class='keyword3'>:three_stops_8_10</span>
                        <span class='keyword3'>:x1</span> <span class='literal'>"100%"</span> <span class='keyword3'>:y1</span> <span class='literal'>"0%"</span> <span class='keyword3'>:x2</span> <span class='literal'>"0%"</span> <span class='keyword3'>:y2</span> <span class='literal'>"0%"</span>))
  (defgradient (<span class='keyword3'>:linear</span> <span class='keyword3'>:down_8_10</span>          <span class='keyword3'>:href</span> <span class='keyword3'>:three_stops_8_10</span>
                        <span class='keyword3'>:x1</span> <span class='literal'>"0%"</span> <span class='keyword3'>:y1</span> <span class='literal'>"0%"</span> <span class='keyword3'>:x2</span> <span class='literal'>"0%"</span> <span class='keyword3'>:y2</span> <span class='literal'>"100%"</span>))
  (defgradient (<span class='keyword3'>:linear</span> <span class='keyword3'>:up_8_10</span>            <span class='keyword3'>:href</span> <span class='keyword3'>:three_stops_8_10</span>
                        <span class='keyword3'>:x1</span> <span class='literal'>"0%"</span> <span class='keyword3'>:y1</span> <span class='literal'>"100%"</span> <span class='keyword3'>:x2</span> <span class='literal'>"0%"</span> <span class='keyword3'>:y2</span> <span class='literal'>"0%"</span>))
  (defgradient (<span class='keyword3'>:linear</span> <span class='keyword3'>:diagonal_8_10</span>      <span class='keyword3'>:href</span> <span class='keyword3'>:three_stops_8_10</span>
                        <span class='keyword3'>:x1</span> <span class='literal'>"0%"</span> <span class='keyword3'>:y1</span> <span class='literal'>"0%"</span> <span class='keyword3'>:x2</span> <span class='literal'>"100%"</span> <span class='keyword3'>:y2</span> <span class='literal'>"100%"</span>))
  (rect '(140  40) 200 40  <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span> <span class='keyword3'>:fill</span> '(<span class='keyword3'>:url</span> <span class='keyword3'>:three_stops_8_10</span>))
  (rect '(140  90) 200 40  <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span> <span class='keyword3'>:fill</span> '(<span class='keyword3'>:url</span> <span class='keyword3'>:right_to_left_8_10</span>))
  (rect '(270 120)  40 200 <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span> <span class='keyword3'>:fill</span> '(<span class='keyword3'>:url</span> <span class='keyword3'>:down_8_10</span>))
  (rect '(320 120)  40 200 <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span> <span class='keyword3'>:fill</span> '(<span class='keyword3'>:url</span> <span class='keyword3'>:up_8_10</span>))
  (rect '(140 170) 200 100 <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span> <span class='keyword3'>:fill</span> '(<span class='keyword3'>:url</span> <span class='keyword3'>:diagonal_8_10</span>)))
</pre>
<p>　　</p>
<p><strong>◆ 図 8.11</strong></p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='360' height='140'>
	
	<!-- partial_8_11 : linear-gradient-definition -->
	<defs>
		<linearGradient id='partial_8_11' x1='20%' y1='30%' x2='40%' y2='80%' >
			<stop offset='0.0' stop-color='#ffcc00' />
			<stop offset='0.33' stop-color='#cc6699' />
			<stop offset='1.0' stop-color='#66cc99' />
		</linearGradient>
	</defs>
	<!-- padded_8_11 : linear-gradient-definition -->
	<defs>
		<linearGradient id='padded_8_11' xlink:href='#partial_8_11' spreadMethod='pad' />
	</defs>
	<!-- repeated_8_11 : linear-gradient-definition -->
	<defs>
		<linearGradient id='repeated_8_11' xlink:href='#partial_8_11' spreadMethod='repeat' />
	</defs>
	<!-- reflected_8_11 : linear-gradient-definition -->
	<defs>
		<linearGradient id='reflected_8_11' xlink:href='#partial_8_11' spreadMethod='reflect' />
	</defs>
	<!-- line_8_11 : group-definition -->
	<defs>
		<g id='line_8_11'>
			<!-- line -->
			<polyline fill='none' stroke='black' stroke-width='1' points=' 20.0,30.0 40.0,80.0' />
			
		</g>
	</defs>
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- rectangle -->
	<rect x='20' y='20' width='100' height='100' fill='url(#padded_8_11)' stroke='black' stroke-width='1' />
	<!-- use -->
	<use xlink:href='#line_8_11' x='20' y='20' />
	<!-- rectangle -->
	<rect x='130' y='20' width='100' height='100' fill='url(#repeated_8_11)' stroke='black' stroke-width='1' />
	<!-- use -->
	<use xlink:href='#line_8_11' x='130' y='20' />
	<!-- rectangle -->
	<rect x='240' y='20' width='100' height='100' fill='url(#reflected_8_11)' stroke='black' stroke-width='1' />
	<!-- use -->
	<use xlink:href='#line_8_11' x='240' y='20' />

</svg>
</div>

<pre class='code'>
(diagram (360 140)
  (grid)
  (defgradient (<span class='keyword3'>:linear</span> <span class='keyword3'>:partial_8_11</span> <span class='keyword3'>:x1</span> <span class='literal'>"20%"</span> <span class='keyword3'>:y1</span> <span class='literal'>"30%"</span> <span class='keyword3'>:x2</span> <span class='literal'>"40%"</span> <span class='keyword3'>:y2</span> <span class='literal'>"80%"</span>)
    (0.00 <span class='literal'>"#ffcc00"</span>)
    (0.33 <span class='literal'>"#cc6699"</span>)
    (1.00 <span class='literal'>"#66cc99"</span>))
  (defgradient (<span class='keyword3'>:linear</span> <span class='keyword3'>:padded_8_11</span>    <span class='keyword3'>:href</span> <span class='keyword3'>:partial_8_11</span> <span class='keyword3'>:spread</span> <span class='keyword3'>:pad</span>))
  (defgradient (<span class='keyword3'>:linear</span> <span class='keyword3'>:repeated_8_11</span>  <span class='keyword3'>:href</span> <span class='keyword3'>:partial_8_11</span> <span class='keyword3'>:spread</span> <span class='keyword3'>:repeat</span>))
  (defgradient (<span class='keyword3'>:linear</span> <span class='keyword3'>:reflected_8_11</span> <span class='keyword3'>:href</span> <span class='keyword3'>:partial_8_11</span> <span class='keyword3'>:spread</span> <span class='keyword3'>:reflect</span>))
  (defgroup (100 100 <span class='keyword3'>:line_8_11</span>)
      (line '((20 30) (40 80)) <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span>))
  (rect '( 70  70) 100 100 <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span> <span class='keyword3'>:fill</span> '(<span class='keyword3'>:url</span> <span class='keyword3'>:padded_8_11</span>)
                           <span class='keyword3'>:contents</span> ((use <span class='keyword3'>:line_8_11</span> canvas.center)))
  (rect '(180  70) 100 100 <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span> <span class='keyword3'>:fill</span> '(<span class='keyword3'>:url</span> <span class='keyword3'>:repeated_8_11</span>)
                           <span class='keyword3'>:contents</span> ((use <span class='keyword3'>:line_8_11</span> canvas.center)))
  (rect '(290  70) 100 100 <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span> <span class='keyword3'>:fill</span> '(<span class='keyword3'>:url</span> <span class='keyword3'>:reflected_8_11</span>)
                           <span class='keyword3'>:contents</span> ((use <span class='keyword3'>:line_8_11</span> canvas.center))))
</pre>
<p>　　</p>
<p><strong>◆ 図 8.12</strong></p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='140' height='140'>
	
	<!-- three_stops_8_12 : radial-gradient-definition -->
	<defs>
		<radialGradient id='three_stops_8_12' >
			<stop offset='0.0' stop-color='#f96' />
			<stop offset='0.5' stop-color='#9c9' />
			<stop offset='1.0' stop-color='#906' />
		</radialGradient>
	</defs>
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- rectangle -->
	<rect x='20' y='20' width='100' height='100' fill='url(#three_stops_8_12)' stroke='black' stroke-width='1' />

</svg>
</div>

<pre class='code'>
(diagram (140 140)
  (grid)
  (defgradient (<span class='keyword3'>:radial</span> <span class='keyword3'>:three_stops_8_12</span>)
    (0.00 <span class='literal'>"#f96"</span>)
    (0.50 <span class='literal'>"#9c9"</span>)
    (1.00 <span class='literal'>"#906"</span>))
  (rect '(70 70) 100 100 <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span> <span class='keyword3'>:fill</span> '(<span class='keyword3'>:url</span> <span class='keyword3'>:three_stops_8_12</span>)))
</pre>
<p>　　</p>
<p><strong>◆ 図 8.13</strong></p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='140' height='140'>
	
	<!-- center_origin_8_13 : radial-gradient-definition -->
	<defs>
		<radialGradient id='center_origin_8_13' cx='0%' cy='0%' r='141%' >
			<stop offset='0.0' stop-color='#f96' />
			<stop offset='0.5' stop-color='#9c9' />
			<stop offset='1.0' stop-color='#906' />
		</radialGradient>
	</defs>
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- rectangle -->
	<rect x='20' y='20' width='100' height='100' fill='url(#center_origin_8_13)' stroke='black' stroke-width='1' />

</svg>
</div>

<pre class='code'>
(diagram (140 140)
  (grid)
  (defgradient (<span class='keyword3'>:radial</span> <span class='keyword3'>:center_origin_8_13</span> <span class='keyword3'>:cx</span> <span class='literal'>"0%"</span> <span class='keyword3'>:cy</span> <span class='literal'>"0%"</span> <span class='keyword3'>:radius</span> <span class='literal'>"141%"</span>)
    (0.00 <span class='literal'>"#f96"</span>)
    (0.50 <span class='literal'>"#9c9"</span>)
    (1.00 <span class='literal'>"#906"</span>))
  (rect '(70 70) 100 100 <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span> <span class='keyword3'>:fill</span> '(<span class='keyword3'>:url</span> <span class='keyword3'>:center_origin_8_13</span>)))
</pre>
<p>　　</p>
<p><strong>◆ 図 8.14</strong></p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='140' height='140'>
	
	<!-- focal_set_8_14 : radial-gradient-definition -->
	<defs>
		<radialGradient id='focal_set_8_14' cx='0%' cy='0%' fx='50%' fy='50%' r='100%' >
			<stop offset='0.0' stop-color='#f96' />
			<stop offset='0.5' stop-color='#9c9' />
			<stop offset='1.0' stop-color='#906' />
		</radialGradient>
	</defs>
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- rectangle -->
	<rect x='20' y='20' width='100' height='100' fill='url(#focal_set_8_14)' stroke='black' stroke-width='1' />

</svg>
</div>

<pre class='code'>
(diagram (140 140)
  (grid)
  (defgradient (<span class='keyword3'>:radial</span> <span class='keyword3'>:focal_set_8_14</span> <span class='keyword3'>:cx</span> <span class='literal'>"0%"</span> <span class='keyword3'>:cy</span> <span class='literal'>"0%"</span>
                        <span class='keyword3'>:fx</span> <span class='literal'>"50%"</span> <span class='keyword3'>:fy</span> <span class='literal'>"50%"</span> <span class='keyword3'>:radius</span> <span class='literal'>"100%"</span>)
    (0.00 <span class='literal'>"#f96"</span>)
    (0.50 <span class='literal'>"#9c9"</span>)
    (1.00 <span class='literal'>"#906"</span>))
  (rect '(70 70) 100 100 <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span> <span class='keyword3'>:fill</span> '(<span class='keyword3'>:url</span> <span class='keyword3'>:focal_set_8_14</span>)))
</pre>
<p>　　</p>
<p><strong>◆ 図 8.15</strong></p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='360' height='140'>
	
	<!-- three_stops_8_15 : radial-gradient-definition -->
	<defs>
		<radialGradient id='three_stops_8_15' cx='0%' cy='0%' r='70%' >
			<stop offset='0.0' stop-color='#f96' />
			<stop offset='0.5' stop-color='#9c9' />
			<stop offset='1.0' stop-color='#906' />
		</radialGradient>
	</defs>
	<!-- padded_8_15 : radial-gradient-definition -->
	<defs>
		<radialGradient id='padded_8_15' xlink:href='#three_stops_8_15' spreadMethod='pad' />
	</defs>
	<!-- repeated_8_15 : radial-gradient-definition -->
	<defs>
		<radialGradient id='repeated_8_15' xlink:href='#three_stops_8_15' spreadMethod='repeat' />
	</defs>
	<!-- reflected_8_15 : radial-gradient-definition -->
	<defs>
		<radialGradient id='reflected_8_15' xlink:href='#three_stops_8_15' spreadMethod='reflect' />
	</defs>
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- rectangle -->
	<rect x='20' y='20' width='100' height='100' fill='url(#padded_8_15)' stroke='black' stroke-width='1' />
	<!-- rectangle -->
	<rect x='130' y='20' width='100' height='100' fill='url(#repeated_8_15)' stroke='black' stroke-width='1' />
	<!-- rectangle -->
	<rect x='240' y='20' width='100' height='100' fill='url(#reflected_8_15)' stroke='black' stroke-width='1' />

</svg>
</div>

<pre class='code'>
(diagram (360 140)
  (grid)
  (defgradient (<span class='keyword3'>:radial</span> <span class='keyword3'>:three_stops_8_15</span> <span class='keyword3'>:cx</span> <span class='literal'>"0%"</span> <span class='keyword3'>:cy</span> <span class='literal'>"0%"</span> <span class='keyword3'>:radius</span> <span class='literal'>"70%"</span>)
    (0.00 <span class='literal'>"#f96"</span>)
    (0.50 <span class='literal'>"#9c9"</span>)
    (1.00 <span class='literal'>"#906"</span>))
  (defgradient (<span class='keyword3'>:radial</span> <span class='keyword3'>:padded_8_15</span>    <span class='keyword3'>:href</span> <span class='keyword3'>:three_stops_8_15</span> <span class='keyword3'>:spread</span> <span class='keyword3'>:pad</span>))
  (defgradient (<span class='keyword3'>:radial</span> <span class='keyword3'>:repeated_8_15</span>  <span class='keyword3'>:href</span> <span class='keyword3'>:three_stops_8_15</span> <span class='keyword3'>:spread</span> <span class='keyword3'>:repeat</span>))
  (defgradient (<span class='keyword3'>:radial</span> <span class='keyword3'>:reflected_8_15</span> <span class='keyword3'>:href</span> <span class='keyword3'>:three_stops_8_15</span> <span class='keyword3'>:spread</span> <span class='keyword3'>:reflect</span>))
  (rect '( 70  70) 100 100 <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span> <span class='keyword3'>:fill</span> '(<span class='keyword3'>:url</span> <span class='keyword3'>:padded_8_15</span>))
  (rect '(180  70) 100 100 <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span> <span class='keyword3'>:fill</span> '(<span class='keyword3'>:url</span> <span class='keyword3'>:repeated_8_15</span>))
  (rect '(290  70) 100 100 <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span> <span class='keyword3'>:fill</span> '(<span class='keyword3'>:url</span> <span class='keyword3'>:reflected_8_15</span>)))
</pre>
<p>　　</p>
</details>
<p>　　</p>
<h2><a name='2QhgoP1QBEQ'></a>10 パラメータの詳細</h2>
<h3><a name='1rpUB3fre67'></a>10.1 色の指定</h3>
<p>　kaavio は SVG 形式で図形を生成するため、色の指定は SVG の規格に準拠します。</p>
<ul>
<li><code>#rrggbb</code> 表記による、6 桁の16進指定。rr、gg、bb は順に赤、緑、青の成分で、 00〜ff の範囲で指定します。</li>
<li><code>#rgb</code> 表記による、3 桁の16進指定。r、g、b は順に赤、緑、青の成分で、 0〜f の範囲で指定します。これは <code>#rrggbb</code> の簡略表記で、たとえば #136 は #113366 に相当します。</li>
<li><a href='#7QraN5WNGea'>rgb 関数</a>による指定。これは <code>(rgb r g b)</code> の要領で使用します。r、g、b は順に赤、緑、青の成分で、それぞれ 0〜255 の整数または 0.0〜1.0 の小数点数で指定します。0.0〜1.0 の指定の場合、それに 255 をかけた値が指定されます。</li>
<li>色名での指定。 <code>:black</code> など先頭にコロンをつけたキーワードの形式で指定します。使用できる色の名前とサンプルは <a href='#dR01Jh257Q6'>12.2  節</a> を参照してください。</li>
</ul>
<p>　　</p>
<h3><a name='4HFjqmTuIU6'></a>10.2 ストローク</h3>
<p>　<a class='autolink' href='#4HFjqmTuIU6'>ストローク</a>とは、図形を描画する際の「線の引き方」を指定する情報です。</p>
<p>　このマニュアルのほとんどの部分では、 <code>:stroke :red</code> のように、 <code>:stroke</code> に続けて色名だけを指定しています。もう少し複雑な場合、 <code>:stroke '(:color :red :width 3)</code> といった要領で色名と太さを指定している個所もあります。実はこれらは全て簡易的な指定方法で、<a class='autolink' href='#4HFjqmTuIU6'>ストローク</a>にはもっと多くの情報が含まれています。以下に説明します。</p>
<ul>
<li><code>color</code> は線の色を指定します。色の指定方法については <a href='#1rpUB3fre67'>10.1  節</a>を参照してください。</li>
<li><code>width</code> は線の太さです。数値で指定します。</li>
<li><code>opacity</code> は線の不透明度です。0.0 ～ 1.0 の数値で指定します。0.0 は完全な透明、1.0 は完全な不透明です。</li>
<li><code>linecap</code> は線の両端の形状です。詳細は後述します。</li>
<li><code>linejoin, miterlimit</code> は線が折れ曲ってできる角の形状に関する指定です。詳細は後述します。</li>
<li><code>dasharray, dashoffset</code> は点線や破線を描画する場合の指定です。詳細は後述します。</li>
</ul>
<p>　　</p>
<p>　それぞれについて細かい説明を始める前に、 <code>:stroke :red</code> といった記述がどのように扱われるのかを説明する必要があるでしょう。 <code>:stroke</code> によるこれらの指定は、実は全て <a class='autolink' href='#ezUVhtPwl3J'>make-stroke</a> 関数に渡されます。<a class='autolink' href='#ezUVhtPwl3J'>make-stroke</a> 関数は、渡されたのが単一の値の場合には、数値なら太さ、キーワードや文字列なら色名などと解釈します。そして <code>'(:color :red :width 3)</code> などの（複数要素からなる）リストの場合、名前付きパラメータの羅列として解釈します。</p>
<p>　<a class='autolink' href='#ezUVhtPwl3J'>make-stroke</a> 関数はその結果として「<a class='autolink' href='#4HFjqmTuIU6'>ストローク</a>情報オブジェクト」を返しますが、その<a class='autolink' href='#4HFjqmTuIU6'>ストローク</a>情報オブジェクトを <a class='autolink' href='#ezUVhtPwl3J'>make-stroke</a> 関数自身に渡した場合、そのまま返すようになっています。そのため、自分で明示的に <a class='autolink' href='#ezUVhtPwl3J'>make-stroke</a> 関数を使って<a class='autolink' href='#4HFjqmTuIU6'>ストローク</a>情報オブジェクトを作成し、Common LISP 変数に格納して複数の図形要素で使用する、ということも可能です。以下のように<sup><a name='footnote_ref10' href='#footnote10'>10</a></sup>。この関数の詳細は「<a href='#ezUVhtPwl3J'>12.1.11  make-stroke 関数</a>」を参照してください。</p>
<pre class='code'>
(<span class='keyword1'>let</span> ((st (make-stroke <span class='keyword3'>:color</span> <span class='keyword3'>:blue</span> <span class='keyword3'>:width</span> 4 <span class='keyword3'>:opacity</span> 0.3)))
  (rect   ... <span class='keyword3'>:stroke</span> st)
  (circle ... <span class='keyword3'>:stroke</span> st))
</pre>
<p>　　</p>
<h4><a name='ixMeyP7oEvS'></a>10.2.1 ストロークのデフォルト設定</h4>
<p>　さて、実際のところ、作図をする上でそれぞれの要素の線がバラバラな色や太さで描かれることはないでしょう。わかりやすい図面というのは、同じ種類の図形要素は同じ種類の線で描画されているなど、統制が取れているものです。このことは、多くの作図においては「まったく同じ<a class='autolink' href='#4HFjqmTuIU6'>ストローク</a>の指定を繰り返す場合が多い」ことを意味します。前述の方法で<a class='autolink' href='#4HFjqmTuIU6'>ストローク</a>情報オブジェクトを作成して使い回すことも可能ですが、もっとよい方法があります。それは「デフォルト<a class='autolink' href='#4HFjqmTuIU6'>ストローク</a>の変更」です。もともと、<a class='autolink' href='#4HFjqmTuIU6'>ストローク</a>はデフォルトで <code>:color :black :width 1</code> とされていますが、<a class='autolink' href='#5afU9yg86c0'>with-options</a> を使えばこれを変更することができます<sup><a name='footnote_ref11' href='#footnote11'>11</a></sup>。以下の例では４種類の<a class='autolink' href='#kJonRG8GtHF'>四角形</a>を描いていますが、B, C の<a class='autolink' href='#kJonRG8GtHF'>四角形</a>ではデフォルト<a class='autolink' href='#4HFjqmTuIU6'>ストローク</a>を変更しています。</p>
<pre class='code'>
(diagram (250 100)
  (grid)
  (rect '(50 50) 40 40)
  (with-options (<span class='keyword3'>:stroke</span> '(<span class='keyword3'>:color</span> <span class='keyword3'>:navy</span> <span class='keyword3'>:width</span> 8 <span class='keyword3'>:linejoin</span> <span class='keyword3'>:round</span>))
    (rect '(100 50) 40 40)
    (rect '(150 50) 40 40 <span class='keyword3'>:stroke</span> <span class='keyword3'>:brown</span>))
  (rect '(200 50) 40 40 <span class='keyword3'>:stroke</span> <span class='keyword3'>:brown</span>)
  (text '( 50 90) <span class='literal'>"A"</span> <span class='keyword3'>:align</span> <span class='keyword3'>:center</span>)
  (text '(100 90) <span class='literal'>"B"</span> <span class='keyword3'>:align</span> <span class='keyword3'>:center</span>)
  (text '(150 90) <span class='literal'>"C"</span> <span class='keyword3'>:align</span> <span class='keyword3'>:center</span>)
  (text '(200 90) <span class='literal'>"D"</span> <span class='keyword3'>:align</span> <span class='keyword3'>:center</span>))
</pre>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='250' height='100'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- rectangle -->
	<rect x='30' y='30' width='40' height='40' fill='none' stroke='black' stroke-width='1' />
	<!-- rectangle -->
	<rect x='80' y='30' width='40' height='40' fill='none' stroke='navy' stroke-width='8' stroke-linejoin='round' />
	<!-- rectangle -->
	<rect x='130' y='30' width='40' height='40' fill='none' stroke='brown' stroke-width='8' stroke-linejoin='round' />
	<!-- rectangle -->
	<rect x='180' y='30' width='40' height='40' fill='none' stroke='brown' stroke-width='1' />
	<!-- text -->
	<text x='50' y='90' text-anchor='middle' font-size='12pt' fill='black' >A</text>
	<!-- text -->
	<text x='100' y='90' text-anchor='middle' font-size='12pt' fill='black' >B</text>
	<!-- text -->
	<text x='150' y='90' text-anchor='middle' font-size='12pt' fill='black' >C</text>
	<!-- text -->
	<text x='200' y='90' text-anchor='middle' font-size='12pt' fill='black' >D</text>

</svg>
</div>

<p class='fig_title'><a name='g39KVcpoX7B'></a>Figure.10-1 with-options によるデフォルトストロークの変更</p>
<p>　　</p>
<p>　C の<a class='autolink' href='#kJonRG8GtHF'>四角形</a>では「色しか指定していない」のに線の幅が 5 になっていることに注意してください。これは、「明示的に指定されていないものはデフォルトの設定が使用される」からです。<a class='autolink' href='#5afU9yg86c0'>with-options</a> によってデフォルト設定が変更されており、B の<a class='autolink' href='#kJonRG8GtHF'>四角形</a>では（ <code>:stroke</code> を省略することによって）全てがデフォルト設定で描画されました。C の<a class='autolink' href='#kJonRG8GtHF'>四角形</a>では、 <code>:stroke :brown</code> によってデフォルト設定をベースとして色だけを変更している、というわけです。</p>
<p>　<a class='autolink' href='#5afU9yg86c0'>with-options</a> では全体のデフォルト設定を変更しますが、図形要素によっては個別にデフォルト設定を持っています。たとえば、<a class='autolink' href='#e7hkC2YUaKe'>テキストボックス</a>であれば <a class='autolink' href='#2XsIFr1er3s'>with-textbox-options</a> でデフォルト設定を変更することができます。</p>
<p>　　</p>
<h4><a name='62KpZHJ4mOR'></a>10.2.2 linecap</h4>
<p>　<code>linecap</code> について説明します。これは butt, round, square から指定するもので、以下のように線の端の形状が変わります。butt は指定した開始点／終了点で線が切れますが、round / square では開始点／終了点を少しはみ出すことに注意してください。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='200' height='100'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- line -->
	<polyline fill='none' stroke='lightgray' stroke-width='16' stroke-linecap='butt' points=' 50.0,25.0 150.0,25.0' />
	<!-- text -->
	<text x='100' y='30' text-anchor='middle' font-size='10pt' fill='black' >:butt</text>
	<!-- line -->
	<polyline fill='none' stroke='lightgray' stroke-width='16' stroke-linecap='round' points=' 50.0,50.0 150.0,50.0' />
	<!-- text -->
	<text x='100' y='55' text-anchor='middle' font-size='10pt' fill='black' >:round</text>
	<!-- line -->
	<polyline fill='none' stroke='lightgray' stroke-width='16' stroke-linecap='square' points=' 50.0,75.0 150.0,75.0' />
	<!-- text -->
	<text x='100' y='80' text-anchor='middle' font-size='10pt' fill='black' >:square</text>
	<!-- line -->
	<polyline fill='none' stroke='red' stroke-width='1' stroke-dasharray='3 3 ' points=' 50.0,0.0 50.0,100.0' />
	<!-- line -->
	<polyline fill='none' stroke='red' stroke-width='1' stroke-dasharray='3 3 ' points=' 150.0,0.0 150.0,100.0' />

</svg>
</div>

<p class='fig_title'><a name='eXOpfZPd3Nn'></a>Figure.10-2 linecap のサンプル</p>
<p>　　</p>
<h4><a name='kp3HeQv7roH'></a>10.2.3 linejoin と miterlimit</h4>
<p>　<code>linejoin</code> は、線が折れ曲る部分の形状を miter, round, bevel から指定するもので、以下のように角の形状が変わります。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='300' height='100'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- line -->
	<polyline fill='none' stroke='gray' stroke-width='20' stroke-linejoin='miter' points=' 20.0,65.0 50.0,35.0 80.0,65.0' />
	<!-- text -->
	<text x='50' y='90' text-anchor='middle' font-size='12pt' fill='black' >:miter</text>
	<!-- line -->
	<polyline fill='none' stroke='gray' stroke-width='20' stroke-linejoin='round' points=' 120.0,65.0 150.0,35.0 180.0,65.0' />
	<!-- text -->
	<text x='150' y='90' text-anchor='middle' font-size='12pt' fill='black' >:round</text>
	<!-- line -->
	<polyline fill='none' stroke='gray' stroke-width='20' stroke-linejoin='bevel' points=' 220.0,65.0 250.0,35.0 280.0,65.0' />
	<!-- text -->
	<text x='250' y='90' text-anchor='middle' font-size='12pt' fill='black' >:bevel</text>

</svg>
</div>

<p class='fig_title'><a name='hP90ozCer2U'></a>Figure.10-3 linejoin のサンプル</p>
<p>　　</p>
<details>
<summary><strong>miterlimit についての説明は暫定です（作者自身 SVG 規格における miterlimit の意味が良くわかっていない）。</strong></summary>
<p>　<code>miterlimit</code> は、 <code>linejoin</code> が <code>:miter</code> の場合における、結合される線の太さに対する結合部の長さの比率を数値で指定します。デフォルト値は 4 です。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='600' height='100'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- line -->
	<polyline fill='none' stroke='gray' stroke-width='16' stroke-linejoin='miter' stroke-miterlimit='0' points=' 35.0,65.0 50.0,35.0 65.0,65.0' />
	<!-- text -->
	<text x='50' y='90' text-anchor='middle' font-size='12pt' fill='black' >0</text>
	<!-- line -->
	<polyline fill='none' stroke='gray' stroke-width='16' stroke-linejoin='miter' stroke-miterlimit='2' points=' 135.0,65.0 150.0,35.0 165.0,65.0' />
	<!-- text -->
	<text x='150' y='90' text-anchor='middle' font-size='12pt' fill='black' >2</text>
	<!-- line -->
	<polyline fill='none' stroke='gray' stroke-width='16' stroke-linejoin='miter' stroke-miterlimit='4' points=' 235.0,65.0 250.0,35.0 265.0,65.0' />
	<!-- text -->
	<text x='250' y='90' text-anchor='middle' font-size='12pt' fill='black' >4</text>
	<!-- line -->
	<polyline fill='none' stroke='gray' stroke-width='16' stroke-linejoin='miter' stroke-miterlimit='6' points=' 335.0,65.0 350.0,35.0 365.0,65.0' />
	<!-- text -->
	<text x='350' y='90' text-anchor='middle' font-size='12pt' fill='black' >6</text>
	<!-- line -->
	<polyline fill='none' stroke='gray' stroke-width='16' stroke-linejoin='miter' stroke-miterlimit='8' points=' 435.0,65.0 450.0,35.0 465.0,65.0' />
	<!-- text -->
	<text x='450' y='90' text-anchor='middle' font-size='12pt' fill='black' >8</text>
	<!-- line -->
	<polyline fill='none' stroke='gray' stroke-width='16' stroke-linejoin='miter' stroke-miterlimit='10' points=' 535.0,65.0 550.0,35.0 565.0,65.0' />
	<!-- text -->
	<text x='550' y='90' text-anchor='middle' font-size='12pt' fill='black' >10</text>

</svg>
</div>

<p class='fig_title'><a name='6vs2Vz9sOKj'></a>Figure.10-4 miterlimit のサンプル</p>
</details>
<p>　　</p>
<h4><a name='9Kl09MlELdq'></a>10.2.4 dasharray と dashoffset</h4>
<p>　<code>dasharray</code> と <code>dashoffset</code> は点線や破線を描画する際に指定します。 <code>dasharray</code> は繰り返される線の幅と間隔の幅を数値でリストにしたものを渡します。通常は <code>dasharray</code> で指定された点線・破線を最初から描画しますが、 <code>dashoffset</code> を指定すると開始するオフセットを指定できます。以下に例を示します。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='400' height='120'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- text -->
	<text x='100' y='20' text-anchor='middle' font-size='10pt' fill='black' >dasharray</text>
	<!-- text -->
	<text x='65' y='45' text-anchor='end' font-size='10pt' fill='black' >(2 2)</text>
	<!-- line -->
	<polyline fill='none' stroke='black' stroke-width='4' stroke-dasharray='2 2 ' points=' 70.0,40.0 160.0,40.0' />
	<!-- text -->
	<text x='65' y='65' text-anchor='end' font-size='10pt' fill='black' >(5 5)</text>
	<!-- line -->
	<polyline fill='none' stroke='black' stroke-width='4' stroke-dasharray='5 5 ' points=' 70.0,60.0 160.0,60.0' />
	<!-- text -->
	<text x='65' y='85' text-anchor='end' font-size='10pt' fill='black' >(7 3)</text>
	<!-- line -->
	<polyline fill='none' stroke='black' stroke-width='4' stroke-dasharray='7 3 ' points=' 70.0,80.0 160.0,80.0' />
	<!-- text -->
	<text x='65' y='105' text-anchor='end' font-size='10pt' fill='black' >(10 5 3 5)</text>
	<!-- line -->
	<polyline fill='none' stroke='black' stroke-width='4' stroke-dasharray='10 5 3 5 ' points=' 70.0,100.0 160.0,100.0' />
	<!-- text -->
	<text x='300' y='20' text-anchor='middle' font-size='10pt' fill='black' >dashoffset</text>
	<!-- text -->
	<text x='265' y='45' text-anchor='end' font-size='10pt' fill='black' >0</text>
	<!-- line -->
	<polyline fill='none' stroke='black' stroke-width='4' stroke-dasharray='20 10 ' stroke-dashoffset='0' points=' 270.0,40.0 380.0,40.0' />
	<!-- text -->
	<text x='265' y='65' text-anchor='end' font-size='10pt' fill='black' >5</text>
	<!-- line -->
	<polyline fill='none' stroke='black' stroke-width='4' stroke-dasharray='20 10 ' stroke-dashoffset='5' points=' 270.0,60.0 380.0,60.0' />
	<!-- text -->
	<text x='265' y='85' text-anchor='end' font-size='10pt' fill='black' >10</text>
	<!-- line -->
	<polyline fill='none' stroke='black' stroke-width='4' stroke-dasharray='20 10 ' stroke-dashoffset='10' points=' 270.0,80.0 380.0,80.0' />
	<!-- text -->
	<text x='265' y='105' text-anchor='end' font-size='10pt' fill='black' >15</text>
	<!-- line -->
	<polyline fill='none' stroke='black' stroke-width='4' stroke-dasharray='20 10 ' stroke-dashoffset='15' points=' 270.0,100.0 380.0,100.0' />

</svg>
</div>

<p class='fig_title'><a name='dpbOii37pGP'></a>Figure.10-5 dasharray, dashoffset のサンプル</p>
<p>　　</p>
<h4><a name='cPNmZfLmh3t'></a>10.2.5 ストロークにおけるパターンとグラデーションの指定</h4>
<p>　<a class='autolink' href='#4HFjqmTuIU6'>ストローク</a>でできるのは、単色で線や点線をひくことだけではありません。<a class='autolink' href='#dmYFJAv81Kl'>パターン</a>や<a class='autolink' href='#4p1J7EWjD3m'>グラデーション</a>を定義して、それを使うこともできます。たとえば以下では、赤色から青色に変換する<a class='autolink' href='#4p1J7EWjD3m'>グラデーション</a>を作成し、<a class='autolink' href='#kJonRG8GtHF'>四角形</a>の<a class='autolink' href='#4HFjqmTuIU6'>ストローク</a>で使用しています。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='140' height='70'>
	
	<!-- gradient1 : linear-gradient-definition -->
	<defs>
		<linearGradient id='gradient1' >
			<stop offset='0.0' stop-color='red' />
			<stop offset='1.0' stop-color='blue' />
		</linearGradient>
	</defs>
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- rectangle -->
	<rect x='20' y='10' width='100' height='50' fill='white' stroke='url(#gradient1)' stroke-width='4' />

</svg>
</div>

<p class='fig_title'><a name='4csTWXsTuKW'></a>Figure.10-6 グラデーションを使ったストロークのサンプル</p>
<p>　　</p>
<p>　上記のサンプルを生成するコードは以下になります。<a class='autolink' href='#dmYFJAv81Kl'>パターン</a>と<a class='autolink' href='#4p1J7EWjD3m'>グラデーション</a>の詳細については <a href='#kfrwaPRQE9I'>9  章</a>を参照してください。定義された<a class='autolink' href='#4p1J7EWjD3m'>グラデーション</a>を指定するために、 <code>:stroke '(:url :gradient1 :width 4)</code> という記述をしています。</p>
<pre class='code'>
(diagram (140 70)
  (grid)
  (defgradient (<span class='keyword3'>:linear</span> <span class='keyword3'>:gradient1</span>)
    (0.00 <span class='keyword3'>:red</span>)
    (1.00 <span class='keyword3'>:blue</span>))
  (rect canvas.center 100 50 <span class='keyword3'>:stroke</span> '(<span class='keyword3'>:url</span> <span class='keyword3'>:gradient1</span> <span class='keyword3'>:width</span> 4) <span class='keyword3'>:fill</span> <span class='keyword3'>:white</span>))
</pre>
<p>　<a href='#4HFjqmTuIU6'>10.2  節</a>では説明を省略しましたが、<a class='autolink' href='#ezUVhtPwl3J'>make-stroke</a> 関数は <code>url</code> というパラメータで<a class='autolink' href='#dmYFJAv81Kl'>パターン</a>や<a class='autolink' href='#4p1J7EWjD3m'>グラデーション</a>の ID を指定することができます。これを指定した場合、 <code>:color</code> パラメータは無視されます。</p>
<p>　　</p>
<h3><a name='dBUd7L4C3dx'></a>10.3 フィル</h3>
<p>　<a class='autolink' href='#dBUd7L4C3dx'>フィル</a>とは、図形を描画する際の「塗り潰し方」を指定する情報です。</p>
<p>　このマニュアルのほとんどの部分では、 <code>:fill :white</code> のように、 <code>:fill</code> に続けて色名だけを指定しています。もう少し複雑な場合、 <code>:fill '(:color :skyblue :opacity 0.3)</code> といった要領で色名と不透明度を指定している個所もあります。実はこれらは全て簡易的な指定方法で、<a class='autolink' href='#dBUd7L4C3dx'>フィル</a>にはもっと多くの情報が含まれています。以下に説明します。</p>
<ul>
<li><code>color</code> は線の色を指定します。色の指定方法については <a href='#1rpUB3fre67'>10.1  節</a>を参照してください。</li>
<li><code>opacity</code> は線の不透明度です。0.0 ～ 1.0 の数値で指定します。0.0 は完全な透明、1.0 は完全な不透明です。</li>
<li><code>rule</code> は複雑な図形における塗り潰しの規則を指定するものです。詳細は後述します。</li>
</ul>
<p>　　</p>
<p>　それぞれについて細かい説明を始める前に、 <code>:fill :white</code> といった記述がどのように扱われるのかを説明する必要があるでしょう。 <code>:fill</code> によるこれらの指定は、実は全て <a class='autolink' href='#8IkB7VinE7h'>make-fill</a> 関数に渡されます。<a class='autolink' href='#8IkB7VinE7h'>make-fill</a> 関数は、渡されたのが単一の値の場合には、キーワードや文字列なら色名と解釈します。そして <code>'(:color :red :width 3)</code> などの（複数要素からなる）リストの場合、名前付きパラメータの羅列として解釈します。</p>
<p>　<a class='autolink' href='#8IkB7VinE7h'>make-fill</a> 関数はその結果として「<a class='autolink' href='#dBUd7L4C3dx'>フィル</a>情報オブジェクト」を返しますが、その<a class='autolink' href='#dBUd7L4C3dx'>フィル</a>情報オブジェクトを <a class='autolink' href='#8IkB7VinE7h'>make-fill</a> 関数自身に渡した場合、そのまま返すようになっています。そのため、自分で明示的に <a class='autolink' href='#8IkB7VinE7h'>make-fill</a> 関数を使って<a class='autolink' href='#dBUd7L4C3dx'>フィル</a>情報オブジェクトを作成し、Common LISP 変数に格納して複数の図形要素で使用する、ということも可能です。以下のように<sup><a name='footnote_ref12' href='#footnote12'>12</a></sup>。この関数の詳細は「<a href='#8IkB7VinE7h'>12.1.9  make-fill 関数</a>」を参照してください。</p>
<pre class='code'>
(<span class='keyword1'>let</span> ((fl (make-fill <span class='keyword3'>:color</span> <span class='keyword3'>:blue</span> <span class='keyword3'>:opacity</span> 0.3)))
  (rect   ... <span class='keyword3'>:fill</span> fl)
  (circle ... <span class='keyword3'>:fill</span> fl))
</pre>
<p>　　</p>
<h4><a name='hnD8TtKB1bS'></a>10.3.1 フィルのデフォルト設定</h4>
<p>　<a class='autolink' href='#4HFjqmTuIU6'>ストローク</a>の説明では「デフォルト設定がある」という話をしましたが、塗り潰しにおいてもデフォルト設定があります。<a class='autolink' href='#dBUd7L4C3dx'>フィル</a>はデフォルトで <code>:color :none</code> とされているため、図形を描画すると塗り潰し無し（つまり背景が透けて見える）になります。<a class='autolink' href='#5afU9yg86c0'>with-options</a> を使えばこれを変更することができます。以下の例では４種類の<a class='autolink' href='#kJonRG8GtHF'>四角形</a>を描いていますが、B, C の<a class='autolink' href='#kJonRG8GtHF'>四角形</a>ではデフォルト<a class='autolink' href='#4HFjqmTuIU6'>ストローク</a>を変更しています。</p>
<pre class='code'>
(diagram (250 100)
  (grid)
  (rect '(50 50) 40 40 <span class='keyword3'>:fill</span> <span class='keyword3'>:white</span>)
  (with-options (<span class='keyword3'>:fill</span> '(<span class='keyword3'>:color</span> <span class='keyword3'>:red</span> <span class='keyword3'>:opacity</span> 0.2))
    (rect '(100 50) 40 40)
    (rect '(150 50) 40 40 <span class='keyword3'>:fill</span> <span class='keyword3'>:blue</span>))
  (rect '(200 50) 40 40 <span class='keyword3'>:fill</span> <span class='keyword3'>:lightgray</span>)
  (text '( 50 90) <span class='literal'>"A"</span> <span class='keyword3'>:align</span> <span class='keyword3'>:center</span>)
  (text '(100 90) <span class='literal'>"B"</span> <span class='keyword3'>:align</span> <span class='keyword3'>:center</span>)
  (text '(150 90) <span class='literal'>"C"</span> <span class='keyword3'>:align</span> <span class='keyword3'>:center</span>)
  (text '(200 90) <span class='literal'>"D"</span> <span class='keyword3'>:align</span> <span class='keyword3'>:center</span>))
</pre>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='250' height='100'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- rectangle -->
	<rect x='30' y='30' width='40' height='40' fill='white' stroke='black' stroke-width='1' />
	<!-- rectangle -->
	<rect x='80' y='30' width='40' height='40' fill='red' fill-opacity='0.2' stroke='black' stroke-width='1' />
	<!-- rectangle -->
	<rect x='130' y='30' width='40' height='40' fill='blue' fill-opacity='0.2' stroke='black' stroke-width='1' />
	<!-- rectangle -->
	<rect x='180' y='30' width='40' height='40' fill='lightgray' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='50' y='90' text-anchor='middle' font-size='12pt' fill='black' >A</text>
	<!-- text -->
	<text x='100' y='90' text-anchor='middle' font-size='12pt' fill='black' >B</text>
	<!-- text -->
	<text x='150' y='90' text-anchor='middle' font-size='12pt' fill='black' >C</text>
	<!-- text -->
	<text x='200' y='90' text-anchor='middle' font-size='12pt' fill='black' >D</text>

</svg>
</div>

<p class='fig_title'><a name='3bmxM1d5ylR'></a>Figure.10-7 with-options によるデフォルトフィルの変更</p>
<p>　　</p>
<p>　C の<a class='autolink' href='#kJonRG8GtHF'>四角形</a>では「色しか指定していない」のに半透明になっていることに注意してください。これは、「明示的に指定されていないものはデフォルトの設定が使用される」からです。<a class='autolink' href='#5afU9yg86c0'>with-options</a> によってデフォルト設定が変更されており、B の<a class='autolink' href='#kJonRG8GtHF'>四角形</a>では（ <code>:fill</code> を省略することによって）全てがデフォルト設定で描画されました。C の<a class='autolink' href='#kJonRG8GtHF'>四角形</a>では、 <code>:fill :blue</code> によってデフォルト設定をベースとして色だけを変更している、というわけです。</p>
<p>　<a class='autolink' href='#5afU9yg86c0'>with-options</a> では全体のデフォルト設定を変更しますが、図形要素によっては個別にデフォルト設定を持っています。たとえば、<a class='autolink' href='#e7hkC2YUaKe'>テキストボックス</a>であれば <a class='autolink' href='#2XsIFr1er3s'>with-textbox-options</a> でデフォルト設定を変更することができます。</p>
<p>　　</p>
<h4><a name='kF4odxGhtYL'></a>10.3.2 fill における rule パラメータ</h4>
<p>　<code>rule</code> パラメータについて説明します。これは nonezero, evenodd から指定するもので、以下のように複雑な図形の塗り潰し方が変わります。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='400' height='120'>
	
	<!-- polygon -->
	<polygon fill='skyblue' fill-rule='nonzero' stroke='black' stroke-width='1' points='125.0,10.0 95.0,90.0 165.0,40.0 85.0,40.0 155.0,90.0' />
	<!-- text -->
	<text x='125' y='110' text-anchor='middle' font-size='12pt' fill='black' >:nonzero</text>
	<!-- polygon -->
	<polygon fill='skyblue' fill-rule='evenodd' stroke='black' stroke-width='1' points='275.0,10.0 245.0,90.0 315.0,40.0 235.0,40.0 305.0,90.0' />
	<!-- text -->
	<text x='275' y='110' text-anchor='middle' font-size='12pt' fill='black' >:evenodd</text>

</svg>
</div>

<p class='fig_title'><a name='9n3NgPBJGzS'></a>Figure.10-8 fill における rule のサンプル</p>
<details>
<summary><a href='#9n3NgPBJGzS'>Figure.10-8</a> のソースはこちら</summary>
<pre class='code'>
(diagram (400 120)
  (<span class='keyword1'>let</span> ((points '((50 10) (20 90) (90 40) (10 40) (80 90))))
    (with-subcanvas ('(75 0) 100 100)
      (polygon points <span class='keyword3'>:fill</span> '(<span class='keyword3'>:color</span> <span class='keyword3'>:skyblue</span> <span class='keyword3'>:rule</span> <span class='keyword3'>:nonzero</span>))
      (text '(50 110) <span class='literal'>":nonzero"</span> <span class='keyword3'>:align</span> <span class='keyword3'>:center</span>))
    (with-subcanvas ('(225 0) 100 100)
      (polygon points <span class='keyword3'>:fill</span> '(<span class='keyword3'>:color</span> <span class='keyword3'>:skyblue</span> <span class='keyword3'>:rule</span> <span class='keyword3'>:evenodd</span>))
      (text '(50 110) <span class='literal'>":evenodd"</span> <span class='keyword3'>:align</span> <span class='keyword3'>:center</span>))))
</pre>
</details>
<p>　　</p>
<p>　これについては、ひとまずのところあまり使用頻度が高いとは思われないため、<a class='autolink' href='#l10jSaJeUDk'>SVG本</a>の説明を引用するに留めます。</p>
<blockquote>
<p><strong>塗りつぶしのルールの説明</strong></p>
<p>　完全を期すために、fill-rule がどのように機能するかを説明しますが、悩む必要はありません −− 詳細を知らなくてもルールを利用することはできます。nonzero ルールは、問題になっている点から無限遠まで線を引くことで、その点が<a class='autolink' href='#5vGRm9AMypB'>多角形</a>の内側か外側かを判断します。その線が<a class='autolink' href='#5vGRm9AMypB'>多角形</a>の線と何回交差するかを数え、<a class='autolink' href='#5vGRm9AMypB'>多角形</a>の線が右から左に向かって描かれている場合は1を足し、左から右に向かって描かれている場合は1を引きます。合計がゼロであれば、その点は<a class='autolink' href='#5vGRm9AMypB'>多角形</a>の外側にあります。合計がゼロ以外（nonzero）であれば、その点は<a class='autolink' href='#5vGRm9AMypB'>多角形</a>の内側にあります。</p>
<p>　evenodd ルールも、問題になっている点から無限遠まで線を引きますが、その線が<a class='autolink' href='#5vGRm9AMypB'>多角形</a>の線と何回交差するかを単純に数えます。交差した回数が奇数であれば、その点は内側にあります。偶数であれば、外側にあります。</p>
</blockquote>
<p>　　</p>
<h4><a name='7K8A5tBrYlW'></a>10.3.3 フィルにおけるパターンとグラデーションの指定</h4>
<p>　<a class='autolink' href='#dBUd7L4C3dx'>フィル</a>でできるのは、単色で塗り潰すことだけではありません。<a class='autolink' href='#dmYFJAv81Kl'>パターン</a>や<a class='autolink' href='#4p1J7EWjD3m'>グラデーション</a>を定義して、それを使うこともできます。たとえば以下では、細い斜め線の<a class='autolink' href='#dmYFJAv81Kl'>パターン</a>を作成し、<a class='autolink' href='#kJonRG8GtHF'>四角形</a>の中に敷き詰めています。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='140' height='70'>
	
	<!-- tile : pattern-definition -->
	<defs>
		<pattern id='tile' width='5' height='5' patternUnits='userSpaceOnUse' >
			<!-- line -->
			<polyline fill='none' stroke='blue' stroke-width='0.3' points=' 5.0,0.0 0.0,5.0' />
			
		</pattern>
	</defs>
	<!-- rectangle -->
	<rect x='20' y='10' width='100' height='50' fill='url(#tile)' stroke='black' stroke-width='1' />

</svg>
</div>

<p class='fig_title'><a name='6bZICAqfljz'></a>Figure.10-9 パターンを使った塗り潰しのサンプル</p>
<p>　　</p>
<p>　上記のサンプルを生成するコードは以下になります。<a class='autolink' href='#dmYFJAv81Kl'>パターン</a>と<a class='autolink' href='#4p1J7EWjD3m'>グラデーション</a>の詳細については <a href='#kfrwaPRQE9I'>9  章</a>を参照してください。定義された<a class='autolink' href='#dmYFJAv81Kl'>パターン</a>を指定するために、 <code>:fill '(:url :tile)</code> という記述をしています。</p>
<pre class='code'>
(diagram (140 70)
  (defpattern (<span class='keyword3'>:tile</span> <span class='keyword3'>:width</span> 5 <span class='keyword3'>:height</span> 5 <span class='keyword3'>:units</span> <span class='keyword3'>:userSpaceOnUse</span>)
    (line '((5 0) (0 5)) <span class='keyword3'>:stroke</span> '(<span class='keyword3'>:color</span> <span class='keyword3'>:blue</span> <span class='keyword3'>:width</span> 0.3)))
  (rect canvas.center 100 50 <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span> <span class='keyword3'>:fill</span> '(<span class='keyword3'>:url</span> <span class='keyword3'>:tile</span>)))
</pre>
<p>　<a href='#dBUd7L4C3dx'>10.3  節</a>では説明を省略しましたが、<a class='autolink' href='#8IkB7VinE7h'>make-fill</a> 関数は <code>url</code> というパラメータで<a class='autolink' href='#dmYFJAv81Kl'>パターン</a>や<a class='autolink' href='#4p1J7EWjD3m'>グラデーション</a>のID を指定することができます。これを指定した場合、 <code>:color</code> など他のパラメータは無視されます。</p>
<p>　　</p>
<h3><a name='3kZ9FkounyK'></a>10.4 フォント</h3>
<p>　kaavio では様々な図形要素にテキストを付与できます。おおむね Web における<a class='autolink' href='#3kZ9FkounyK'>フォント</a>指定と同じですが、醜いハックも含まれています。</p>
<p>　通常の使用では、 <code>:font 24</code> のようにサイズだけを指定したりします。もう少し複雑な場合、 <code>:font '(:family "monospace" :size 16)</code> といった要領で<a class='autolink' href='#3kZ9FkounyK'>フォント</a>の種類とサイズを指定することもあります。実はこれらは全て簡易的な指定方法で、<a class='autolink' href='#3kZ9FkounyK'>フォント</a>にはもっと多くの情報が含まれています。以下に説明します。</p>
<ul>
<li><code>family</code> は<a class='autolink' href='#3kZ9FkounyK'>フォント</a>の名称を文字列で指定します。</li>
<li><code>size</code> は<a class='autolink' href='#3kZ9FkounyK'>フォント</a>のサイズを指定します（厳密には違うらしいのですが、詳細は後述します）。</li>
<li><code>fill</code> は<a class='autolink' href='#3kZ9FkounyK'>フォント</a>の塗り潰しを指定します。</li>
<li><code>stroke</code> は<a class='autolink' href='#3kZ9FkounyK'>フォント</a>の輪郭線を指定します。<a class='autolink' href='#3kZ9FkounyK'>フォント</a>の場合、通常は塗り潰しのみで輪郭線は指定しません。</li>
<li><code>style</code> はスタイルの指定です。 <code>:normal, :italic, :oblique</code> のいずれかから選択します。</li>
<li><code>decoration</code> は装飾の指定です。 <code>:none, :underline, :overline, :line-through</code> のいずれかから選択します。</li>
<li><code>weight</code> は文字の太さの指定です。 <code>:normal, :bold, :bolder, :lighter</code> のいずれか、または 100 200 300 400 500 600 700 800 900 のいずれかです。</li>
<li><code>filter</code> はテキストに適用する<a class='autolink' href='#gPGlqSbIfdL'>フィルタ</a>の指定です。</li>
<li><code>line-spacing</code> は、テキストが複数行になる場合の行間を指定します。</li>
<li><code>width-spice</code> は、「テキストが実際に描画される幅」を計算するための目安となる係数を指定します。詳細は後述します。</li>
</ul>
<p>　　</p>
<p>　それぞれについて細かい説明を始める前に、 <code>:font 24</code> といった記述がどのように扱われるのかを説明する必要があるでしょう。 <code>:font</code> によるこれらの指定は、実は全て <a class='autolink' href='#673GXF9YiIQ'>make-font</a> 関数に渡されます。<a class='autolink' href='#673GXF9YiIQ'>make-font</a> 関数は、渡されたのが単一の値の場合には、数値ならサイズ、文字列なら<a class='autolink' href='#3kZ9FkounyK'>フォント</a>ファミリ名などと解釈します。そして <code>'(:family "sans serif" :size 10)</code> などの（複数要素からなる）リストの場合、名前付きパラメータの羅列として解釈します。</p>
<p>　<a class='autolink' href='#673GXF9YiIQ'>make-font</a> 関数はその結果として「<a class='autolink' href='#3kZ9FkounyK'>フォント</a>情報オブジェクト」を返しますが、その<a class='autolink' href='#3kZ9FkounyK'>フォント</a>情報オブジェクトを <a class='autolink' href='#673GXF9YiIQ'>make-font</a> 関数自身に渡した場合、そのまま返すようになっています。そのため、自分で明示的に <a class='autolink' href='#673GXF9YiIQ'>make-font</a> 関数を使って<a class='autolink' href='#3kZ9FkounyK'>フォント</a>情報オブジェクトを作成し、Common LISP 変数に格納して複数の図形要素で使用する、ということも可能です。以下のように。この関数の詳細は「<a href='#673GXF9YiIQ'>12.1.10  make-font 関数</a>」を参照してください。</p>
<pre class='code'>
(<span class='keyword1'>let</span> ((fnt (make-font <span class='keyword3'>:family</span> <span class='literal'>"Courier New, monospace"</span> <span class='keyword3'>:size</span> 12)))
  (text   ... <span class='keyword3'>:font</span> fnt)
  (paragraph ... <span class='keyword3'>:font</span> fnt))
</pre>
<p>　　</p>
<h4><a name='6ogELpgtwxO'></a>10.4.1 フォントのデフォルト設定</h4>
<p>　実際のところ、作図をする上でそれぞれのテキストがバラバラな<a class='autolink' href='#3kZ9FkounyK'>フォント</a>で描かれることはないでしょう。わかりやすい図面というのは、同じ種類の図形要素は同じ種類の線で描画されているなど、統制が取れているものです。このことは、複数のテキストを含む作図においては「まったく同じ<a class='autolink' href='#3kZ9FkounyK'>フォント</a>の指定を繰り返す場合が多い」ことを意味します。前述の方法で<a class='autolink' href='#3kZ9FkounyK'>フォント</a>情報オブジェクトを作成して使い回すことも可能ですが、もっとよい方法があります。それは「デフォルト<a class='autolink' href='#3kZ9FkounyK'>フォント</a>の変更」です。もともと、<a class='autolink' href='#3kZ9FkounyK'>フォント</a>はデフォルトで <code>:size 12 :fill :black</code> とされています<sup><a name='footnote_ref13' href='#footnote13'>13</a></sup>が、<a class='autolink' href='#5afU9yg86c0'>with-options</a> を使えばこれを変更することができます。以下の例では４種類のテキストを描いていますが、B, C のテキストはデフォルト<a class='autolink' href='#3kZ9FkounyK'>フォント</a>を変更しています。</p>
<pre class='code'>
(diagram (250 100)
  (grid)
  (text '(30 70) <span class='literal'>"A"</span> <span class='keyword3'>:font</span> 36)
  (with-options (<span class='keyword3'>:font</span> '(<span class='keyword3'>:size</span> 36 <span class='keyword3'>:fill</span> <span class='keyword3'>:navy</span> <span class='keyword3'>:style</span> <span class='keyword3'>:italic</span> <span class='keyword3'>:weight</span> <span class='keyword3'>:bold</span>))
    (text '(80 70) <span class='literal'>"B"</span>)
    (text '(130 70) <span class='literal'>"C"</span> <span class='keyword3'>:font</span> '(<span class='keyword3'>:fill</span> <span class='keyword3'>:brown</span>)))
  (text '(190 70) <span class='literal'>"D"</span> <span class='keyword3'>:font</span> '(<span class='keyword3'>:size</span> 36 <span class='keyword3'>:fill</span> <span class='keyword3'>:brown</span>)))
</pre>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='250' height='100'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- text -->
	<text x='30' y='70' text-anchor='start' font-size='36pt' fill='black' >A</text>
	<!-- text -->
	<text x='80' y='70' text-anchor='start' font-size='36pt' fill='navy' font-style='italic' font-weight='bold' >B</text>
	<!-- text -->
	<text x='130' y='70' text-anchor='start' font-size='36pt' fill='brown' font-style='italic' font-weight='bold' >C</text>
	<!-- text -->
	<text x='190' y='70' text-anchor='start' font-size='36pt' fill='brown' >D</text>

</svg>
</div>

<p class='fig_title'><a name='aImv1ABfsGj'></a>Figure.10-10 with-options によるデフォルトフォントの変更</p>
<p>　　</p>
<p>　C のテキストでは「色しか指定していない」のに文字装飾が変更されていることに注意してください。これは、「明示的に指定されていないものはデフォルトの設定が使用される」からです。<a class='autolink' href='#5afU9yg86c0'>with-options</a> によってデフォルト設定が変更されており、B のテキストでは（ <code>:font</code> を省略することによって）全てがデフォルト設定で描画されました。C の<a class='autolink' href='#kJonRG8GtHF'>四角形</a>では、 <code>:font :brown</code> によってデフォルト設定をベースとして色だけを変更している、というわけです。</p>
<p>　<a class='autolink' href='#5afU9yg86c0'>with-options</a> では全体のデフォルト設定を変更しますが、図形要素によっては個別にデフォルト設定を持っています。たとえば、<a class='autolink' href='#e7hkC2YUaKe'>テキストボックス</a>であれば <a class='autolink' href='#2XsIFr1er3s'>with-textbox-options</a> でデフォルト設定を変更することができます。</p>
<p>　　</p>
<h4><a name='kEzS3nMEHGk'></a>10.4.2 フォントにおける family パラメータ</h4>
<p>　family パラメータについては、<a class='autolink' href='#l10jSaJeUDk'>SVG本</a>の説明を引用しておきます（手抜きでごめんなさい）。</p>
<blockquote>
<p><strong>font-family</strong></p>
<p>この値に指定するのは、<a class='autolink' href='#3kZ9FkounyK'>フォント</a>ファミリー名または総称ファミリー名をカンマで区切って並べたリストです。これはフォールバック値のリストです。つまり、SVGビューアーは、自身が認識する最初のファミリー名を使用します。総称ファミリー名は、リスト内の最後に指定しなければなりません。SVG ビューアーに義務づけられているのは、総称ファミリー名を認識することと、それらを表示できる<a class='autolink' href='#3kZ9FkounyK'>フォント</a>を備えていることです。総称ファミリー名は、serif、 sans-serif、 monospace、 fantasy、 cursive です。 serif （セリフ）<a class='autolink' href='#3kZ9FkounyK'>フォント</a>には、<a class='autolink' href='#4HFjqmTuIU6'>ストローク</a>の端に「セリフ」と呼ばれる小さな飾り −−「うろこ」や「ひげ」などとも呼ばれます −− があります。sans-serif （サンセリフ）<a class='autolink' href='#3kZ9FkounyK'>フォント</a>には、セリフがありません。‥‥（中略）‥‥serif <a class='autolink' href='#3kZ9FkounyK'>フォント</a>も sans-serif <a class='autolink' href='#3kZ9FkounyK'>フォント</a>も、プロポーショナル<a class='autolink' href='#3kZ9FkounyK'>フォント</a>（可変幅<a class='autolink' href='#3kZ9FkounyK'>フォント</a>）です。つまり、大文字の「M」の幅と「I」の幅は異なります。 monospace （モノスペース）<a class='autolink' href='#3kZ9FkounyK'>フォント</a>は、タイプライターの文字のように、すべてのグリフが同じ幅を持つ<a class='autolink' href='#3kZ9FkounyK'>フォント</a>です（等幅<a class='autolink' href='#3kZ9FkounyK'>フォント</a>、固定幅<a class='autolink' href='#3kZ9FkounyK'>フォント</a>などと呼ばれます）。これは、セリフがある<a class='autolink' href='#3kZ9FkounyK'>フォント</a>でも、ない<a class='autolink' href='#3kZ9FkounyK'>フォント</a>でもかまいません。 fantasy <a class='autolink' href='#3kZ9FkounyK'>フォント</a>と cursive <a class='autolink' href='#3kZ9FkounyK'>フォント</a>は、ブラウザーやSVGビューアーによって実装が大きく異なる可能性があります。</p>
</blockquote>
<p>　　</p>
<h4><a name='8v1oWuXm6mt'></a>10.4.3 フォントにおける stroke と fill</h4>
<p>　前述の通り、<a class='autolink' href='#3kZ9FkounyK'>フォント</a>では通常 stroke を指定しません。しかし、逆に fill を無し（あるいは背景色同等）にして stroke を指定することで縁取られたテキストを描画することもできます。以下に例を示します。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='400' height='190'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- text -->
	<text x='10' y='50' text-anchor='start' font-family='sans-serif' font-size='40pt' fill='white' stroke='black' stroke-width='2' font-weight='bold' >Abcdefgh</text>
	<!-- text -->
	<text x='270' y='30' text-anchor='start' font-family='sans-serif' font-size='12pt' fill='black' stroke='none' stroke-width='2' font-weight='normal' >:stroke :black</text>
	<!-- text -->
	<text x='270' y='50' text-anchor='start' font-family='sans-serif' font-size='12pt' fill='black' stroke='none' stroke-width='2' font-weight='normal' >:fill :white</text>
	<!-- text -->
	<text x='10' y='110' text-anchor='start' font-family='sans-serif' font-size='40pt' fill='black' stroke='none' stroke-width='2' font-weight='bold' >Abcdefgh</text>
	<!-- text -->
	<text x='270' y='90' text-anchor='start' font-family='sans-serif' font-size='12pt' fill='black' stroke='none' stroke-width='2' font-weight='normal' >:stroke :none</text>
	<!-- text -->
	<text x='270' y='110' text-anchor='start' font-family='sans-serif' font-size='12pt' fill='black' stroke='none' stroke-width='2' font-weight='normal' >:fill :black</text>
	<!-- text -->
	<text x='10' y='170' text-anchor='start' font-family='sans-serif' font-size='40pt' fill='black' stroke='black' stroke-width='2' font-weight='bold' >Abcdefgh</text>
	<!-- text -->
	<text x='270' y='150' text-anchor='start' font-family='sans-serif' font-size='12pt' fill='black' stroke='none' stroke-width='2' font-weight='normal' >:stroke :black</text>
	<!-- text -->
	<text x='270' y='170' text-anchor='start' font-family='sans-serif' font-size='12pt' fill='black' stroke='none' stroke-width='2' font-weight='normal' >:fill :black</text>

</svg>
</div>

<p class='fig_title'><a name='gbHwYj2Ai06'></a>Figure.10-11 font における stroke と fill</p>
<p>　　</p>
<h4><a name='fxm5l02ul2O'></a>10.4.4 size と line-spacing</h4>
<p>　<a class='autolink' href='#3kZ9FkounyK'>フォント</a>の size 情報については、まず <a class='autolink' href='#l10jSaJeUDk'>SVG本</a>の説明を引用しておきましょう。</p>
<blockquote>
<p><strong>font-size</strong></p>
<p>この値には、テキストが複数行になる場合の、ベースラインからベースラインまでのグリフの距離を指定します（SVGでは、複数行の <code>&lt;text&gt;</code> の内容は自分自身で配置しなければならないので、この概念は少々空論的です）。</p>
</blockquote>
<p>　上記のようなわけで、kaavio では<a class='autolink' href='#3kZ9FkounyK'>フォント</a>情報の size は単純に「<a class='autolink' href='#3kZ9FkounyK'>フォント</a>の縦方向のサイズである」という立場をとっています。正確には、「文字の上端からベースラインまでの距離」です。そして、<a class='autolink' href='#4WyMTv59pvw'>paragraph</a> などで複数行を描画する場合の「ベースラインから次行の上端までの距離」を <code>line-spacing</code> で指定します。以下は、 <code>:font '(:size 50 :line-spacing 30)</code> で描画した場合のサンプルです。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='400' height='170'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- paragraph -->
	<text x='130' y='70' text-anchor='start' font-size='50pt' fill='black' >Abcdefg</text>
	<text x='130' y='150' text-anchor='start' font-size='50pt' fill='black' >Hijklmn</text>
	<!-- line -->
	<polyline fill='none' stroke='red' stroke-width='1' stroke-dasharray='2 2 ' points=' 130.0,0.0 130.0,160.0' />
	<!-- line -->
	<polyline fill='none' stroke='red' stroke-width='1' stroke-dasharray='2 2 ' points=' 0.0,20.0 400.0,20.0' />
	<!-- line -->
	<polyline fill='none' stroke='red' stroke-width='1' stroke-dasharray='2 2 ' points=' 0.0,70.0 400.0,70.0' />
	<!-- line -->
	<polyline fill='none' stroke='red' stroke-width='1' stroke-dasharray='2 2 ' points=' 0.0,100.0 400.0,100.0' />
	<!-- line -->
	<polyline fill='none' stroke='red' stroke-width='1' stroke-dasharray='2 2 ' points=' 0.0,150.0 400.0,150.0' />
	<!-- line -->
	<polyline fill='none' stroke='blue' stroke-width='1' points=' 110.0,20.0 110.0,70.0' />
	<polyline fill='none' stroke='blue' stroke-width='1' points='115.0,28.660254 110,20 105.0,28.660254' />
	<polyline fill='none' stroke='blue' stroke-width='1' points='105.0,61.339745 110,70 115.0,61.339745' />
	<!-- text -->
	<text x='100' y='50' text-anchor='end' font-size='12pt' fill='blue' >size</text>
	<!-- line -->
	<polyline fill='none' stroke='blue' stroke-width='1' points=' 110.0,70.0 110.0,100.0' />
	<polyline fill='none' stroke='blue' stroke-width='1' points='115.0,78.660255 110,70 105.0,78.660255' />
	<polyline fill='none' stroke='blue' stroke-width='1' points='105.0,91.339745 110,100 115.0,91.339745' />
	<!-- text -->
	<text x='100' y='90' text-anchor='end' font-size='12pt' fill='blue' >line-spacing</text>

</svg>
</div>

<p class='fig_title'><a name='8UprDrMi9gT'></a>Figure.10-12 font における size と line-spacing</p>
<p>　　</p>
<p>　見ての通り、文字によってはベースラインよりも下に描画されることがありますから、 <code>size</code> によって <code>line-spacing</code> も調整する必要があります。</p>
<p>　　</p>
<h4><a name='iFx6Ice5zu7'></a>10.4.5 width-spice</h4>
<p>　width-spice は、kaavio におけるもっとも醜いハックです。簡単に言えば、「<a class='autolink' href='#3kZ9FkounyK'>フォント</a>サイズとテキスト長にかける係数を指定可能にし、テキストの描画幅の計算に使う」というものです。というのも、「テキストがその<a class='autolink' href='#3kZ9FkounyK'>フォント</a>設定で実際に描画される場合、どれだけの幅をとることになるかわからない」ためです。たとえば、<a class='autolink' href='#e7hkC2YUaKe'>テキストボックス</a>では明示的に幅を指定しない場合はテキストから幅を自動計算しようとしますが、width-spice の値によって結果は以下のように変わります。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='450' height='200'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- text -->
	<text x='120' y='20' text-anchor='middle' font-family='Courier New, monospace' font-size='12pt' fill='black' >Courier New</text>
	<!-- textbox -->
	<rect x='74.0' y='34' width='92.0' height='32' fill='lightgray' stroke='gray' stroke-width='1' />
	<text x='120.0' y='56' text-anchor='middle' font-family='Courier New, monospace' font-size='12pt' fill='red' >width-spice 0.4</text>
	<!-- textbox -->
	<rect x='56.0' y='74' width='128.0' height='32' fill='lightgray' stroke='gray' stroke-width='1' />
	<text x='120.0' y='96' text-anchor='middle' font-family='Courier New, monospace' font-size='12pt' fill='red' >width-spice 0.6</text>
	<!-- textbox -->
	<rect x='38.0' y='114' width='164.0' height='32' fill='lightgray' stroke='gray' stroke-width='1' />
	<text x='120.0' y='136' text-anchor='middle' font-family='Courier New, monospace' font-size='12pt' fill='red' >width-spice 0.8</text>
	<!-- textbox -->
	<rect x='20.0' y='154' width='200.0' height='32' fill='lightgray' stroke='gray' stroke-width='1' />
	<text x='120.0' y='176' text-anchor='middle' font-family='Courier New, monospace' font-size='12pt' fill='red' >width-spice 1.0</text>
	<!-- text -->
	<text x='330' y='20' text-anchor='middle' font-family='serif' font-size='12pt' fill='black' >serif font</text>
	<!-- textbox -->
	<rect x='284.0' y='34' width='92.0' height='32' fill='lightgray' stroke='gray' stroke-width='1' />
	<text x='330.0' y='56' text-anchor='middle' font-family='serif' font-size='12pt' fill='red' >width-spice 0.4</text>
	<!-- textbox -->
	<rect x='266.0' y='74' width='128.0' height='32' fill='lightgray' stroke='gray' stroke-width='1' />
	<text x='330.0' y='96' text-anchor='middle' font-family='serif' font-size='12pt' fill='red' >width-spice 0.6</text>
	<!-- textbox -->
	<rect x='248.0' y='114' width='164.0' height='32' fill='lightgray' stroke='gray' stroke-width='1' />
	<text x='330.0' y='136' text-anchor='middle' font-family='serif' font-size='12pt' fill='red' >width-spice 0.8</text>
	<!-- textbox -->
	<rect x='230.0' y='154' width='200.0' height='32' fill='lightgray' stroke='gray' stroke-width='1' />
	<text x='330.0' y='176' text-anchor='middle' font-family='serif' font-size='12pt' fill='red' >width-spice 1.0</text>

</svg>
</div>

<p class='fig_title'><a name='1Z9lqmEkvJx'></a>Figure.10-13 width-spice のサンプル</p>
<details>
<summary><a href='#1Z9lqmEkvJx'>Figure.10-13</a> のソースはこちら</summary>
<pre class='code'>
(diagram (450 200)
  (grid)
  (<span class='keyword1'>labels</span> ((impl (x y spice)
             (<span class='keyword1'>let</span> ((txt (format nil <span class='literal'>"width-spice ~A"</span> spice)))
               (textbox `(,x ,y) txt <span class='keyword3'>:font</span> `(<span class='keyword3'>:width-spice</span> ,spice)))))
    (with-options (<span class='keyword3'>:stroke</span> <span class='keyword3'>:gray</span> <span class='keyword3'>:fill</span> <span class='keyword3'>:lightgray</span>
                   <span class='keyword3'>:font</span> '(<span class='keyword3'>:fill</span> <span class='keyword3'>:red</span> <span class='keyword3'>:size</span> 12 <span class='keyword3'>:family</span> <span class='literal'>"Courier New, monospace"</span>))
      (text '(120 20) <span class='literal'>"Courier New"</span> <span class='keyword3'>:align</span> <span class='keyword3'>:center</span> <span class='keyword3'>:font</span> '(<span class='keyword3'>:fill</span> <span class='keyword3'>:black</span>))
      (impl 120  50 0.4)
      (impl 120  90 0.6)
      (impl 120 130 0.8)
      (impl 120 170 1.0))
    (with-options (<span class='keyword3'>:stroke</span> <span class='keyword3'>:gray</span> <span class='keyword3'>:fill</span> <span class='keyword3'>:lightgray</span>
                   <span class='keyword3'>:font</span> '(<span class='keyword3'>:fill</span> <span class='keyword3'>:red</span> <span class='keyword3'>:size</span> 12 <span class='keyword3'>:family</span> <span class='literal'>"serif"</span>))
      (text '(330 20) <span class='literal'>"serif font"</span> <span class='keyword3'>:align</span> <span class='keyword3'>:center</span> <span class='keyword3'>:font</span> '(<span class='keyword3'>:fill</span> <span class='keyword3'>:black</span>))
      (impl 330  50 0.4)
      (impl 330  90 0.6)
      (impl 330 130 0.8)
      (impl 330 170 1.0))))
</pre>
</details>
<p>　　</p>
<p>　上記の結果を見る限りでは、Courier New <a class='autolink' href='#3kZ9FkounyK'>フォント</a>では 0.8 程度、serif <a class='autolink' href='#3kZ9FkounyK'>フォント</a>では 0.7 弱が spice 値としてよさそうに思えます。しかし、プロポーショナル<a class='autolink' href='#3kZ9FkounyK'>フォント</a>では（文字数が同じでも）文字列内で使われている文字の種類によって変わってしまいますし、そもそも制御できない外部環境によって描画は変わりえるのです。上記サンプルの左側は <code>:family</code> 指定で <code>Courier New, monospace</code> としていますから、Courier New <a class='autolink' href='#3kZ9FkounyK'>フォント</a>がない環境で表示すれば monospace が使用されるでしょう。それによって、テキストの実際の描画幅は大きく変化してしまいます。</p>
<p>　width-spice は kaavio の開発初期の段階で導入されたものですが、現在ではあまり良くないアイデアとみなされています。<a class='autolink' href='#e7hkC2YUaKe'>テキストボックス</a>などでは幅を明示的に指定するのが現実的であり、その他テキストの描画幅においてもなんらかの仮定に依存するようなデザインをしないことが賢明でしょう<sup><a name='footnote_ref14' href='#footnote14'>14</a></sup>。</p>
<p>　　</p>
<h3><a name='iu9Ovm00KHn'></a>10.5 IDと参照</h3>
<p>　たいていの場合、図中の要素は互いに関係しています。矢印などで接続されることもありますし、それ以外の位置関係に意味があるかもしれません。kaavio では、個々の図形要素に ID を付与し、その ID を指定することで図形要素どうしを接続したり位置関係を指定したりできます。</p>
<p>　このマニュアルの<a href='#9LLncE6hWlx'>冒頭に出てきたサンプル</a>は、以下のようなものでした。</p>
<pre class='code'>
(diagram (300 150)
  (grid)
  (rect   '( 50  50) 80 60 <span class='keyword3'>:fill</span> <span class='keyword3'>:powderblue</span> <span class='keyword3'>:id</span> <span class='keyword3'>:x</span>)
  (circle '(250 100) 40    <span class='keyword3'>:fill</span> <span class='keyword3'>:moccasin</span>   <span class='keyword3'>:id</span> <span class='keyword3'>:y</span>)
  (connect <span class='keyword3'>:x</span> <span class='keyword3'>:y</span> <span class='keyword3'>:end2</span> <span class='keyword3'>:arrow</span>))
</pre>
<p>　ここでは、<a class='autolink' href='#kJonRG8GtHF'>rect</a> と <a class='autolink' href='#8UQowBxrcaE'>circle</a> に <code>:x</code> や <code>:y</code> という ID を付与しており、<a class='autolink' href='#eFhVs4WwYUG'>connect</a> での指定に利用しています。これが ID とその参照の基本的なかたちです。もうひとつ、ID は座標の指定でも利用できます。上のサンプルを少し変えて、<a class='autolink' href='#8UQowBxrcaE'>circle</a> を <a class='autolink' href='#kJonRG8GtHF'>rect</a> の相対位置で指定してみましょう。生成される図はまったく同じです。</p>
<pre class='code'>
(diagram (300 150)
  (grid)
  (rect   '( 50  50) 80 60         <span class='keyword3'>:fill</span> <span class='keyword3'>:powderblue</span> <span class='keyword3'>:id</span> <span class='keyword3'>:x</span>)
  (circle (xy+ x.center 200 50) 40 <span class='keyword3'>:fill</span> <span class='keyword3'>:moccasin</span>   <span class='keyword3'>:id</span> <span class='keyword3'>:y</span>)
  (connect <span class='keyword3'>:x</span> <span class='keyword3'>:y</span> <span class='keyword3'>:end2</span> <span class='keyword3'>:arrow</span>))
</pre>
<p>　このように、ID（この例では <code>x</code> ）とその図形要素の属性（この例では <code>center</code> ）を <code>.</code> で繋ぐことで既出の図形要素の位置などを参照することができます。使用できる属性は「<a href='#h1RNMQY1C0b'>6  座標と位置</a>」にて紹介しています。</p>
<p>　続いて、ID を使わない方法について説明します。これは 「$N 記法」と呼ばれるもので、「N 個手前で登場した図形要素を参照」するものです。先ほどの <a class='autolink' href='#8UQowBxrcaE'>circle</a> の例は以下のように書くことができます。</p>
<pre class='code'>
(diagram (300 150)
  (grid)
  (rect   '( 50  50) 80 60          <span class='keyword3'>:fill</span> <span class='keyword3'>:powderblue</span> <span class='keyword3'>:id</span> <span class='keyword3'>:x</span>)
  (circle (xy+ $1.center 200 50) 40 <span class='keyword3'>:fill</span> <span class='keyword3'>:moccasin</span>   <span class='keyword3'>:id</span> <span class='keyword3'>:y</span>)
  (connect <span class='keyword3'>:x</span> <span class='keyword3'>:y</span> <span class='keyword3'>:end2</span> <span class='keyword3'>:arrow</span>))
</pre>
<p>　この <code>$1</code> は、<a class='autolink' href='#8UQowBxrcaE'>circle</a> から見て「ひとつ前の図形要素」、つまり <a class='autolink' href='#kJonRG8GtHF'>rect</a> を参照しています。このような $N 記法は、$1 から $9 までが利用可能です。つまり、9 つ前までの要素を ID なしで参照できるわけです。</p>
<p>　この <code>$1.center</code> といった記法は、ID 指定を省略した図形要素でも使用することができます。しかし、<a class='autolink' href='#eFhVs4WwYUG'>connect</a> はどうでしょう。<a class='autolink' href='#eFhVs4WwYUG'>connect</a> では図形要素の ID そのものを指定する必要があります。</p>
<p>　まず、<a class='autolink' href='#eFhVs4WwYUG'>connect</a> での ID 指定の話からしましょう。$N 記法を使うと、以下のように書くことができます。</p>
<pre class='code'>
(diagram (300 150)
  (grid)
  (rect   '( 50  50) 80 60          <span class='keyword3'>:fill</span> <span class='keyword3'>:powderblue</span> <span class='keyword3'>:id</span> <span class='keyword3'>:x</span>)
  (circle (xy+ $1.center 200 50) 40 <span class='keyword3'>:fill</span> <span class='keyword3'>:moccasin</span>   <span class='keyword3'>:id</span> <span class='keyword3'>:y</span>)
  (connect $2.id $1.id <span class='keyword3'>:end2</span> <span class='keyword3'>:arrow</span>))
</pre>
<p>　<a class='autolink' href='#eFhVs4WwYUG'>connect</a> からみれば <a class='autolink' href='#kJonRG8GtHF'>rect</a> は 2 つ前なので $2、<a class='autolink' href='#8UQowBxrcaE'>circle</a> は 1 つ前なので $1 で参照し、$1.id とすることでその ID を参照しています。結局、これは <code>:x</code> や <code>:y</code> を指定しているのと同じことになります。</p>
<p>　上記の説明からすると奇妙に思われるかもしれませんが、上記の状態になっていれば、<a class='autolink' href='#kJonRG8GtHF'>rect</a> / <a class='autolink' href='#8UQowBxrcaE'>circle</a> から ID 指定は除去しても問題ありません。つまり、以下のように書けるということです。</p>
<pre class='code'>
(diagram (300 150)
  (grid)
  (rect   '( 50  50) 80 60          <span class='keyword3'>:fill</span> <span class='keyword3'>:powderblue</span>)
  (circle (xy+ $1.center 200 50) 40 <span class='keyword3'>:fill</span> <span class='keyword3'>:moccasin</span>)
  (connect $2.id $1.id <span class='keyword3'>:end2</span> <span class='keyword3'>:arrow</span>))
</pre>
<p>　このコードでは、<a class='autolink' href='#eFhVs4WwYUG'>connect</a> における <code>$2.id</code> といった記述は何を返すのでしょうか？　実は、kaavio では ID 指定を省略された図形要素には、kaavio が独自の ID を付与するようになっています<sup><a name='footnote_ref15' href='#footnote15'>15</a></sup>。この自動付与される ID はコード上には現われないため直接指定することはできませんが、<a class='autolink' href='#eFhVs4WwYUG'>connect</a> での指定で $N.id とする場合には使用できます。</p>
<p>　最後に、ID に . を続けることで参照できる属性の一覧を示しておきます。座標参照の正確な位置については <a href='#2oP7i8nCaCH'>Figure.6-2</a> を参照してください。</p>
<p class='tbl_title'><a name='ju0HQrRY8oT'></a>Table.10-1 ID 指定で参照できる属性の一覧</p>
<table align='center'>
<tr style="font-size: 14;"><th>属性</th><th>説明</th></tr>
<tr style="font-size: 14;"><td nowrap align='left'><code>id</code></td><td align='left'>図形要素の ID を参照します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><code>width</code></td><td align='left'>図形要素の幅を参照します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><code>height</code></td><td align='left'>図形要素の高さを参照します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><code>topleft</code></td><td align='left'>図形要素の左上の座標を参照します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><code>top</code></td><td align='left'>図形要素の上端の座標を参照します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><code>topright</code></td><td align='left'>図形要素の右上の座標を参照します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><code>left</code></td><td align='left'>図形要素の右端の座標を参照します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><code>center</code></td><td align='left'>図形要素の中心の座標を参照します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><code>right</code></td><td align='left'>図形要素の左端の座標を参照します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><code>bottomleft</code></td><td align='left'>図形要素の左下の座標を参照します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><code>bottom</code></td><td align='left'>図形要素の下端の座標を参照します。</td></tr>
<tr style="font-size: 14;"><td nowrap align='left'><code>bottomright</code></td><td align='left'>図形要素の右下の座標を参照します。</td></tr>
</table>
<p>　　</p>
<h3><a name='heEi5Lc5BX9'></a>10.6 回転</h3>
<p>　お望みなら、図形要素を回転させることができます。ただし、この機能は kaavio の他の機能とはあまり整合しないので注意が必要です。ひとまずのところ、 <code>:rotate</code> パラメータに角度を与えることで回転させることができます。以下のように。</p>
<pre class='code'>
(diagram (300 200)
  (grid)
  (rect canvas.center 150 100 <span class='keyword3'>:fill</span> <span class='keyword3'>:lightgray</span> <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span> <span class='keyword3'>:rotate</span> 30))
</pre>
<p>　このコードは以下の図を生成します。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='300' height='200'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- rectangle -->
	<g transform='rotate(30,150,100)'>
		<rect x='75' y='50' width='150' height='100' fill='lightgray' stroke='black' stroke-width='1' />
	</g>

</svg>
</div>

<p class='fig_title'><a name='h7K5JgIwvZY'></a>Figure.10-14 回転のサンプル</p>
<p>　見た目は問題なく回転できていますが、この<a class='autolink' href='#kJonRG8GtHF'>四角形</a>に<a class='autolink' href='#eFhVs4WwYUG'>コネクタ</a>を接続しようとすると何がどう「整合しない」のかがわかります。以下のように、接続点は回転には追従しないのです。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='300' height='200'>
	
	<filter id='drop-shadow'>
		<feColorMatrix type='matrix' values=' 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0' />
		<feGaussianBlur stdDeviation='2' result='blur' />
		<feOffset in='blur' dx='4' dy='4' result='offsetBlur' />
		<feMerge>
			<feMergeNode in='offsetBlur' />
			<feMergeNode in='SourceGraphic'/>
		</feMerge>
	</filter>
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- frame : rectangle -->
	<rect id='frame' x='75' y='50' width='150' height='100' fill='none' stroke='gray' stroke-width='1' stroke-dasharray='3 3 ' />
	<!-- circle -->
	<circle cx='112.5' cy='50' r='3' fill='red' stroke='none' stroke-width='1' />
	<!-- circle -->
	<circle cx='112.5' cy='150' r='3' fill='red' stroke='none' stroke-width='1' />
	<!-- circle -->
	<circle cx='75' cy='75' r='3' fill='red' stroke='none' stroke-width='1' />
	<!-- circle -->
	<circle cx='225' cy='75' r='3' fill='red' stroke='none' stroke-width='1' />
	<!-- circle -->
	<circle cx='150' cy='50' r='3' fill='red' stroke='none' stroke-width='1' />
	<!-- circle -->
	<circle cx='150' cy='150' r='3' fill='red' stroke='none' stroke-width='1' />
	<!-- circle -->
	<circle cx='75' cy='100' r='3' fill='red' stroke='none' stroke-width='1' />
	<!-- circle -->
	<circle cx='225' cy='100' r='3' fill='red' stroke='none' stroke-width='1' />
	<!-- circle -->
	<circle cx='187.5' cy='50' r='3' fill='red' stroke='none' stroke-width='1' />
	<!-- circle -->
	<circle cx='187.5' cy='150' r='3' fill='red' stroke='none' stroke-width='1' />
	<!-- circle -->
	<circle cx='75' cy='125' r='3' fill='red' stroke='none' stroke-width='1' />
	<!-- circle -->
	<circle cx='225' cy='125' r='3' fill='red' stroke='none' stroke-width='1' />
	<!-- target : rectangle -->
	<g id='target' transform='rotate(30,150,100)'>
		<rect x='75' y='50' width='150' height='100' fill='gray' fill-opacity='0.3' stroke='black' stroke-width='1' filter='url(#drop-shadow)' />
	</g>
	<!-- c1 : circle -->
	<circle id='c1' cx='20' cy='20' r='10' fill='white' stroke='brown' stroke-width='2' />
	<!-- c2 : circle -->
	<circle id='c2' cx='280' cy='20' r='10' fill='white' stroke='brown' stroke-width='2' />
	<!-- connector from c1 to target -->
	<polyline fill='none' stroke='brown' stroke-width='2' points=' 28.516582,25.240974 75.0,53.846153' />
	<polyline fill='none' stroke='brown' stroke-width='2' points='60.005905,53.425365 75,53.846153 67.86736,40.65049' />
	<!-- connector from c2 to target -->
	<polyline fill='none' stroke='brown' stroke-width='2' points=' 270.0,20.0 187.5,20.0 187.5,50.0' />
	<polyline fill='none' stroke='brown' stroke-width='2' points='180.0,37.00962 187.5,50 195.0,37.00962' />

</svg>
</div>

<p class='fig_title'><a name='9DgdURPyOHh'></a>Figure.10-15 回転しても図形要素の属性は変化しない</p>
<p>　接続点だけではありません。<a href='#ju0HQrRY8oT'>Table.10-1</a> で紹介した属性についても、すべて回転前の状態のままとなります。これら全てを回転に追従させることも開発途上で検討されましたが、すっきりとした仕様に落とし込むことができなかったため、回転の機能は「図形要素の見た目だけを回転させるもの」とされました。</p>
<p>　　</p>
<h3><a name='gPGlqSbIfdL'></a>10.7 フィルタ</h3>
<p>　<a class='autolink' href='#gPGlqSbIfdL'>フィルタ</a>は、SVG 規格における <code>&lt;filter&gt;</code> 要素の機能を利用するものの総称で、おおまかに言って図形要素に対してなんらかのグラフィカルな効果を及ぼす機能です。現在の kaavio における<a class='autolink' href='#gPGlqSbIfdL'>フィルタ</a>機能は極めて限定されたもので、包括的なサポートを行うかは未定です。</p>
<p>　現在、<a class='autolink' href='#13cQuI9DTKo'>drop-shadow</a> と <a class='autolink' href='#aK4WyL00CPC'>glow-shadow</a> の２種類が利用できます。例を以下に示します。通常、冒頭で<code>(drop-shadow)</code> などの記述により使用を宣言し、図形要素の <code>:filter</code> パラメータで指定します。</p>
<pre class='code'>
(diagram (360 180)
  (grid)
  (drop-shadow)
  (glow-shadow)
  (rect (y+ canvas.center -30) 100 70
        <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span> <span class='keyword3'>:fill</span> <span class='keyword3'>:lightgray</span> <span class='keyword3'>:filter</span> <span class='keyword3'>:drop-shadow</span>)
  (text (y+ canvas.center  70) <span class='literal'>"sample text"</span>
        <span class='keyword3'>:align</span> <span class='keyword3'>:center</span> <span class='keyword3'>:font</span> (make-font <span class='keyword3'>:size</span> 36 <span class='keyword3'>:filter</span> <span class='keyword3'>:glow-shadow</span>)))
</pre>
<p>　上記のコードは以下の画像を生成します。<a class='autolink' href='#kJonRG8GtHF'>四角形</a>の右下にできている影が <a class='autolink' href='#13cQuI9DTKo'>drop-shadow</a> で、テキストの周囲に広がるような影が <a class='autolink' href='#aK4WyL00CPC'>glow-shadow</a> です。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='360' height='180'>
	
	<filter id='glow-shadow'>
		<feColorMatrix type='matrix' values=' 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0' />
		<feGaussianBlur stdDeviation='3' result='blur' />
		<feMerge>
			<feMergeNode in='blur' />
			<feMergeNode in='SourceGraphic'/>
		</feMerge>
	</filter>
	<filter id='drop-shadow'>
		<feColorMatrix type='matrix' values=' 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0' />
		<feGaussianBlur stdDeviation='2' result='blur' />
		<feOffset in='blur' dx='4' dy='4' result='offsetBlur' />
		<feMerge>
			<feMergeNode in='offsetBlur' />
			<feMergeNode in='SourceGraphic'/>
		</feMerge>
	</filter>
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- rectangle -->
	<rect x='130' y='25' width='100' height='70' fill='lightgray' stroke='black' stroke-width='1' filter='url(#drop-shadow)' />
	<!-- text -->
	<text x='180' y='160' text-anchor='middle' font-size='36pt' fill='black' filter='url(#glow-shadow)' >sample text</text>

</svg>
</div>

<p class='fig_title'><a name='9Z8wQykrThD'></a>Figure.10-16 フィルタのサンプル</p>
<p>　　</p>
<p>　これらのシャドウは通常図面内で１種類しか使用しないため、ID もデフォルト値を使用可能になっています。複数のシャドウを導入する場合には、ID を明示的に指定して区別することができます。以下の例では、<code>color-matrix</code> を指定して異なる色のシャドウを導入しています。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='400' height='200'>
	
	<filter id='shadow3'>
		<feColorMatrix type='matrix' values=' 0 0 0 0 0 0 0 0 0.5 0 0 0 0 0 0 0 0 0 0.9 0' />
		<feGaussianBlur stdDeviation='3' result='blur' />
		<feMerge>
			<feMergeNode in='blur' />
			<feMergeNode in='SourceGraphic'/>
		</feMerge>
	</filter>
	<filter id='shadow2'>
		<feColorMatrix type='matrix' values=' 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0 0 0 0 0.6 0' />
		<feGaussianBlur stdDeviation='2' result='blur' />
		<feOffset in='blur' dx='4' dy='4' result='offsetBlur' />
		<feMerge>
			<feMergeNode in='offsetBlur' />
			<feMergeNode in='SourceGraphic'/>
		</feMerge>
	</filter>
	<filter id='shadow1'>
		<feColorMatrix type='matrix' values=' 0 0 0 0.5 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.6 0' />
		<feGaussianBlur stdDeviation='2' result='blur' />
		<feOffset in='blur' dx='4' dy='4' result='offsetBlur' />
		<feMerge>
			<feMergeNode in='offsetBlur' />
			<feMergeNode in='SourceGraphic'/>
		</feMerge>
	</filter>
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- rectangle -->
	<rect x='50' y='35' width='100' height='70' fill='lightpink' stroke='red' stroke-width='1' filter='url(#shadow1)' />
	<!-- rectangle -->
	<rect x='250' y='35' width='100' height='70' fill='lightcyan' stroke='navy' stroke-width='1' filter='url(#shadow2)' />
	<!-- text -->
	<text x='200' y='170' text-anchor='middle' font-size='36pt' fill='green' filter='url(#shadow3)' >sample text</text>

</svg>
</div>

<p class='fig_title'><a name='fVptn2Tiqv7'></a>Figure.10-17 フィルタのサンプル - 2</p>
<details>
<summary>上記サンプルのコードはこちら。</summary>
<pre class='code'>
(diagram (400 200)
  (grid)
  (drop-shadow <span class='keyword3'>:id</span> <span class='keyword3'>:shadow1</span> <span class='keyword3'>:color-matrix</span> '(0 0 0 0.5 0
                                            0 0 0 0   0
                                            0 0 0 0   0
                                            0 0 0 0.6 0))
  (drop-shadow <span class='keyword3'>:id</span> <span class='keyword3'>:shadow2</span> <span class='keyword3'>:color-matrix</span> '(0 0 0 0   0
                                            0 0 0 0   0
                                            0 0 0 0.5 0
                                            0 0 0 0.6 0))
  (glow-shadow <span class='keyword3'>:id</span> <span class='keyword3'>:shadow3</span> <span class='keyword3'>:color-matrix</span> '(0 0 0 0   0
                                            0 0 0 0.5 0
                                            0 0 0 0   0
                                            0 0 0 0.9 0))
  (rect '(100  70) 100 70 <span class='keyword3'>:fill</span> <span class='keyword3'>:lightpink</span> <span class='keyword3'>:stroke</span> <span class='keyword3'>:red</span>  <span class='keyword3'>:filter</span> <span class='keyword3'>:shadow1</span>)
  (rect '(300  70) 100 70 <span class='keyword3'>:fill</span> <span class='keyword3'>:lightcyan</span> <span class='keyword3'>:stroke</span> <span class='keyword3'>:navy</span> <span class='keyword3'>:filter</span> <span class='keyword3'>:shadow2</span>)
  (text '(200 170) <span class='literal'>"sample text"</span> <span class='keyword3'>:align</span> <span class='keyword3'>:center</span>
                   <span class='keyword3'>:font</span> (make-font <span class='keyword3'>:size</span> 36 <span class='keyword3'>:fill</span> <span class='keyword3'>:green</span> <span class='keyword3'>:filter</span> <span class='keyword3'>:shadow3</span>)))
</pre>
</details>
<p>　　</p>
<p>　シャドウを使用する場合、通常は図面内の多くの図形要素に同じ<a class='autolink' href='#gPGlqSbIfdL'>フィルタ</a>を適用します。そのため、<code>with-options</code> でデフォルトの<a class='autolink' href='#gPGlqSbIfdL'>フィルタ</a>を指定可能になっています。<a href='#aw36ReN8sMQ'>Figure.2-2</a> のコードを参照してください。</p>
<p>　　</p>
<h3><a name='1ovJxG7Ie9O'></a>10.8 レイヤー</h3>
<p>　<span style='background:red;color:white;'>ToDo : まだ記述されていません。</span></p>
<p>　　</p>
<h3><a name='fbLcMRTVXac'></a>10.9 リンク</h3>
<p>　<span style='background:red;color:white;'>ToDo : まだ記述されていません。</span></p>
<p>　　</p>
<h3><a name='9MB3lirlqL9'></a>10.10 終端マーク</h3>
<p>　<span style='background:red;color:white;'>ToDo : まだ記述されていません。</span></p>
<p>　　</p>
<h3><a name='lpCVEZ9kMoP'></a>10.11 ラベル</h3>
<p>　<span style='background:red;color:white;'>ToDo : まだ記述されていません。</span></p>
<p>　　</p>
<h2><a name='2CSYEsoWlWE'></a>11 UML</h2>
<h3><a name='8ya1jqc5cZQ'></a>11.1 アクティビティ図</h3>
<ul>
<li><a class='autolink' href='#5kkSlhsbaIn'>uml-action</a></li>
<li><a class='autolink' href='#ch2b9q3H6uz'>uml-action-param</a></li>
<li><a class='autolink' href='#gfsl4uecBoY'>uml-activity-final</a></li>
<li><a class='autolink' href='#iuoYD532c7Z'>uml-activity-partitions</a></li>
<li><a class='autolink' href='#gr8RKSxFalf'>uml-activity-start</a></li>
<li><a class='autolink' href='#lgLGZTmFJ4a'>uml-connector</a></li>
<li><a class='autolink' href='#fV1edL1VxBr'>uml-decision-merge</a></li>
<li><a class='autolink' href='#gbfzFbCEQb7'>uml-expansion-region</a></li>
<li><a class='autolink' href='#602QxE3z6rZ'>uml-flow</a></li>
<li><a class='autolink' href='#8l54mEIg2yA'>uml-flow-final</a></li>
<li><a class='autolink' href='#ggUX5UsfE1r'>uml-fork-join</a></li>
<li><a class='autolink' href='#axhW9kmgXg3'>uml-pin</a></li>
<li><a class='autolink' href='#dMpkz12xO2i'>uml-signal-receipt</a></li>
<li><a class='autolink' href='#8OP0nFewEYe'>uml-signal-sending</a></li>
<li><a class='autolink' href='#dkYATTKFF3X'>uml-time-event</a></li>
<li><a class='autolink' href='#lVoIE1VmPao'>uml-diagram</a></li>
<li><a class='autolink' href='#jFViCKeUWqC'>uml-note</a></li>
</ul>
<h3><a name='khgkJB6xK95'></a>11.2 クラス図</h3>
<ul>
<li><a class='autolink' href='#9ugZNtgVL4J'>uml-role-info</a></li>
<li><a class='autolink' href='#g6kEHGpHjhy'>uml-multiplicity-info</a></li>
<li><a class='autolink' href='#2b9onvk4b6x'>uml-keyword-info</a></li>
<li><a class='autolink' href='#0A70k6t8D8T'>uml-association</a></li>
<li><a class='autolink' href='#jswiRdMw2Be'>uml-composition</a></li>
<li><a class='autolink' href='#881rvOpGoim'>uml-aggregation</a></li>
<li><a class='autolink' href='#f40Gf0pqB5B'>uml-dependency</a></li>
<li><a class='autolink' href='#lVoIE1VmPao'>uml-diagram</a></li>
<li><a class='autolink' href='#i8NSsns8du9'>uml-generalization</a></li>
<li><a class='autolink' href='#bn5BLn6Qb3Y'>uml-realization</a></li>
<li><a class='autolink' href='#jFViCKeUWqC'>uml-note</a></li>
<li><a class='autolink' href='#7DqwJ3CtaoY'>uml-interface</a></li>
<li><a class='autolink' href='#fkYROSV9994'>uml-class</a></li>
<li><a class='autolink' href='#algAxSoZB1Z'>uml-package</a></li>
</ul>
<h3><a name='la7Xa1OTF3W'></a>11.3 パッケージ図</h3>
<ul>
<li><a class='autolink' href='#2b9onvk4b6x'>uml-keyword-info</a></li>
<li><a class='autolink' href='#f40Gf0pqB5B'>uml-dependency</a></li>
<li><a class='autolink' href='#algAxSoZB1Z'>uml-package</a></li>
<li><a class='autolink' href='#bn5BLn6Qb3Y'>uml-realization</a></li>
<li><a class='autolink' href='#lVoIE1VmPao'>uml-diagram</a></li>
<li><a class='autolink' href='#jFViCKeUWqC'>uml-note</a></li>
</ul>
<h3><a name='5ZAfKbqcubo'></a>11.4 ステートマシーン図</h3>
<ul>
<li><a class='autolink' href='#4Fe1V46854v'>uml-state-begin</a></li>
<li><a class='autolink' href='#6dfRecys5K7'>uml-state-end</a></li>
<li><a class='autolink' href='#dZcuFEPgREn'>uml-state-history</a></li>
<li><a class='autolink' href='#aiNf7xsL8zY'>uml-transition-spec</a></li>
<li><a class='autolink' href='#8h222SLEnVx'>uml-transition</a></li>
<li><a class='autolink' href='#a7K2CBytplo'>uml-state</a></li>
<li><a class='autolink' href='#lVoIE1VmPao'>uml-diagram</a></li>
<li><a class='autolink' href='#jFViCKeUWqC'>uml-note</a></li>
</ul>
<h3><a name='e57rLpXY8ah'></a>11.5 ユースケース図</h3>
<ul>
<li><a class='autolink' href='#4rUQqcq4sKb'>uml-actor</a></li>
<li><a class='autolink' href='#44mEhv2hQcS'>uml-usecase</a></li>
<li><a class='autolink' href='#0A70k6t8D8T'>uml-association</a></li>
<li><a class='autolink' href='#i8NSsns8du9'>uml-generalization</a></li>
<li><a class='autolink' href='#lVoIE1VmPao'>uml-diagram</a></li>
<li><a class='autolink' href='#jFViCKeUWqC'>uml-note</a></li>
</ul>
<h3><a name='cyQMjgm73rg'></a>11.6 UML のダイアグラム要素</h3>
<h4><a name='ch2b9q3H6uz'></a>11.6.1 uml-action-param</h4>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='400' height='200'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- act1 : uml-action -->
	<g id='act1'>
		<rect x='50' y='20' width='300' height='160' rx='6' ry='6' fill='white' stroke='black' stroke-width='1' />
		<text x='200' y='37' text-anchor='middle' font-size='12pt' fill='black' >action</text>
	</g>
	<!-- prm1 : uml-action-param -->
	<g id='prm1'>
		<rect x='20' y='84' width='60' height='32' fill='cornsilk' stroke='black' stroke-width='1' />
		<text x='50' y='106' text-anchor='middle' font-size='12pt' fill='black' >param</text>
	</g>
	<!-- prm2 : uml-action-param -->
	<g id='prm2'>
		<rect x='320' y='44' width='60' height='32' fill='cornsilk' stroke='black' stroke-width='1' />
		<text x='350' y='66' text-anchor='middle' font-size='12pt' fill='black' >param</text>
	</g>
	<!-- inner-act : uml-action -->
	<g id='inner-act'>
		<rect x='160' y='80' width='80' height='40' rx='6' ry='6' fill='white' stroke='black' stroke-width='1' />
		<text x='200' y='106' text-anchor='middle' font-size='12pt' fill='black' >process</text>
	</g>
	<!-- uml-flow from prm1 to inner-act -->
	<polyline fill='none' stroke='black' stroke-width='1' points=' 80.0,100.0 160.0,100.0' />
	<polyline fill='none' stroke='black' stroke-width='1' points='147.00961,107.5 160,100.0 147.00961,92.5' />
	<!-- uml-flow from inner-act to prm2 -->
	<polyline fill='none' stroke='black' stroke-width='1' points=' 240.0,89.333336 320.0,68.0' />
	<polyline fill='none' stroke='black' stroke-width='1' points='309.3807,78.593895 320,68.0 305.51578,64.10037' />

</svg>
</div>

<p class='fig_title'><a name='2Hj3wMypfUt'></a>Figure.11-1 uml-action-param 要素</p>
<details>
<summary>上記サンプルのコードはこちら。</summary>
<pre class='code'>
(diagram (400 200)
  (grid)
  (uml-action canvas.center <span class='literal'>"action"</span> <span class='keyword3'>:id</span> <span class='keyword3'>:act1</span> <span class='keyword3'>:width</span> 300 <span class='keyword3'>:height</span> 160
    <span class='keyword3'>:contents</span> ((uml-action-param <span class='literal'>"param"</span> <span class='keyword3'>:act1</span> <span class='keyword3'>:L</span>  <span class='keyword3'>:fill</span> <span class='keyword3'>:cornsilk</span> <span class='keyword3'>:id</span> <span class='keyword3'>:prm1</span>)
               (uml-action-param <span class='literal'>"param"</span> <span class='keyword3'>:act1</span> <span class='keyword3'>:R1</span> <span class='keyword3'>:fill</span> <span class='keyword3'>:cornsilk</span> <span class='keyword3'>:id</span> <span class='keyword3'>:prm2</span>)
               (uml-action act1.center <span class='literal'>"process"</span> <span class='keyword3'>:id</span> <span class='keyword3'>:inner-act</span>)))
  (uml-flow <span class='keyword3'>:prm1</span> <span class='keyword3'>:inner-act</span>)
  (uml-flow <span class='keyword3'>:inner-act</span> <span class='keyword3'>:prm2</span>))
</pre>
</details>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>uml-action-param</span> (name target position
                            <span class='keyword2'>&amp;key</span> keyword width height
                                 margin font fill stroke link layer id) ...)
</pre>
<h4><a name='5kkSlhsbaIn'></a>11.6.2 uml-action</h4>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='500' height='100'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- start : uml-activity-start -->
	<circle id='start' cx='30' cy='50' r='10' fill='black' stroke='none' stroke-width='1' />
	<!-- act1 : uml-action -->
	<g id='act1'>
		<rect x='140' y='30' width='80' height='40' rx='6' ry='6' fill='cornsilk' stroke='black' stroke-width='1' />
		<text x='180' y='56' text-anchor='middle' font-size='12pt' fill='black' >action1</text>
	</g>
	<!-- act2 : uml-action -->
	<g id='act2'>
		<rect x='290' y='27' width='80' height='46' rx='6' ry='6' fill='cornsilk' stroke='black' stroke-width='1' />
		<path fill='none' stroke='black' stroke-width='2' d='M 361 55 l 0 14 m -5 0 l 0 -7 l 10 0 l 0 7' />
		<text x='330' y='49' text-anchor='middle' font-size='12pt' fill='black' >action</text>
		<text x='330' y='63' text-anchor='middle' font-size='12pt' fill='black' >2nd</text>
	</g>
	<!-- final : uml-activity-final -->
	<circle id='final' cx='470' cy='50' r='15' fill='white' stroke='black' stroke-width='1' />
	<circle cx='470' cy='50' r='9.0' fill='black' stroke='none' stroke-width='1' />
	<!-- connector from start to act1 -->
	<polyline fill='none' stroke='black' stroke-width='1' points=' 40.0,50.0 140.0,50.0' />
	<polyline fill='none' stroke='black' stroke-width='1' points='127.00962,57.5 140,50.0 127.00962,42.5' />
	<!-- connector from act1 to act2 -->
	<polyline fill='none' stroke='black' stroke-width='1' points=' 220.0,50.0 290.0,50.0' />
	<polyline fill='none' stroke='black' stroke-width='1' points='277.0096,57.5 290,50.0 277.0096,42.5' />
	<!-- connector from act2 to final -->
	<polyline fill='none' stroke='black' stroke-width='1' points=' 370.0,50.0 455.0,50.0' />
	<polyline fill='none' stroke='black' stroke-width='1' points='442.0096,57.5 455.0,50.0 442.0096,42.5' />

</svg>
</div>

<p class='fig_title'><a name='2p79zKV2A8T'></a>Figure.11-2 uml-action 要素</p>
<details>
<summary>上記サンプルのコードはこちら。</summary>
<pre class='code'>
(diagram (500 100)
  (grid)
  (uml-activity-start '( 30 50) <span class='keyword3'>:id</span> <span class='keyword3'>:start</span>)
  (<span class='keyword1'>let</span> ((*uml-action-fill* <span class='keyword3'>:cornsilk</span>))
    (uml-action (x+ start.center 150) <span class='literal'>"action1"</span>             <span class='keyword3'>:id</span> <span class='keyword3'>:act1</span>)
    (uml-action (x+ act1.center  150) <span class='literal'>"action~%2nd"</span> <span class='keyword3'>:rake</span> t <span class='keyword3'>:id</span> <span class='keyword3'>:act2</span>))
  (uml-activity-final '(470 50) <span class='keyword3'>:id</span> <span class='keyword3'>:final</span>)
  (connector <span class='keyword3'>:start</span> <span class='keyword3'>:act1</span> <span class='keyword3'>:end2</span> <span class='keyword3'>:arrow</span>)
  (connector <span class='keyword3'>:act1</span>  <span class='keyword3'>:act2</span> <span class='keyword3'>:end2</span> <span class='keyword3'>:arrow</span>)
  (connector <span class='keyword3'>:act2</span> <span class='keyword3'>:final</span> <span class='keyword3'>:end2</span> <span class='keyword3'>:arrow</span>))
</pre>
</details>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>uml-action</span> (center text <span class='keyword2'>&amp;key</span> keyword width height
                                       margin corner-r rake
                                       font fill stroke link layer id contents) ...)
</pre>
<h4><a name='gfsl4uecBoY'></a>11.6.3 uml-activity-final</h4>
<h4><a name='iuoYD532c7Z'></a>11.6.4 uml-activity-partitions</h4>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='520' height='500'>
	
	<!-- grid -->
	<pattern id='__grid' width='10' height='10' patternUnits='userSpaceOnUse' >
		<rect x='0' y='0' width='10' height='10' fill='white' />
		<polyline fill='none' stroke='gray' stroke-width='0.2' points='10,0 0,0 0,10' />
	</pattern>
	<rect x='0' y='0' width='100%' height='100%' fill='url(#__grid)' stroke='gray' stroke-width='0.2' />
	<!-- uml-activity-partitions -->
	<path fill='none' stroke='black' stroke-width='1' d='M 10 10 L 10 492 M 140 10 L 140 492 M 380 10 L 380 492 M 510 10 L 510 492' />
	<text x='75' y='27' text-anchor='middle' font-size='12pt' fill='black' >Fullfillment</text>
	<text x='260' y='27' text-anchor='middle' font-size='12pt' fill='black' >Customer Service</text>
	<text x='445' y='27' text-anchor='middle' font-size='12pt' fill='black' >Finance</text>
	<!-- start : uml-activity-start -->
	<circle id='start' cx='210' cy='62' r='10' fill='black' stroke='none' stroke-width='1' />
	<!-- rcv-order : uml-action -->
	<g id='rcv-order'>
		<rect x='170' y='99' width='80' height='46' rx='6' ry='6' fill='cornsilk' stroke='black' stroke-width='1' />
		<text x='210' y='121' text-anchor='middle' font-size='12pt' fill='black' >Receive</text>
		<text x='210' y='135' text-anchor='middle' font-size='12pt' fill='black' >Order</text>
	</g>
	<!-- fork : uml-fork -->
	<rect id='fork' x='180' y='167' width='60' height='10' fill='black' stroke='none' stroke-width='1' />
	<!-- send-invoice : uml-action -->
	<g id='send-invoice'>
		<rect x='270' y='189' width='80' height='46' rx='6' ry='6' fill='cornsilk' stroke='black' stroke-width='1' />
		<text x='310' y='211' text-anchor='middle' font-size='12pt' fill='black' >Send</text>
		<text x='310' y='225' text-anchor='middle' font-size='12pt' fill='black' >Invoice</text>
	</g>
	<!-- join : uml-join -->
	<g id='join'>
		<rect x='180' y='347' width='60' height='10' fill='black' stroke='none' stroke-width='1' />
	</g>
	<!-- close-order : uml-action -->
	<g id='close-order'>
		<rect x='170' y='379' width='80' height='46' rx='6' ry='6' fill='cornsilk' stroke='black' stroke-width='1' />
		<text x='210' y='401' text-anchor='middle' font-size='12pt' fill='black' >Close</text>
		<text x='210' y='415' text-anchor='middle' font-size='12pt' fill='black' >Order</text>
	</g>
	<!-- final : uml-activity-final -->
	<circle id='final' cx='210' cy='472' r='15' fill='white' stroke='black' stroke-width='1' />
	<circle cx='210' cy='472' r='9.0' fill='black' stroke='none' stroke-width='1' />
	<!-- fill-order : uml-action -->
	<g id='fill-order'>
		<rect x='26.0' y='192' width='88.0' height='40' rx='6' ry='6' fill='cornsilk' stroke='black' stroke-width='1' />
		<text x='70.0' y='218' text-anchor='middle' font-size='12pt' fill='black' >Fill Order</text>
	</g>
	<!-- deliver-order : uml-action -->
	<g id='deliver-order'>
		<rect x='30' y='259' width='80' height='46' rx='6' ry='6' fill='cornsilk' stroke='black' stroke-width='1' />
		<text x='70' y='281' text-anchor='middle' font-size='12pt' fill='black' >Deliver</text>
		<text x='70' y='295' text-anchor='middle' font-size='12pt' fill='black' >Order</text>
	</g>
	<!-- rcv-payment : uml-action -->
	<g id='rcv-payment'>
		<rect x='410' y='259' width='80' height='46' rx='6' ry='6' fill='cornsilk' stroke='black' stroke-width='1' />
		<text x='450' y='281' text-anchor='middle' font-size='12pt' fill='black' >Receive</text>
		<text x='450' y='295' text-anchor='middle' font-size='12pt' fill='black' >Payment</text>
	</g>
	<!-- uml-flow from start to rcv-order -->
	<polyline fill='none' stroke='black' stroke-width='1' points=' 210.0,72.0 210.0,99.0' />
	<polyline fill='none' stroke='black' stroke-width='1' points='202.5,86.00962 210.0,99 217.5,86.00962' />
	<!-- uml-flow from rcv-order to fork -->
	<polyline fill='none' stroke='black' stroke-width='1' points=' 210.0,145.0 210.0,167.0' />
	<polyline fill='none' stroke='black' stroke-width='1' points='202.5,154.00961 210.0,167 217.5,154.00961' />
	<!-- uml-flow from fork to fill-order -->
	<polyline fill='none' stroke='black' stroke-width='1' points=' 195.0,177.0 195.0,212.0 114.0,212.0' />
	<polyline fill='none' stroke='black' stroke-width='1' points='126.99038,204.5 114.0,212 126.99038,219.5' />
	<!-- uml-flow from fork to send-invoice -->
	<polyline fill='none' stroke='black' stroke-width='1' points=' 225.0,177.0 225.0,212.0 270.0,212.0' />
	<polyline fill='none' stroke='black' stroke-width='1' points='257.0096,219.5 270,212 257.0096,204.5' />
	<!-- uml-flow from send-invoice to rcv-payment -->
	<polyline fill='none' stroke='black' stroke-width='1' points=' 350.0,212.0 450.0,212.0 450.0,259.0' />
	<polyline fill='none' stroke='black' stroke-width='1' points='442.5,246.00961 450,259 457.5,246.00961' />
	<!-- uml-flow from fill-order to deliver-order -->
	<polyline fill='none' stroke='black' stroke-width='1' points=' 70.0,232.0 70.0,259.0' />
	<polyline fill='none' stroke='black' stroke-width='1' points='62.5,246.00961 70.0,259 77.5,246.00961' />
	<!-- uml-flow from deliver-order to join -->
	<polyline fill='none' stroke='black' stroke-width='1' points=' 70.0,305.0 70.0,326.0 195.0,326.0 195.0,347.0' />
	<polyline fill='none' stroke='black' stroke-width='1' points='187.5,334.0096 195,347 202.5,334.0096' />
	<!-- uml-flow from rcv-payment to join -->
	<polyline fill='none' stroke='black' stroke-width='1' points=' 450.0,305.0 450.0,326.0 225.0,326.0 225.0,347.0' />
	<polyline fill='none' stroke='black' stroke-width='1' points='217.5,334.0096 225,347 232.5,334.0096' />
	<!-- uml-flow from join to close-order -->
	<polyline fill='none' stroke='black' stroke-width='1' points=' 210.0,357.0 210.0,379.0' />
	<polyline fill='none' stroke='black' stroke-width='1' points='202.5,366.0096 210.0,379 217.5,366.0096' />
	<!-- uml-flow from close-order to final -->
	<polyline fill='none' stroke='black' stroke-width='1' points=' 210.0,425.0 210.0,457.0' />
	<polyline fill='none' stroke='black' stroke-width='1' points='202.5,444.0096 210.0,457.0 217.5,444.0096' />

</svg>
</div>

<p class='fig_title'><a name='bGeFbFhlXGE'></a>Figure.11-3 uml-activity-partitions 要素</p>
<details>
<summary>上記サンプルのコードはこちら。</summary>
<pre class='code'>
(diagram (520 500)
  (grid)
  (<span class='keyword1'>let</span> ((*uml-action-fill* <span class='keyword3'>:cornsilk</span>))
    (uml-activity-partitions
      '(10 10) '((<span class='literal'>"Fullfillment"</span> 130) (<span class='literal'>"Customer Service"</span> 240) (<span class='literal'>"Finance"</span> 130)) 460
      <span class='keyword3'>:lines</span> <span class='keyword3'>:min</span> <span class='keyword3'>:fill</span> <span class='keyword3'>:none</span> <span class='keyword3'>:stroke</span> <span class='keyword3'>:black</span>
      <span class='keyword3'>:contents</span>
      (((<span class='literal'>"Customer Service"</span>)
        (uml-activity-start '(70 30) <span class='keyword3'>:id</span> <span class='keyword3'>:start</span>)
        (uml-action (y+  $1.center  60) <span class='literal'>"Receive~%Order"</span> <span class='keyword3'>:id</span> <span class='keyword3'>:rcv-order</span>)
        (uml-fork-v (y+  $1.center  50) <span class='keyword3'>:length</span> 60 <span class='keyword3'>:id</span> <span class='keyword3'>:fork</span>)
        (uml-action (xy+ $1.center 100 40) <span class='literal'>"Send~%Invoice"</span> <span class='keyword3'>:id</span> <span class='keyword3'>:send-invoice</span>)
        (uml-join-v (y+  $2.center 180) <span class='keyword3'>:length</span> 60 <span class='keyword3'>:id</span> <span class='keyword3'>:join</span>)
        (uml-action (y+  $1.center 50) <span class='literal'>"Close~%Order"</span> <span class='keyword3'>:id</span> <span class='keyword3'>:close-order</span>)
        (uml-activity-final (y+ $1.center 70) <span class='keyword3'>:id</span> <span class='keyword3'>:final</span>))
       ((<span class='literal'>"Fullfillment"</span>)
        (uml-action (x+ send-invoice.center -240) <span class='literal'>"Fill Order"</span> <span class='keyword3'>:id</span> <span class='keyword3'>:fill-order</span>)
        (uml-action (y+ $1.center 70) <span class='literal'>"Deliver~%Order"</span> <span class='keyword3'>:id</span> <span class='keyword3'>:deliver-order</span>))
       ((<span class='literal'>"Finance"</span>)
        (uml-action (x+ $1.center 380) <span class='literal'>"Receive~%Payment"</span> <span class='keyword3'>:id</span> <span class='keyword3'>:rcv-payment</span>))))
    (uml-flow <span class='keyword3'>:start</span>         <span class='keyword3'>:rcv-order</span>)
    (uml-flow <span class='keyword3'>:rcv-order</span>     <span class='keyword3'>:fork</span>)
    (uml-flow <span class='keyword3'>:fork</span>          <span class='keyword3'>:fill-order</span>   <span class='keyword3'>:style</span> <span class='keyword3'>:B1R</span>)
    (uml-flow <span class='keyword3'>:fork</span>          <span class='keyword3'>:send-invoice</span> <span class='keyword3'>:style</span> <span class='keyword3'>:B3L</span>)
    (uml-flow <span class='keyword3'>:send-invoice</span>  <span class='keyword3'>:rcv-payment</span>  <span class='keyword3'>:style</span> <span class='keyword3'>:RT</span>)
    (uml-flow <span class='keyword3'>:fill-order</span>    <span class='keyword3'>:deliver-order</span>)
    (uml-flow <span class='keyword3'>:deliver-order</span> <span class='keyword3'>:join</span>         <span class='keyword3'>:style</span> <span class='keyword3'>:BT1</span>)
    (uml-flow <span class='keyword3'>:rcv-payment</span>   <span class='keyword3'>:join</span>         <span class='keyword3'>:style</span> <span class='keyword3'>:BT3</span>)
    (uml-flow <span class='keyword3'>:join</span>          <span class='keyword3'>:close-order</span>)
    (uml-flow <span class='keyword3'>:close-order</span>   <span class='keyword3'>:final</span>)))
</pre>
</details>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>uml-activity-partitions</span> (topleft vertical horizontal
                                   <span class='keyword2'>&amp;key</span> lines margin font
                                        fill stroke layer contents) ...)
</pre>
<h4><a name='gr8RKSxFalf'></a>11.6.5 uml-activity-start</h4>
<h4><a name='4rUQqcq4sKb'></a>11.6.6 uml-actor</h4>
<h4><a name='881rvOpGoim'></a>11.6.7 uml-aggregation</h4>
<h4><a name='0A70k6t8D8T'></a>11.6.8 uml-association</h4>
<h4><a name='fkYROSV9994'></a>11.6.9 uml-class</h4>
<h4><a name='hlJEas6GjYs'></a>11.6.10 uml-component</h4>
<h4><a name='jswiRdMw2Be'></a>11.6.11 uml-composition</h4>
<h4><a name='9l3g1QmxdD9'></a>11.6.12 uml-connection-common</h4>
<h4><a name='lgLGZTmFJ4a'></a>11.6.13 uml-connector</h4>
<h4><a name='fV1edL1VxBr'></a>11.6.14 uml-decision-merge</h4>
<h4><a name='f40Gf0pqB5B'></a>11.6.15 uml-dependency</h4>
<h4><a name='lVoIE1VmPao'></a>11.6.16 uml-diagram</h4>
<h4><a name='gbfzFbCEQb7'></a>11.6.17 uml-expansion-region</h4>
<h4><a name='8l54mEIg2yA'></a>11.6.18 uml-flow-final</h4>
<h4><a name='602QxE3z6rZ'></a>11.6.19 uml-flow</h4>
<h4><a name='ggUX5UsfE1r'></a>11.6.20 uml-fork-join</h4>
<h4><a name='i8NSsns8du9'></a>11.6.21 uml-generalization</h4>
<h4><a name='7DqwJ3CtaoY'></a>11.6.22 uml-interface</h4>
<h4><a name='2b9onvk4b6x'></a>11.6.23 uml-keyword-info</h4>
<h4><a name='g6kEHGpHjhy'></a>11.6.24 uml-multiplicity-info</h4>
<h4><a name='jOvc70hxXQE'></a>11.6.25 uml-node</h4>
<h4><a name='jFViCKeUWqC'></a>11.6.26 uml-note</h4>
<h4><a name='algAxSoZB1Z'></a>11.6.27 uml-package</h4>
<h4><a name='axhW9kmgXg3'></a>11.6.28 uml-pin</h4>
<h4><a name='bn5BLn6Qb3Y'></a>11.6.29 uml-realization</h4>
<h4><a name='9ugZNtgVL4J'></a>11.6.30 uml-role-info</h4>
<h4><a name='dMpkz12xO2i'></a>11.6.31 uml-signal-receipt</h4>
<h4><a name='8OP0nFewEYe'></a>11.6.32 uml-signal-sending</h4>
<h4><a name='4Fe1V46854v'></a>11.6.33 uml-state-begin</h4>
<h4><a name='6dfRecys5K7'></a>11.6.34 uml-state-end</h4>
<h4><a name='dZcuFEPgREn'></a>11.6.35 uml-state-history</h4>
<h4><a name='a7K2CBytplo'></a>11.6.36 uml-state</h4>
<h4><a name='dkYATTKFF3X'></a>11.6.37 uml-time-event</h4>
<h4><a name='aiNf7xsL8zY'></a>11.6.38 uml-transition-spec</h4>
<h4><a name='8h222SLEnVx'></a>11.6.39 uml-transition</h4>
<h4><a name='44mEhv2hQcS'></a>11.6.40 uml-usecase</h4>
<h2><a name='7TyOD7TaDM2'></a>12 リファレンス</h2>
<p>　<span style='background:red;color:white;'>ToDo : まだ記述されていません。</span></p>
<h3><a name='gKJ1gWcMPT8'></a>12.1 関数とマクロ</h3>
<h4><a name='g99vlb6tXRZ'></a>12.1.1 *default-fill*変数</h4>
<p>　<span style='background:red;color:white;'>ToDo : まだ記述されていません。</span></p>
<h4><a name='7pITpDTSaVn'></a>12.1.2 *default-stroke*変数</h4>
<p>　<span style='background:red;color:white;'>ToDo : まだ記述されていません。</span></p>
<h4><a name='dNdd5AGYfnC'></a>12.1.3 defgradient マクロ</h4>
<p>　<a class='autolink' href='#dNdd5AGYfnC'>defgradient</a> マクロは<a class='autolink' href='#4p1J7EWjD3m'>グラデーション</a>を定義します。<a class='autolink' href='#4p1J7EWjD3m'>グラデーション</a>の詳細は「<a href='#4p1J7EWjD3m'>9.2  グラデーション</a>」を参照してください。説明不足ですが、基本的に SVG 規格に沿っていますので必要に応じて書籍や規格にあたってください。マクロシグネチャは以下の通りです。</p>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>defgradient</span> ((type id <span class='keyword2'>&amp;rest</span> params) <span class='keyword2'>&amp;rest</span> stops) ... )
</pre>
<p>　　</p>
<p class='tbl_title'><a name='l8ZKPnackNk'></a>Table.12-1 defgradient マクロのパラメータ</p>
<table align='center'>
<tr><th>parameter</th><th>description</th></tr>
<tr><td nowrap align='left'><code>type</code></td><td align='left'><a class='autolink' href='#4p1J7EWjD3m'>グラデーション</a>の種類を <code>:linear</code> または <code>:radial</code> から選択します。</td></tr>
<tr><td nowrap align='left'><code>id</code></td><td align='left'>ID をキーワードで指定します。</td></tr>
<tr><td nowrap align='left'><code>params</code></td><td align='left'><a class='autolink' href='#4p1J7EWjD3m'>グラデーション</a>の付加パラメータを指定します。 <code>type</code> により異なるため後述します。</td></tr>
<tr><td nowrap align='left'><code>stops</code></td><td align='left'><a class='autolink' href='#4p1J7EWjD3m'>グラデーション</a>ストップをリストで指定します。詳細は「<a href='#4p1J7EWjD3m'>9.2  グラデーション</a>」<br>を参照してください。後述する <code>href</code> パラメータで他の定義を参照する場合は<br>指定する必要はありません。</td></tr>
</table>
<p>　　</p>
<p>　<code>params</code> は<a class='autolink' href='#4p1J7EWjD3m'>グラデーション</a>の種類（<a class='autolink' href='#fv4OUML78x4'>line</a>ar/radial）によって異なりますが、いずれの場合でも名前付きパラメータとして扱われます。まず、共通のパラメータを以下に示します。</p>
<p class='tbl_title'><a name='75EaQ9VoQov'></a>Table.12-2 defgradient マクロの付加パラメータ（linear/radial 共通）</p>
<table align='center'>
<tr><th>parameter</th><th>description</th></tr>
<tr><td nowrap align='left'><code>href</code></td><td align='left'>他の<a class='autolink' href='#4p1J7EWjD3m'>グラデーション</a>定義を参照する場合、その ID をキーワードで指定します。</td></tr>
<tr><td nowrap align='left'><code>units</code></td><td align='left'>patternUnits 属性を <code>:userSpaceOnUse</code> または <code>:objectBoundingBox</code> から<br>選択します。</td></tr>
<tr><td nowrap align='left'><code>spread</code></td><td align='left'>spreadMethod 属性を指定する場合、`:pad :repeat :reflect` から選択します。</td></tr>
<tr><td nowrap align='left'><code>transform</code></td><td align='left'>gradientTtransform 属性を指定する場合、文字列で指定します。</td></tr>
</table>
<p>　　</p>
<p>　線型<a class='autolink' href='#4p1J7EWjD3m'>グラデーション</a>特有の付加パラメータは以下の通りです。</p>
<p class='tbl_title'><a name='7B7qYLtcQVS'></a>Table.12-3 defgradient マクロの付加パラメータ（linear）</p>
<table align='center'>
<tr><th>parameter</th><th>description</th></tr>
<tr><td nowrap align='left'><code>x1</code></td><td align='left'>x1 属性を指定する場合、数値または文字列で指定します。</td></tr>
<tr><td nowrap align='left'><code>y1</code></td><td align='left'>y1 属性を指定する場合、数値または文字列で指定します。</td></tr>
<tr><td nowrap align='left'><code>x2</code></td><td align='left'>x2 属性を指定する場合、数値または文字列で指定します。</td></tr>
<tr><td nowrap align='left'><code>y2</code></td><td align='left'>y2 属性を指定する場合、数値または文字列で指定します。</td></tr>
</table>
<p>　　</p>
<p>　円形<a class='autolink' href='#4p1J7EWjD3m'>グラデーション</a>特有の付加パラメータは以下の通りです。</p>
<p class='tbl_title'><a name='bRsr41rCkR5'></a>Table.12-4 defgradient マクロの付加パラメータ（radial）</p>
<table align='center'>
<tr><th>parameter</th><th>description</th></tr>
<tr><td nowrap align='left'><code>cx</code></td><td align='left'>cx 属性を指定する場合、数値または文字列で指定します。</td></tr>
<tr><td nowrap align='left'><code>cy</code></td><td align='left'>cy 属性を指定する場合、数値または文字列で指定します。</td></tr>
<tr><td nowrap align='left'><code>fx</code></td><td align='left'>fx 属性を指定する場合、数値または文字列で指定します。</td></tr>
<tr><td nowrap align='left'><code>fy</code></td><td align='left'>fy 属性を指定する場合、数値または文字列で指定します。</td></tr>
<tr><td nowrap align='left'><code>radius</code></td><td align='left'>r 属性を指定する場合、数値または文字列で指定します。</td></tr>
</table>
<p>　　</p>
<h4><a name='gxb34ymFlDc'></a>12.1.4 defgroup マクロ</h4>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>defgroup</span> ((width height id) <span class='keyword2'>&amp;rest</span> body) ... )
</pre>
<p>　<span style='background:red;color:white;'>ToDo : まだ記述されていません。</span></p>
<h4><a name='81YGnpDRA3K'></a>12.1.5 defpattern マクロ</h4>
<p>　<a class='autolink' href='#81YGnpDRA3K'>defpattern</a> マクロは<a class='autolink' href='#dmYFJAv81Kl'>パターン</a>を定義します。<a class='autolink' href='#dmYFJAv81Kl'>パターン</a>の詳細は「<a href='#dmYFJAv81Kl'>9.1  パターン</a>」を参照してください。説明不足ですが、基本的に SVG 規格に沿っていますので必要に応じて書籍や規格にあたってください。マクロシグネチャは以下の通りです。なお、現在、preserveAspectRatio 属性には対応していません。将来対応する可能性はありますが、未確定です。</p>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>defpattern</span> ((id <span class='keyword2'>&amp;key</span> x y width height href units
                               content-units view-box transform) <span class='keyword2'>&amp;rest</span> body) ... )
</pre>
<p>　　</p>
<p class='tbl_title'><a name='43tbSrg0HB4'></a>Table.12-5 defpattern マクロのパラメータ</p>
<table align='center'>
<tr><th>parameter</th><th>description</th></tr>
<tr><td nowrap align='left'><code>id</code></td><td align='left'>ID をキーワードで指定します。</td></tr>
<tr><td nowrap align='left'><code>x</code></td><td align='left'></td></tr>
<tr><td nowrap align='left'><code>y</code></td><td align='left'></td></tr>
<tr><td nowrap align='left'><code>width</code></td><td align='left'>幅を数値で指定します。</td></tr>
<tr><td nowrap align='left'><code>height</code></td><td align='left'>高さを数値で指定します。</td></tr>
<tr><td nowrap align='left'><code>href</code></td><td align='left'>高さを数値で指定します。</td></tr>
<tr><td nowrap align='left'><code>units</code></td><td align='left'>patternUnits 属性を <code>:userSpaceOnUse</code> または <code>:objectBoundingBox</code> から<br>選択します。</td></tr>
<tr><td nowrap align='left'><code>content-units</code></td><td align='left'>patternContentUnits 属性を <code>:userSpaceOnUse</code> または <code>:objectBoundingBox</code> <br>から選択します。</td></tr>
<tr><td nowrap align='left'><code>view-box</code></td><td align='left'>viewBox 属性を 4 つの数値からなるリストで指定します。</td></tr>
<tr><td nowrap align='left'><code>transform</code></td><td align='left'>patternTtransform 属性を指定する場合、文字列で指定します。</td></tr>
</table>
<p>　　</p>
<h4><a name='2xCCaUuNLlH'></a>12.1.6 diagram マクロ</h4>
<p>　<span style='background:red;color:white;'>ToDo : まだ記述されていません。</span></p>
<h4><a name='13cQuI9DTKo'></a>12.1.7 drop-shadow マクロ</h4>
<p>　生成画像にドロップシャドウを導入します。詳細は SVG 規格を参照してください。</p>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>drop-shadow</span> (<span class='keyword2'>&amp;key</span> id color-matrix deviation dx dy) ...)
</pre>
<p>　　</p>
<p class='tbl_title'><a name='98FSocmF926'></a>Table.12-6 drop-shadow マクロのパラメータ</p>
<table align='center'>
<tr><th>parameter</th><th>description</th></tr>
<tr><td nowrap align='left'><code>id</code></td><td align='left'>ID をキーワードで指定します。省略した場合のデフォルト値は <code>:drop-shadow</code> です。</td></tr>
<tr><td nowrap align='left'><code>color-matrix</code></td><td align='left'><code>&lt;feColorMatrix&gt;</code> の values 値を数値のリストで指定します。詳細は SVG 規格を参照してください。省略した場合のデフォルト値は <code>'(0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0)</code> です。</td></tr>
<tr><td nowrap align='left'><code>deviation</code></td><td align='left'><code>&lt;feGaussianBlur&gt;</code> における <code>stdDeviation</code> 値を指定します。詳細は SVG 規格を参照してください。省略した場合のデフォルト値は 2 です。</td></tr>
<tr><td nowrap align='left'><code>dx, dy</code></td><td align='left'><code>&lt;feOffset&gt;</code> における <code>dx</code> および <code>dy</code> 値を指定します。詳細は SVG 規格を参照してください。省略した場合のデフォルト値は 4 です。</td></tr>
</table>
<p>　　</p>
<h4><a name='aK4WyL00CPC'></a>12.1.8 glow-shadow マクロ</h4>
<p>　生成画像にグローシャドウを導入します。詳細は SVG 規格を参照してください。</p>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>glow-shadow</span> (<span class='keyword2'>&amp;key</span> id color-matrix deviation) ...)
</pre>
<p>　　</p>
<p class='tbl_title'><a name='8OxjHEdW6gK'></a>Table.12-7 glow-shadow マクロのパラメータ</p>
<table align='center'>
<tr><th>parameter</th><th>description</th></tr>
<tr><td nowrap align='left'><code>id</code></td><td align='left'>ID をキーワードで指定します。省略した場合のデフォルト値は <code>:glow-shadow</code> です。</td></tr>
<tr><td nowrap align='left'><code>color-matrix</code></td><td align='left'><code>&lt;feColorMatrix&gt;</code> の values 値を数値のリストで指定します。詳細は SVG 規格を参照してください。省略した場合のデフォルト値は <code>'(0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0)</code> です。</td></tr>
<tr><td nowrap align='left'><code>deviation</code></td><td align='left'><code>&lt;feGaussianBlur&gt;</code> における <code>stdDeviation</code> 値を指定します。詳細は SVG 規格を参照してください。省略した場合のデフォルト値は 3 です。</td></tr>
</table>
<p>　　</p>
<h4><a name='8IkB7VinE7h'></a>12.1.9 make-fill 関数</h4>
<p>　<a class='autolink' href='#8IkB7VinE7h'>make-fill</a> 関数は<a class='autolink' href='#dBUd7L4C3dx'>フィル</a>情報を生成します。<a class='autolink' href='#dBUd7L4C3dx'>フィル</a>情報の詳細は「<a href='#dBUd7L4C3dx'>10.3  フィル</a>」を参照してください。関数シグネチャは以下の通りです。</p>
<pre class='code'>
(<span class='keyword1'>defun</span> <span class='keyword5'>make-fill</span> (<span class='keyword2'>&amp;rest</span> params) ...)
</pre>
<p>　上記は簡潔な記述で柔軟な<a class='autolink' href='#dBUd7L4C3dx'>フィル</a>情報の生成を可能にするためのもので、 <code>params</code> として渡されるパラメータ数に応じて以下のことをします。</p>
<ul>
<li>パラメータ数が 0 の場合
<ul>
<li>デフォルトの<a class='autolink' href='#dBUd7L4C3dx'>フィル</a>情報を返します</li>
</ul>
</li>
<li>パラメータ数が 1 の場合
<ul>
<li><a class='autolink' href='#dBUd7L4C3dx'>フィル</a>情報が渡された場合、それをそのまま返します</li>
<li>リスト lst が渡された場合、 <code>(apply #'make-fill lst)</code> を返します</li>
<li>上記のいずれでもない prm の場合、 <code>(make-fill :color prm)</code> を返します</li>
</ul>
</li>
<li>パラメータ数が 2 以上の場合
<ul>
<li>後述します</li>
</ul>
</li>
</ul>
<p>　パラメータ数が 2 以上の場合、<a class='autolink' href='#8IkB7VinE7h'>make-fill</a> 関数は実質的に以下の関数であるかのように振舞います。</p>
<pre class='code'>
(<span class='keyword1'>defun</span> <span class='keyword5'>make-fill</span> <span class='keyword2'>&amp;key</span> color opacity rule url base)
</pre>
<p class='tbl_title'><a name='jaLWrUQI3jh'></a>Table.12-8 make-fill 関数のパラメータ</p>
<table align='center'>
<tr><th>parameter</th><th>description</th></tr>
<tr><td nowrap align='left'><code>color</code></td><td align='left'>塗り潰しの色を指定します。色の指定方法については <a href='#1rpUB3fre67'>10.1  節</a>を、色の名前については<br><a href='#dR01Jh257Q6'>12.2  節</a>を参照してください。</td></tr>
<tr><td nowrap align='left'><code>opacity</code></td><td align='left'>塗り潰しの不透明度を 0.0 ～ 1.0 の数値で指定します。</td></tr>
<tr><td nowrap align='left'><code>rule</code></td><td align='left'>塗りつぶしのルールを <code>:nonzero</code> または <code>:evenodd</code> で指定します。</td></tr>
<tr><td nowrap align='left'><code>url</code></td><td align='left'><a class='autolink' href='#dmYFJAv81Kl'>パターン</a>や<a class='autolink' href='#4p1J7EWjD3m'>グラデーション</a>の ID を指定します。詳細は <a href='#7K8A5tBrYlW'>10.3.3  節</a>を参照してください。</td></tr>
<tr><td nowrap align='left'><code>base</code></td><td align='left'><span style='background:red;color:white;'>ToDo : まだ記述されていません</span></td></tr>
</table>
<p>　　</p>
<h4><a name='673GXF9YiIQ'></a>12.1.10 make-font 関数</h4>
<p>　<a class='autolink' href='#673GXF9YiIQ'>make-font</a> 関数は<a class='autolink' href='#3kZ9FkounyK'>フォント</a>情報を生成します。<a class='autolink' href='#3kZ9FkounyK'>フォント</a>情報の詳細は「<a href='#3kZ9FkounyK'>10.4  フォント</a>」を参照してください。関数シグネチャは以下の通りです。</p>
<pre class='code'>
(<span class='keyword1'>defun</span> <span class='keyword5'>make-font</span> (<span class='keyword2'>&amp;rest</span> params) ...)
</pre>
<p>　上記は簡潔な記述で柔軟な<a class='autolink' href='#3kZ9FkounyK'>フォント</a>情報の生成を可能にするためのもので、 <code>params</code> として渡されるパラメータ数に応じて以下のことをします。</p>
<ul>
<li>パラメータ数が 0 の場合
<ul>
<li>デフォルトの<a class='autolink' href='#3kZ9FkounyK'>フォント</a>情報を返します</li>
</ul>
</li>
<li>パラメータ数が 1 の場合
<ul>
<li><a class='autolink' href='#3kZ9FkounyK'>フォント</a>情報が渡された場合、それをそのまま返します</li>
<li>数値 N が渡された場合、 <code>(make-font :size N)</code> を返します</li>
<li>リスト lst が渡された場合、 <code>(apply #'make-font lst)</code> を返します</li>
<li>上記のいずれでもない prm の場合、 <code>(make-font :family prm)</code> を返します</li>
</ul>
</li>
<li>パラメータ数が 2 以上の場合
<ul>
<li>後述します</li>
</ul>
</li>
</ul>
<p>　パラメータ数が 2 以上の場合、<a class='autolink' href='#673GXF9YiIQ'>make-font</a> 関数は実質的に以下の関数であるかのように振舞います。</p>
<pre class='code'>
(<span class='keyword1'>defun</span> <span class='keyword5'>make-font</span> <span class='keyword2'>&amp;key</span> family size fill stroke style decoration 
                      weight filter line-spacing width-spice base)
</pre>
<p>　各パラメータの意味は以下の通りです。詳細は「<a href='#3kZ9FkounyK'>10.4  フォント</a>」を参照してください。</p>
<p class='tbl_title'><a name='3B1RHolTZeW'></a>Table.12-9 make-font 関数のパラメータ</p>
<table align='center'>
<tr><th>parameter</th><th>description</th></tr>
<tr><td nowrap align='left'><code>family</code></td><td align='left'>使用する<a class='autolink' href='#3kZ9FkounyK'>フォント</a>の名前をカンマで区切って並べた文字列を指定します（後述）。</td></tr>
<tr><td nowrap align='left'><code>size</code></td><td align='left'><a class='autolink' href='#3kZ9FkounyK'>フォント</a>サイズを数値で指定します。</td></tr>
<tr><td nowrap align='left'><code>fill</code></td><td align='left'><a class='autolink' href='#3kZ9FkounyK'>フォント</a>の塗り潰しを指定します。詳細は「<a href='#dBUd7L4C3dx'>10.3  フィル</a>」を参照してください。</td></tr>
<tr><td nowrap align='left'><code>stroke</code></td><td align='left'><a class='autolink' href='#3kZ9FkounyK'>フォント</a>の輪郭を描く<a class='autolink' href='#4HFjqmTuIU6'>ストローク</a>を指定します。詳細は「<a href='#4HFjqmTuIU6'>10.2  ストローク</a>」を参照してください。通常、<a class='autolink' href='#3kZ9FkounyK'>フォント</a>では輪郭線は指定しません。</td></tr>
<tr><td nowrap align='left'><code>style</code></td><td align='left'>スタイルを <code>:normal, :italic, :oblique</code> のいずれかから指定します。</td></tr>
<tr><td nowrap align='left'><code>decoration</code></td><td align='left'>装飾を <code>:none, :underline, :overline, :line-through</code> のいずれかから指定します。</td></tr>
<tr><td nowrap align='left'><code>weight</code></td><td align='left'>文字の太さを <code>:normal, :bold, :bolder, :lighter</code> のいずれか、または 100 200 300 400 500 600 700 800 900 のいずれかから指定します。</td></tr>
<tr><td nowrap align='left'><code>filter</code></td><td align='left'><a class='autolink' href='#3kZ9FkounyK'>フォント</a>の描画に適用する<a class='autolink' href='#gPGlqSbIfdL'>フィルタ</a>を指定します。詳細は「<a href='#gPGlqSbIfdL'>10.7  フィルタ</a>」を参照してください。</td></tr>
<tr><td nowrap align='left'><code>line-spacing</code></td><td align='left'><a class='autolink' href='#4WyMTv59pvw'>パラグラフ</a>などで複数行のテキストを描画する際の行間を数値で指定します。</td></tr>
<tr><td nowrap align='left'><code>width-spice</code></td><td align='left'><a class='autolink' href='#3kZ9FkounyK'>フォント</a>サイズとテキスト内容から描画幅を計算する際の係数を数値で指定します。</td></tr>
<tr><td nowrap align='left'><code>base</code></td><td align='left'><span style='background:red;color:white;'>ToDo : まだ記述されていません</span></td></tr>
</table>
<p>　　</p>
<h4><a name='ezUVhtPwl3J'></a>12.1.11 make-stroke 関数</h4>
<p>　<a class='autolink' href='#ezUVhtPwl3J'>make-stroke</a> 関数は<a class='autolink' href='#4HFjqmTuIU6'>ストローク</a>情報を生成します。<a class='autolink' href='#4HFjqmTuIU6'>ストローク</a>情報の詳細は「<a href='#4HFjqmTuIU6'>10.2  ストローク</a>」を参照してください。関数シグネチャは以下の通りです。</p>
<pre class='code'>
(<span class='keyword1'>defun</span> <span class='keyword5'>make-stroke</span> (<span class='keyword2'>&amp;rest</span> params) ...)
</pre>
<p>　上記は簡潔な記述で柔軟な<a class='autolink' href='#4HFjqmTuIU6'>ストローク</a>情報の生成を可能にするためのもので、 <code>params</code> として渡されるパラメータ数に応じて以下のことをします。</p>
<ul>
<li>パラメータ数が 0 の場合
<ul>
<li>デフォルトの<a class='autolink' href='#4HFjqmTuIU6'>ストローク</a>情報を返します</li>
</ul>
</li>
<li>パラメータ数が 1 の場合
<ul>
<li><a class='autolink' href='#4HFjqmTuIU6'>ストローク</a>情報が渡された場合、それをそのまま返します</li>
<li>数値 N が渡された場合、 <code>(make-stroke :width N)</code> を返します</li>
<li>リスト lst が渡された場合、 <code>(apply #'make-stroke lst)</code> を返します</li>
<li>上記のいずれでもない prm の場合、 <code>(make-stroke :color prm)</code> を返します</li>
</ul>
</li>
<li>パラメータ数が 2 以上の場合
<ul>
<li>後述します</li>
</ul>
</li>
</ul>
<p>　パラメータ数が 2 以上の場合、<a class='autolink' href='#ezUVhtPwl3J'>make-stroke</a> 関数は実質的に以下の関数であるかのように振舞います。</p>
<pre class='code'>
(<span class='keyword1'>defun</span> <span class='keyword5'>make-stroke</span> <span class='keyword2'>&amp;key</span> color width opacity linecap linejoin
                        miterlimit dasharray dashoffset url base)
</pre>
<p>　各パラメータの意味は以下の通りです。詳細は「<a href='#4HFjqmTuIU6'>10.2  ストローク</a>」を参照してください。</p>
<p class='tbl_title'><a name='8gU4HDke41S'></a>Table.12-10 make-stroke 関数のパラメータ</p>
<table align='center'>
<tr><th>parameter</th><th>description</th></tr>
<tr><td nowrap align='left'><code>color</code></td><td align='left'>線の色を指定します。色の指定方法については <a href='#1rpUB3fre67'>10.1  節</a>を、色の名前については<br><a href='#dR01Jh257Q6'>12.2  節</a>を参照してください。</td></tr>
<tr><td nowrap align='left'><code>width</code></td><td align='left'>線の幅を数値で指定します。</td></tr>
<tr><td nowrap align='left'><code>opacity</code></td><td align='left'>線の不透明度を 0.0 ～ 1.0 の数値で指定します。</td></tr>
<tr><td nowrap align='left'><code>linecap</code></td><td align='left'>線の両端の形状を <code>:butt, :round, :square</code> から指定します。</td></tr>
<tr><td nowrap align='left'><code>linejoin</code></td><td align='left'>線が折れ曲ってできる角の形状を <code>:miter, :round, :bevel</code> から指定します。</td></tr>
<tr><td nowrap align='left'><code>miterlimit</code></td><td align='left'><code>linejoin</code> が <code>:miter</code> の場合の、結合される線の太さに対する結合部の長さの<br>比率を数値で指定します。デフォルト値は 4 です。</td></tr>
<tr><td nowrap align='left'><code>dasharray</code></td><td align='left'>点線や破線を描画したい場合に、繰り返される線の長さと間隔の長さをリストで<br>指定します。デフォルト値は nil で、<a class='autolink' href='#fv4OUML78x4'>直線</a>になります。</td></tr>
<tr><td nowrap align='left'><code>dashoffset</code></td><td align='left'><code>dasharray</code> を指定する場合に、線の開始を <code>dasharray</code> のどこから始めるかの<br>オフセットを数値で指定します。</td></tr>
<tr><td nowrap align='left'><code>url</code></td><td align='left'><a class='autolink' href='#dmYFJAv81Kl'>パターン</a>や<a class='autolink' href='#4p1J7EWjD3m'>グラデーション</a>の ID を指定します。詳細は <a href='#cPNmZfLmh3t'>10.2.5  節</a>を参照してください。</td></tr>
<tr><td nowrap align='left'><code>base</code></td><td align='left'><span style='background:red;color:white;'>ToDo : まだ記述されていません</span></td></tr>
</table>
<p>　　</p>
<h4><a name='7QraN5WNGea'></a>12.1.12 rgb 関数</h4>
<pre class='code'>
(rgb r g b)
</pre>
<h4><a name='klH6tZ6gdaQ'></a>12.1.13 use マクロ</h4>
<p>　<span style='background:red;color:white;'>ToDo : まだ記述されていません。</span></p>
<h4><a name='7WY0qIioOWV'></a>12.1.14 with-balloon-options マクロ</h4>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>with-balloon-options</span> ((<span class='keyword2'>&amp;key</span> tab-width tab-height
                                     align valign margin
                                     font fill stroke filter layer) <span class='keyword2'>&amp;rest</span> body) ...)
</pre>
<p>　<span style='background:red;color:white;'>ToDo : まだ記述されていません。</span></p>
<h4><a name='kT3ITG7nfBI'></a>12.1.15 with-block-arrow-options マクロ</h4>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>with-block-arrow-options</span> ((<span class='keyword2'>&amp;key</span> fill stroke
                                          filter layer) <span class='keyword2'>&amp;rest</span> body) ...)
</pre>
<p>　<span style='background:red;color:white;'>ToDo : まだ記述されていません。</span></p>
<h4><a name='avbLVTgRge8'></a>12.1.16 with-brace-options マクロ</h4>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>with-brace-options</span> ((<span class='keyword2'>&amp;key</span> font stroke filter layer) <span class='keyword2'>&amp;rest</span> body) ...)
</pre>
<p>　<span style='background:red;color:white;'>ToDo : まだ記述されていません。</span></p>
<h4><a name='jHhN85RvHYn'></a>12.1.17 with-canvasマクロ</h4>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>with-canvas</span> ((sym-cc sym-width sym-height) canvas <span class='keyword2'>&amp;rest</span> body) ...)
</pre>
<h4><a name='gE4r2xg8b9U'></a>12.1.18 with-cross-options マクロ</h4>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>with-cross-options</span> ((<span class='keyword2'>&amp;key</span> fill stroke filter layer) <span class='keyword2'>&amp;rest</span> body) ...)
</pre>
<p>　<span style='background:red;color:white;'>ToDo : まだ記述されていません。</span></p>
<h4><a name='dpsPduib5te'></a>12.1.19 with-cube-options マクロ</h4>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>with-cube-options</span> ((<span class='keyword2'>&amp;key</span> depth align valign margin
                                   font fill fill2 stroke filter layer) <span class='keyword2'>&amp;rest</span> body) ...)
</pre>
<p>　<span style='background:red;color:white;'>ToDo : まだ記述されていません。</span></p>
<h4><a name='6STY3Kxzonk'></a>12.1.20 with-cylinder-options マクロ</h4>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>with-cylinder-options</span> ((<span class='keyword2'>&amp;key</span> depth align valign margin
                                  font fill stroke filter layer) <span class='keyword2'>&amp;rest</span> body) ...)
</pre>
<p>　<span style='background:red;color:white;'>ToDo : まだ記述されていません。</span></p>
<h4><a name='0axtDA7gRzz'></a>12.1.21 with-document-options マクロ</h4>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>with-document-options</span> ((<span class='keyword2'>&amp;key</span> align valign margin
                                       font fill stroke filter layer) <span class='keyword2'>&amp;rest</span> body) ...)
</pre>
<p>　<span style='background:red;color:white;'>ToDo : まだ記述されていません。</span></p>
<h4><a name='h8PWgenmp0d'></a>12.1.22 with-explosion-options マクロ</h4>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>with-explosion-options</span> ((<span class='keyword2'>&amp;key</span> font fill
                                        stroke filter layer) <span class='keyword2'>&amp;rest</span> body) ...)
</pre>
<p>　<span style='background:red;color:white;'>ToDo : まだ記述されていません。</span></p>
<h4><a name='grfAvoJdCpJ'></a>12.1.23 with-folder-options マクロ</h4>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>with-folder-options</span> ((<span class='keyword2'>&amp;key</span> tab-width tab-height
                                     align valign margin
                                     font fill stroke filter layer) <span class='keyword2'>&amp;rest</span> body) ...)
</pre>
<p>　<span style='background:red;color:white;'>ToDo : まだ記述されていません。</span></p>
<h4><a name='0C8r7LcFb7c'></a>12.1.24 with-memo-options マクロ</h4>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>with-memo-options</span> ((<span class='keyword2'>&amp;key</span> crease align valign margin
                                   font fill fill2 stroke filter layer) <span class='keyword2'>&amp;rest</span> body) ...)
</pre>
<p>　<span style='background:red;color:white;'>ToDo : まだ記述されていません。</span></p>
<h4><a name='5afU9yg86c0'></a>12.1.25 with-optionsマクロ</h4>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>with-options</span> ((<span class='keyword2'>&amp;key</span> fill stroke font filter layer) <span class='keyword2'>&amp;rest</span> body) ...)
</pre>
<h4><a name='0B9bMaXVpqW'></a>12.1.26 with-person-options マクロ</h4>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>with-person-options</span> ((<span class='keyword2'>&amp;key</span> fill stroke layer filter) <span class='keyword2'>&amp;rest</span> body) ...)
</pre>
<p>　<span style='background:red;color:white;'>ToDo : まだ記述されていません。</span></p>
<h4><a name='lsGULoUqoK4'></a>12.1.27 with-subcanvasマクロ</h4>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>with-subcanvas</span> ((top-left width height) <span class='keyword2'>&amp;rest</span> body) ...)
</pre>
<h4><a name='2c8duiejnaO'></a>12.1.28 with-subcanvas-ofマクロ</h4>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>with-subcanvas-of</span> ((id) <span class='keyword2'>&amp;rest</span> body) ...)
</pre>
<h4><a name='2XsIFr1er3s'></a>12.1.29 with-textbox-options マクロ</h4>
<pre class='code'>
(<span class='keyword1'>defmacro</span> <span class='keyword5'>with-textbox-options</span> ((<span class='keyword2'>&amp;key</span> rx ry align valign margin
                                      font fill stroke filter layer) <span class='keyword2'>&amp;rest</span> body) ...)
</pre>
<p>　<span style='background:red;color:white;'>ToDo : まだ記述されていません。</span></p>
<h3><a name='dR01Jh257Q6'></a>12.2 色の名前</h3>
<p> <a href='#1rpUB3fre67'>10.1  節</a>ではいくつかの色の指定方法を紹介しています。ここでは、そのうち色の名前について使用できるものを紹介します。まず、以下は SVG 規格に記載されている色名のサンプルです<sup><a name='footnote_ref16' href='#footnote16'>16</a></sup>。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='750' height='1000'>
	
	<rect x='0' y='0' width='750' height='1000' fill='white' stroke='none' />
	<!-- rectangle -->
	<rect x='7.5' y='12.5' width='15' height='15' fill='black' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='24' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#000000:black</text>
	<!-- rectangle -->
	<rect x='7.5' y='32.5' width='15' height='15' fill='navy' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='44' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#000080:navy</text>
	<!-- rectangle -->
	<rect x='7.5' y='52.5' width='15' height='15' fill='darkblue' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='64' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#00008B:darkblue</text>
	<!-- rectangle -->
	<rect x='7.5' y='72.5' width='15' height='15' fill='mediumblue' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='84' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#0000CD:mediumblue</text>
	<!-- rectangle -->
	<rect x='7.5' y='92.5' width='15' height='15' fill='blue' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='104' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#0000FF:blue</text>
	<!-- rectangle -->
	<rect x='7.5' y='112.5' width='15' height='15' fill='darkgreen' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='124' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#006400:darkgreen</text>
	<!-- rectangle -->
	<rect x='7.5' y='132.5' width='15' height='15' fill='green' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='144' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#008000:green</text>
	<!-- rectangle -->
	<rect x='7.5' y='152.5' width='15' height='15' fill='teal' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='164' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#008080:teal</text>
	<!-- rectangle -->
	<rect x='7.5' y='172.5' width='15' height='15' fill='darkcyan' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='184' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#008B8B:darkcyan</text>
	<!-- rectangle -->
	<rect x='7.5' y='192.5' width='15' height='15' fill='deepskyblue' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='204' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#00BFFF:deepskyblue</text>
	<!-- rectangle -->
	<rect x='7.5' y='212.5' width='15' height='15' fill='darkturquoise' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='224' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#00CED1:darkturquoise</text>
	<!-- rectangle -->
	<rect x='7.5' y='232.5' width='15' height='15' fill='mediumspringgreen' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='244' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#00FA9A:mediumspringgreen</text>
	<!-- rectangle -->
	<rect x='7.5' y='252.5' width='15' height='15' fill='lime' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='264' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#00FF00:lime</text>
	<!-- rectangle -->
	<rect x='7.5' y='272.5' width='15' height='15' fill='springgreen' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='284' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#00FF7F:springgreen</text>
	<!-- rectangle -->
	<rect x='7.5' y='292.5' width='15' height='15' fill='aqua' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='304' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#00FFFF:aqua</text>
	<!-- rectangle -->
	<rect x='7.5' y='312.5' width='15' height='15' fill='cyan' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='324' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#00FFFF:cyan</text>
	<!-- rectangle -->
	<rect x='7.5' y='332.5' width='15' height='15' fill='midnightblue' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='344' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#191970:midnightblue</text>
	<!-- rectangle -->
	<rect x='7.5' y='352.5' width='15' height='15' fill='dodgerblue' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='364' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#1E90FF:dodgerblue</text>
	<!-- rectangle -->
	<rect x='7.5' y='372.5' width='15' height='15' fill='lightseagreen' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='384' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#20B2AA:lightseagreen</text>
	<!-- rectangle -->
	<rect x='7.5' y='392.5' width='15' height='15' fill='forestgreen' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='404' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#228B22:forestgreen</text>
	<!-- rectangle -->
	<rect x='7.5' y='412.5' width='15' height='15' fill='seagreen' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='424' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#2E8B57:seagreen</text>
	<!-- rectangle -->
	<rect x='7.5' y='432.5' width='15' height='15' fill='darkslategray' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='444' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#2F4F4F:darkslategray</text>
	<!-- rectangle -->
	<rect x='7.5' y='452.5' width='15' height='15' fill='darkslategrey' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='464' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#2F4F4F:darkslategrey</text>
	<!-- rectangle -->
	<rect x='7.5' y='472.5' width='15' height='15' fill='limegreen' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='484' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#32CD32:limegreen</text>
	<!-- rectangle -->
	<rect x='7.5' y='492.5' width='15' height='15' fill='mediumseagreen' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='504' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#3CB371:mediumseagreen</text>
	<!-- rectangle -->
	<rect x='7.5' y='512.5' width='15' height='15' fill='turquoise' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='524' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#40E0D0:turquoise</text>
	<!-- rectangle -->
	<rect x='7.5' y='532.5' width='15' height='15' fill='royalblue' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='544' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#4169E1:royalblue</text>
	<!-- rectangle -->
	<rect x='7.5' y='552.5' width='15' height='15' fill='steelblue' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='564' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#4682B4:steelblue</text>
	<!-- rectangle -->
	<rect x='7.5' y='572.5' width='15' height='15' fill='darkslateblue' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='584' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#483D8B:darkslateblue</text>
	<!-- rectangle -->
	<rect x='7.5' y='592.5' width='15' height='15' fill='mediumturquoise' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='604' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#48D1CC:mediumturquoise</text>
	<!-- rectangle -->
	<rect x='7.5' y='612.5' width='15' height='15' fill='indigo' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='624' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#4B0082:indigo</text>
	<!-- rectangle -->
	<rect x='7.5' y='632.5' width='15' height='15' fill='darkolivegreen' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='644' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#556B2F:darkolivegreen</text>
	<!-- rectangle -->
	<rect x='7.5' y='652.5' width='15' height='15' fill='cadetblue' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='664' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#5F9EA0:cadetblue</text>
	<!-- rectangle -->
	<rect x='7.5' y='672.5' width='15' height='15' fill='cornflowerblue' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='684' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#6495ED:cornflowerblue</text>
	<!-- rectangle -->
	<rect x='7.5' y='692.5' width='15' height='15' fill='mediumaquamarine' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='704' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#66CDAA:mediumaquamarine</text>
	<!-- rectangle -->
	<rect x='7.5' y='712.5' width='15' height='15' fill='dimgray' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='724' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#696969:dimgray</text>
	<!-- rectangle -->
	<rect x='7.5' y='732.5' width='15' height='15' fill='dimgrey' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='744' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#696969:dimgrey</text>
	<!-- rectangle -->
	<rect x='7.5' y='752.5' width='15' height='15' fill='slateblue' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='764' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#6A5ACD:slateblue</text>
	<!-- rectangle -->
	<rect x='7.5' y='772.5' width='15' height='15' fill='olivedrab' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='784' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#6B8E23:olivedrab</text>
	<!-- rectangle -->
	<rect x='7.5' y='792.5' width='15' height='15' fill='slategray' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='804' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#708090:slategray</text>
	<!-- rectangle -->
	<rect x='7.5' y='812.5' width='15' height='15' fill='slategrey' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='824' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#708090:slategrey</text>
	<!-- rectangle -->
	<rect x='7.5' y='832.5' width='15' height='15' fill='lightslategray' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='844' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#778899:lightslategray</text>
	<!-- rectangle -->
	<rect x='7.5' y='852.5' width='15' height='15' fill='lightslategrey' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='864' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#778899:lightslategrey</text>
	<!-- rectangle -->
	<rect x='7.5' y='872.5' width='15' height='15' fill='mediumslateblue' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='884' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#7B68EE:mediumslateblue</text>
	<!-- rectangle -->
	<rect x='7.5' y='892.5' width='15' height='15' fill='lawngreen' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='904' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#7CFC00:lawngreen</text>
	<!-- rectangle -->
	<rect x='7.5' y='912.5' width='15' height='15' fill='chartreuse' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='924' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#7FFF00:chartreuse</text>
	<!-- rectangle -->
	<rect x='7.5' y='932.5' width='15' height='15' fill='aquamarine' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='944' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#7FFFD4:aquamarine</text>
	<!-- rectangle -->
	<rect x='7.5' y='952.5' width='15' height='15' fill='maroon' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='964' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#800000:maroon</text>
	<!-- rectangle -->
	<rect x='7.5' y='972.5' width='15' height='15' fill='purple' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='984' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#800080:purple</text>
	<!-- rectangle -->
	<rect x='257.5' y='12.5' width='15' height='15' fill='olive' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='24' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#808000:olive</text>
	<!-- rectangle -->
	<rect x='257.5' y='32.5' width='15' height='15' fill='gray' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='44' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#808080:gray</text>
	<!-- rectangle -->
	<rect x='257.5' y='52.5' width='15' height='15' fill='grey' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='64' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#808080:grey</text>
	<!-- rectangle -->
	<rect x='257.5' y='72.5' width='15' height='15' fill='skyblue' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='84' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#87CEEB:skyblue</text>
	<!-- rectangle -->
	<rect x='257.5' y='92.5' width='15' height='15' fill='lightskyblue' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='104' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#87CEFA:lightskyblue</text>
	<!-- rectangle -->
	<rect x='257.5' y='112.5' width='15' height='15' fill='blueviolet' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='124' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8A2BE2:blueviolet</text>
	<!-- rectangle -->
	<rect x='257.5' y='132.5' width='15' height='15' fill='darkred' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='144' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B0000:darkred</text>
	<!-- rectangle -->
	<rect x='257.5' y='152.5' width='15' height='15' fill='darkmagenta' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='164' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B008B:darkmagenta</text>
	<!-- rectangle -->
	<rect x='257.5' y='172.5' width='15' height='15' fill='saddlebrown' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='184' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B4513:saddlebrown</text>
	<!-- rectangle -->
	<rect x='257.5' y='192.5' width='15' height='15' fill='darkseagreen' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='204' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8FBC8F:darkseagreen</text>
	<!-- rectangle -->
	<rect x='257.5' y='212.5' width='15' height='15' fill='lightgreen' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='224' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#90EE90:lightgreen</text>
	<!-- rectangle -->
	<rect x='257.5' y='232.5' width='15' height='15' fill='mediumpurple' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='244' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#9370DB:mediumpurple</text>
	<!-- rectangle -->
	<rect x='257.5' y='252.5' width='15' height='15' fill='darkviolet' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='264' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#9400D3:darkviolet</text>
	<!-- rectangle -->
	<rect x='257.5' y='272.5' width='15' height='15' fill='palegreen' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='284' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#98FB98:palegreen</text>
	<!-- rectangle -->
	<rect x='257.5' y='292.5' width='15' height='15' fill='darkorchid' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='304' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#9932CC:darkorchid</text>
	<!-- rectangle -->
	<rect x='257.5' y='312.5' width='15' height='15' fill='yellowgreen' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='324' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#9ACD32:yellowgreen</text>
	<!-- rectangle -->
	<rect x='257.5' y='332.5' width='15' height='15' fill='sienna' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='344' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#A0522D:sienna</text>
	<!-- rectangle -->
	<rect x='257.5' y='352.5' width='15' height='15' fill='brown' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='364' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#A52A2A:brown</text>
	<!-- rectangle -->
	<rect x='257.5' y='372.5' width='15' height='15' fill='darkgray' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='384' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#A9A9A9:darkgray</text>
	<!-- rectangle -->
	<rect x='257.5' y='392.5' width='15' height='15' fill='darkgrey' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='404' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#A9A9A9:darkgrey</text>
	<!-- rectangle -->
	<rect x='257.5' y='412.5' width='15' height='15' fill='lightblue' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='424' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#ADD8E6:lightblue</text>
	<!-- rectangle -->
	<rect x='257.5' y='432.5' width='15' height='15' fill='greenyellow' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='444' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#ADFF2F:greenyellow</text>
	<!-- rectangle -->
	<rect x='257.5' y='452.5' width='15' height='15' fill='paleturquoise' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='464' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#AFEEEE:paleturquoise</text>
	<!-- rectangle -->
	<rect x='257.5' y='472.5' width='15' height='15' fill='lightsteelblue' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='484' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#B0C4DE:lightsteelblue</text>
	<!-- rectangle -->
	<rect x='257.5' y='492.5' width='15' height='15' fill='powderblue' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='504' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#B0E0E6:powderblue</text>
	<!-- rectangle -->
	<rect x='257.5' y='512.5' width='15' height='15' fill='firebrick' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='524' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#B22222:firebrick</text>
	<!-- rectangle -->
	<rect x='257.5' y='532.5' width='15' height='15' fill='darkgoldenrod' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='544' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#B8860B:darkgoldenrod</text>
	<!-- rectangle -->
	<rect x='257.5' y='552.5' width='15' height='15' fill='mediumorchid' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='564' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#BA55D3:mediumorchid</text>
	<!-- rectangle -->
	<rect x='257.5' y='572.5' width='15' height='15' fill='rosybrown' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='584' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#BC8F8F:rosybrown</text>
	<!-- rectangle -->
	<rect x='257.5' y='592.5' width='15' height='15' fill='darkkhaki' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='604' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#BDB76B:darkkhaki</text>
	<!-- rectangle -->
	<rect x='257.5' y='612.5' width='15' height='15' fill='silver' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='624' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#C0C0C0:silver</text>
	<!-- rectangle -->
	<rect x='257.5' y='632.5' width='15' height='15' fill='mediumvioletred' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='644' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#C71585:mediumvioletred</text>
	<!-- rectangle -->
	<rect x='257.5' y='652.5' width='15' height='15' fill='indianred' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='664' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CD5C5C:indianred</text>
	<!-- rectangle -->
	<rect x='257.5' y='672.5' width='15' height='15' fill='peru' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='684' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CD853F:peru</text>
	<!-- rectangle -->
	<rect x='257.5' y='692.5' width='15' height='15' fill='chocolate' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='704' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#D2691E:chocolate</text>
	<!-- rectangle -->
	<rect x='257.5' y='712.5' width='15' height='15' fill='tan' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='724' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#D2B48C:tan</text>
	<!-- rectangle -->
	<rect x='257.5' y='732.5' width='15' height='15' fill='lightgray' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='744' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#D3D3D3:lightgray</text>
	<!-- rectangle -->
	<rect x='257.5' y='752.5' width='15' height='15' fill='lightgrey' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='764' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#D3D3D3:lightgrey</text>
	<!-- rectangle -->
	<rect x='257.5' y='772.5' width='15' height='15' fill='thistle' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='784' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#D8BFD8:thistle</text>
	<!-- rectangle -->
	<rect x='257.5' y='792.5' width='15' height='15' fill='orchid' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='804' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#DA70D6:orchid</text>
	<!-- rectangle -->
	<rect x='257.5' y='812.5' width='15' height='15' fill='goldenrod' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='824' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#DAA520:goldenrod</text>
	<!-- rectangle -->
	<rect x='257.5' y='832.5' width='15' height='15' fill='palevioletred' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='844' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#DB7093:palevioletred</text>
	<!-- rectangle -->
	<rect x='257.5' y='852.5' width='15' height='15' fill='crimson' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='864' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#DC143C:crimson</text>
	<!-- rectangle -->
	<rect x='257.5' y='872.5' width='15' height='15' fill='gainsboro' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='884' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#DCDCDC:gainsboro</text>
	<!-- rectangle -->
	<rect x='257.5' y='892.5' width='15' height='15' fill='plum' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='904' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#DDA0DD:plum</text>
	<!-- rectangle -->
	<rect x='257.5' y='912.5' width='15' height='15' fill='burlywood' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='924' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#DEB887:burlywood</text>
	<!-- rectangle -->
	<rect x='257.5' y='932.5' width='15' height='15' fill='lightcyan' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='944' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#E0FFFF:lightcyan</text>
	<!-- rectangle -->
	<rect x='257.5' y='952.5' width='15' height='15' fill='lavender' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='964' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#E6E6FA:lavender</text>
	<!-- rectangle -->
	<rect x='257.5' y='972.5' width='15' height='15' fill='darksalmon' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='275' y='984' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#E9967A:darksalmon</text>
	<!-- rectangle -->
	<rect x='507.5' y='12.5' width='15' height='15' fill='violet' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='24' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EE82EE:violet</text>
	<!-- rectangle -->
	<rect x='507.5' y='32.5' width='15' height='15' fill='palegoldenrod' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='44' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EEE8AA:palegoldenrod</text>
	<!-- rectangle -->
	<rect x='507.5' y='52.5' width='15' height='15' fill='lightcoral' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='64' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#F08080:lightcoral</text>
	<!-- rectangle -->
	<rect x='507.5' y='72.5' width='15' height='15' fill='khaki' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='84' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#F0E68C:khaki</text>
	<!-- rectangle -->
	<rect x='507.5' y='92.5' width='15' height='15' fill='aliceblue' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='104' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#F0F8FF:aliceblue</text>
	<!-- rectangle -->
	<rect x='507.5' y='112.5' width='15' height='15' fill='honeydew' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='124' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#F0FFF0:honeydew</text>
	<!-- rectangle -->
	<rect x='507.5' y='132.5' width='15' height='15' fill='azure' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='144' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#F0FFFF:azure</text>
	<!-- rectangle -->
	<rect x='507.5' y='152.5' width='15' height='15' fill='sandybrown' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='164' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#F4A460:sandybrown</text>
	<!-- rectangle -->
	<rect x='507.5' y='172.5' width='15' height='15' fill='wheat' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='184' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#F5DEB3:wheat</text>
	<!-- rectangle -->
	<rect x='507.5' y='192.5' width='15' height='15' fill='beige' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='204' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#F5F5DC:beige</text>
	<!-- rectangle -->
	<rect x='507.5' y='212.5' width='15' height='15' fill='whitesmoke' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='224' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#F5F5F5:whitesmoke</text>
	<!-- rectangle -->
	<rect x='507.5' y='232.5' width='15' height='15' fill='mintcream' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='244' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#F5FFFA:mintcream</text>
	<!-- rectangle -->
	<rect x='507.5' y='252.5' width='15' height='15' fill='ghostwhite' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='264' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#F8F8FF:ghostwhite</text>
	<!-- rectangle -->
	<rect x='507.5' y='272.5' width='15' height='15' fill='salmon' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='284' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FA8072:salmon</text>
	<!-- rectangle -->
	<rect x='507.5' y='292.5' width='15' height='15' fill='antiquewhite' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='304' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FAEBD7:antiquewhite</text>
	<!-- rectangle -->
	<rect x='507.5' y='312.5' width='15' height='15' fill='linen' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='324' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FAF0E6:linen</text>
	<!-- rectangle -->
	<rect x='507.5' y='332.5' width='15' height='15' fill='lightgoldenrodyellow' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='344' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FAFAD2:lightgoldenrodyellow</text>
	<!-- rectangle -->
	<rect x='507.5' y='352.5' width='15' height='15' fill='oldlace' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='364' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FDF5E6:oldlace</text>
	<!-- rectangle -->
	<rect x='507.5' y='372.5' width='15' height='15' fill='red' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='384' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FF0000:red</text>
	<!-- rectangle -->
	<rect x='507.5' y='392.5' width='15' height='15' fill='fuchsia' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='404' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FF00FF:fuchsia</text>
	<!-- rectangle -->
	<rect x='507.5' y='412.5' width='15' height='15' fill='magenta' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='424' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FF00FF:magenta</text>
	<!-- rectangle -->
	<rect x='507.5' y='432.5' width='15' height='15' fill='deeppink' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='444' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FF1493:deeppink</text>
	<!-- rectangle -->
	<rect x='507.5' y='452.5' width='15' height='15' fill='orangered' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='464' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FF4500:orangered</text>
	<!-- rectangle -->
	<rect x='507.5' y='472.5' width='15' height='15' fill='tomato' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='484' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FF6347:tomato</text>
	<!-- rectangle -->
	<rect x='507.5' y='492.5' width='15' height='15' fill='hotpink' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='504' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FF69B4:hotpink</text>
	<!-- rectangle -->
	<rect x='507.5' y='512.5' width='15' height='15' fill='coral' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='524' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FF7F50:coral</text>
	<!-- rectangle -->
	<rect x='507.5' y='532.5' width='15' height='15' fill='darkorange' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='544' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FF8C00:darkorange</text>
	<!-- rectangle -->
	<rect x='507.5' y='552.5' width='15' height='15' fill='lightsalmon' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='564' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFA07A:lightsalmon</text>
	<!-- rectangle -->
	<rect x='507.5' y='572.5' width='15' height='15' fill='orange' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='584' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFA500:orange</text>
	<!-- rectangle -->
	<rect x='507.5' y='592.5' width='15' height='15' fill='lightpink' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='604' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFB6C1:lightpink</text>
	<!-- rectangle -->
	<rect x='507.5' y='612.5' width='15' height='15' fill='pink' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='624' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFC0CB:pink</text>
	<!-- rectangle -->
	<rect x='507.5' y='632.5' width='15' height='15' fill='gold' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='644' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFD700:gold</text>
	<!-- rectangle -->
	<rect x='507.5' y='652.5' width='15' height='15' fill='peachpuff' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='664' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFDAB9:peachpuff</text>
	<!-- rectangle -->
	<rect x='507.5' y='672.5' width='15' height='15' fill='navajowhite' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='684' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFDEAD:navajowhite</text>
	<!-- rectangle -->
	<rect x='507.5' y='692.5' width='15' height='15' fill='moccasin' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='704' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFE4B5:moccasin</text>
	<!-- rectangle -->
	<rect x='507.5' y='712.5' width='15' height='15' fill='bisque' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='724' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFE4C4:bisque</text>
	<!-- rectangle -->
	<rect x='507.5' y='732.5' width='15' height='15' fill='mistyrose' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='744' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFE4E1:mistyrose</text>
	<!-- rectangle -->
	<rect x='507.5' y='752.5' width='15' height='15' fill='blanchedalmond' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='764' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFEBCD:blanchedalmond</text>
	<!-- rectangle -->
	<rect x='507.5' y='772.5' width='15' height='15' fill='papayawhip' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='784' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFEFD5:papayawhip</text>
	<!-- rectangle -->
	<rect x='507.5' y='792.5' width='15' height='15' fill='lavenderblush' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='804' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFF0F5:lavenderblush</text>
	<!-- rectangle -->
	<rect x='507.5' y='812.5' width='15' height='15' fill='seashell' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='824' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFF5EE:seashell</text>
	<!-- rectangle -->
	<rect x='507.5' y='832.5' width='15' height='15' fill='cornsilk' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='844' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFF8DC:cornsilk</text>
	<!-- rectangle -->
	<rect x='507.5' y='852.5' width='15' height='15' fill='lemonchiffon' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='864' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFFACD:lemonchiffon</text>
	<!-- rectangle -->
	<rect x='507.5' y='872.5' width='15' height='15' fill='floralwhite' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='884' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFFAF0:floralwhite</text>
	<!-- rectangle -->
	<rect x='507.5' y='892.5' width='15' height='15' fill='snow' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='904' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFFAFA:snow</text>
	<!-- rectangle -->
	<rect x='507.5' y='912.5' width='15' height='15' fill='yellow' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='924' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFFF00:yellow</text>
	<!-- rectangle -->
	<rect x='507.5' y='932.5' width='15' height='15' fill='lightyellow' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='944' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFFFE0:lightyellow</text>
	<!-- rectangle -->
	<rect x='507.5' y='952.5' width='15' height='15' fill='ivory' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='964' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFFFF0:ivory</text>
	<!-- rectangle -->
	<rect x='507.5' y='972.5' width='15' height='15' fill='white' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='525' y='984' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFFFFF:white</text>

</svg>
</div>

<p class='fig_title'><a name='2sDmAkevog1'></a>Figure.12-1 色の名前とサンプル</p>
<details>
<summary><a href='#2sDmAkevog1'>Figure.12-1</a> のソースはこちら</summary>
<pre class='code'>
(<span class='keyword1'>let</span> ((svg-width   750)
      (svg-height 1000))
  (diagram (svg-width svg-height <span class='keyword3'>:fill</span> <span class='keyword3'>:white</span>)
    (<span class='keyword1'>let</span> ((*default-fill*   (make-fill <span class='keyword3'>:color</span> <span class='keyword3'>:white</span>))
          (*default-font*   (make-font <span class='keyword3'>:family</span> <span class='literal'>"monospace"</span> <span class='keyword3'>:size</span> 10 <span class='keyword3'>:width-spice</span> 0.85))
          (*default-stroke* (make-stroke <span class='keyword3'>:color</span> <span class='keyword3'>:black</span> <span class='keyword3'>:width</span> 1)))
      (<span class='keyword1'>let</span> ((x 15)
            (y  0))
        (<span class='keyword1'>labels</span> ((imp (lst)
                   (incf y 20)
                   (<span class='keyword1'>when</span> (&lt; svg-height (+ y 10))
                     (incf x 250)
                     (setf y  20))
                   (rect (list x y)  15  15 <span class='keyword3'>:fill</span> (fourth lst))
                   (text (list (+ x 10)  (+ y 4))
                         (apply #'format  nil <span class='literal'>"#~2,'0x~2,'0x~2,'0x:~A"</span> lst))))
          (mapcar #'imp '((  0   0   0 <span class='literal'>"black"</span>               )
                          (  0   0 128 <span class='literal'>"navy"</span>                )
                          (  0   0 139 <span class='literal'>"darkblue"</span>            )
                          (  0   0 205 <span class='literal'>"mediumblue"</span>          )
                          (  0   0 255 <span class='literal'>"blue"</span>                )
                          (  0 100   0 <span class='literal'>"darkgreen"</span>           )
                          (  0 128   0 <span class='literal'>"green"</span>               )
                          (  0 128 128 <span class='literal'>"teal"</span>                )
                          (  0 139 139 <span class='literal'>"darkcyan"</span>            )
                          (  0 191 255 <span class='literal'>"deepskyblue"</span>         )
                          (  0 206 209 <span class='literal'>"darkturquoise"</span>       )
                          (  0 250 154 <span class='literal'>"mediumspringgreen"</span>   )
                          (  0 255   0 <span class='literal'>"lime"</span>                )
                          (  0 255 127 <span class='literal'>"springgreen"</span>         )
                          (  0 255 255 <span class='literal'>"aqua"</span>                )
                          (  0 255 255 <span class='literal'>"cyan"</span>                )
                          ( 25  25 112 <span class='literal'>"midnightblue"</span>        )
                          ( 30 144 255 <span class='literal'>"dodgerblue"</span>          )
                          ( 32 178 170 <span class='literal'>"lightseagreen"</span>       )
                          ( 34 139  34 <span class='literal'>"forestgreen"</span>         )
                          ( 46 139  87 <span class='literal'>"seagreen"</span>            )
                          ( 47  79  79 <span class='literal'>"darkslategray"</span>       )
                          ( 47  79  79 <span class='literal'>"darkslategrey"</span>       )
                          ( 50 205  50 <span class='literal'>"limegreen"</span>           )
                          ( 60 179 113 <span class='literal'>"mediumseagreen"</span>      )
                          ( 64 224 208 <span class='literal'>"turquoise"</span>           )
                          ( 65 105 225 <span class='literal'>"royalblue"</span>           )
                          ( 70 130 180 <span class='literal'>"steelblue"</span>           )
                          ( 72  61 139 <span class='literal'>"darkslateblue"</span>       )
                          ( 72 209 204 <span class='literal'>"mediumturquoise"</span>     )
                          ( 75   0 130 <span class='literal'>"indigo"</span>              )
                          ( 85 107  47 <span class='literal'>"darkolivegreen"</span>      )
                          ( 95 158 160 <span class='literal'>"cadetblue"</span>           )
                          (100 149 237 <span class='literal'>"cornflowerblue"</span>      )
                          (102 205 170 <span class='literal'>"mediumaquamarine"</span>    )
                          (105 105 105 <span class='literal'>"dimgray"</span>             )
                          (105 105 105 <span class='literal'>"dimgrey"</span>             )
                          (106  90 205 <span class='literal'>"slateblue"</span>           )
                          (107 142  35 <span class='literal'>"olivedrab"</span>           )
                          (112 128 144 <span class='literal'>"slategray"</span>           )
                          (112 128 144 <span class='literal'>"slategrey"</span>           )
                          (119 136 153 <span class='literal'>"lightslategray"</span>      )
                          (119 136 153 <span class='literal'>"lightslategrey"</span>      )
                          (123 104 238 <span class='literal'>"mediumslateblue"</span>     )
                          (124 252   0 <span class='literal'>"lawngreen"</span>           )
                          (127 255   0 <span class='literal'>"chartreuse"</span>          )
                          (127 255 212 <span class='literal'>"aquamarine"</span>          )
                          (128   0   0 <span class='literal'>"maroon"</span>              )
                          (128   0 128 <span class='literal'>"purple"</span>              )
                          (128 128   0 <span class='literal'>"olive"</span>               )
                          (128 128 128 <span class='literal'>"gray"</span>                )
                          (128 128 128 <span class='literal'>"grey"</span>                )
                          (135 206 235 <span class='literal'>"skyblue"</span>             )
                          (135 206 250 <span class='literal'>"lightskyblue"</span>        )
                          (138  43 226 <span class='literal'>"blueviolet"</span>          )
                          (139   0   0 <span class='literal'>"darkred"</span>             )
                          (139   0 139 <span class='literal'>"darkmagenta"</span>         )
                          (139  69  19 <span class='literal'>"saddlebrown"</span>         )
                          (143 188 143 <span class='literal'>"darkseagreen"</span>        )
                          (144 238 144 <span class='literal'>"lightgreen"</span>          )
                          (147 112 219 <span class='literal'>"mediumpurple"</span>        )
                          (148   0 211 <span class='literal'>"darkviolet"</span>          )
                          (152 251 152 <span class='literal'>"palegreen"</span>           )
                          (153  50 204 <span class='literal'>"darkorchid"</span>          )
                          (154 205  50 <span class='literal'>"yellowgreen"</span>         )
                          (160  82  45 <span class='literal'>"sienna"</span>              )
                          (165  42  42 <span class='literal'>"brown"</span>               )
                          (169 169 169 <span class='literal'>"darkgray"</span>            )
                          (169 169 169 <span class='literal'>"darkgrey"</span>            )
                          (173 216 230 <span class='literal'>"lightblue"</span>           )
                          (173 255  47 <span class='literal'>"greenyellow"</span>         )
                          (175 238 238 <span class='literal'>"paleturquoise"</span>       )
                          (176 196 222 <span class='literal'>"lightsteelblue"</span>      )
                          (176 224 230 <span class='literal'>"powderblue"</span>          )
                          (178  34  34 <span class='literal'>"firebrick"</span>           )
                          (184 134  11 <span class='literal'>"darkgoldenrod"</span>       )
                          (186  85 211 <span class='literal'>"mediumorchid"</span>        )
                          (188 143 143 <span class='literal'>"rosybrown"</span>           )
                          (189 183 107 <span class='literal'>"darkkhaki"</span>           )
                          (192 192 192 <span class='literal'>"silver"</span>              )
                          (199  21 133 <span class='literal'>"mediumvioletred"</span>     )
                          (205  92  92 <span class='literal'>"indianred"</span>           )
                          (205 133  63 <span class='literal'>"peru"</span>                )
                          (210 105  30 <span class='literal'>"chocolate"</span>           )
                          (210 180 140 <span class='literal'>"tan"</span>                 )
                          (211 211 211 <span class='literal'>"lightgray"</span>           )
                          (211 211 211 <span class='literal'>"lightgrey"</span>           )
                          (216 191 216 <span class='literal'>"thistle"</span>             )
                          (218 112 214 <span class='literal'>"orchid"</span>              )
                          (218 165  32 <span class='literal'>"goldenrod"</span>           )
                          (219 112 147 <span class='literal'>"palevioletred"</span>       )
                          (220  20  60 <span class='literal'>"crimson"</span>             )
                          (220 220 220 <span class='literal'>"gainsboro"</span>           )
                          (221 160 221 <span class='literal'>"plum"</span>                )
                          (222 184 135 <span class='literal'>"burlywood"</span>           )
                          (224 255 255 <span class='literal'>"lightcyan"</span>           )
                          (230 230 250 <span class='literal'>"lavender"</span>            )
                          (233 150 122 <span class='literal'>"darksalmon"</span>          )
                          (238 130 238 <span class='literal'>"violet"</span>              )
                          (238 232 170 <span class='literal'>"palegoldenrod"</span>       )
                          (240 128 128 <span class='literal'>"lightcoral"</span>          )
                          (240 230 140 <span class='literal'>"khaki"</span>               )
                          (240 248 255 <span class='literal'>"aliceblue"</span>           )
                          (240 255 240 <span class='literal'>"honeydew"</span>            )
                          (240 255 255 <span class='literal'>"azure"</span>               )
                          (244 164  96 <span class='literal'>"sandybrown"</span>          )
                          (245 222 179 <span class='literal'>"wheat"</span>               )
                          (245 245 220 <span class='literal'>"beige"</span>               )
                          (245 245 245 <span class='literal'>"whitesmoke"</span>          )
                          (245 255 250 <span class='literal'>"mintcream"</span>           )
                          (248 248 255 <span class='literal'>"ghostwhite"</span>          )
                          (250 128 114 <span class='literal'>"salmon"</span>              )
                          (250 235 215 <span class='literal'>"antiquewhite"</span>        )
                          (250 240 230 <span class='literal'>"linen"</span>               )
                          (250 250 210 <span class='literal'>"lightgoldenrodyellow"</span>)
                          (253 245 230 <span class='literal'>"oldlace"</span>             )
                          (255   0   0 <span class='literal'>"red"</span>                 )
                          (255   0 255 <span class='literal'>"fuchsia"</span>             )
                          (255   0 255 <span class='literal'>"magenta"</span>             )
                          (255  20 147 <span class='literal'>"deeppink"</span>            )
                          (255  69   0 <span class='literal'>"orangered"</span>           )
                          (255  99  71 <span class='literal'>"tomato"</span>              )
                          (255 105 180 <span class='literal'>"hotpink"</span>             )
                          (255 127  80 <span class='literal'>"coral"</span>               )
                          (255 140   0 <span class='literal'>"darkorange"</span>          )
                          (255 160 122 <span class='literal'>"lightsalmon"</span>         )
                          (255 165   0 <span class='literal'>"orange"</span>              )
                          (255 182 193 <span class='literal'>"lightpink"</span>           )
                          (255 192 203 <span class='literal'>"pink"</span>                )
                          (255 215   0 <span class='literal'>"gold"</span>                )
                          (255 218 185 <span class='literal'>"peachpuff"</span>           )
                          (255 222 173 <span class='literal'>"navajowhite"</span>         )
                          (255 228 181 <span class='literal'>"moccasin"</span>            )
                          (255 228 196 <span class='literal'>"bisque"</span>              )
                          (255 228 225 <span class='literal'>"mistyrose"</span>           )
                          (255 235 205 <span class='literal'>"blanchedalmond"</span>      )
                          (255 239 213 <span class='literal'>"papayawhip"</span>          )
                          (255 240 245 <span class='literal'>"lavenderblush"</span>       )
                          (255 245 238 <span class='literal'>"seashell"</span>            )
                          (255 248 220 <span class='literal'>"cornsilk"</span>            )
                          (255 250 205 <span class='literal'>"lemonchiffon"</span>        )
                          (255 250 240 <span class='literal'>"floralwhite"</span>         )
                          (255 250 250 <span class='literal'>"snow"</span>                )
                          (255 255   0 <span class='literal'>"yellow"</span>              )
                          (255 255 224 <span class='literal'>"lightyellow"</span>         )
                          (255 255 240 <span class='literal'>"ivory"</span>               )
                          (255 255 255 <span class='literal'>"white"</span>               ))))))))
</pre>
</details>
<p>　　</p>
<p>　kaavio では、上記に加えて以下の名前も使用することができます。これらは規格に含まれていないため、 <code>#RRGGBB</code> 形式に変換されて出力されます<sup><a name='footnote_ref17' href='#footnote17'>17</a></sup>。</p>
<div align='center'>
<?xml version='1.0' encoding='utf-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' xml:space='default' width='760' height='2140'>
	
	<rect x='0' y='0' width='760' height='2140' fill='white' stroke='none' />
	<!-- rectangle -->
	<rect x='7.5' y='12.5' width='15' height='15' fill='#FFEFDB' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='24' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFEFDB:antiquewhite1</text>
	<!-- rectangle -->
	<rect x='7.5' y='32.5' width='15' height='15' fill='#EEDFCC' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='44' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EEDFCC:antiquewhite2</text>
	<!-- rectangle -->
	<rect x='7.5' y='52.5' width='15' height='15' fill='#CDC0B0' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='64' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CDC0B0:antiquewhite3</text>
	<!-- rectangle -->
	<rect x='7.5' y='72.5' width='15' height='15' fill='#8B8378' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='84' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B8378:antiquewhite4</text>
	<!-- rectangle -->
	<rect x='7.5' y='92.5' width='15' height='15' fill='#7FFFD4' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='104' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#7FFFD4:aquamarine1</text>
	<!-- rectangle -->
	<rect x='7.5' y='112.5' width='15' height='15' fill='#76EEC6' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='124' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#76EEC6:aquamarine2</text>
	<!-- rectangle -->
	<rect x='7.5' y='132.5' width='15' height='15' fill='#66CDAA' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='144' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#66CDAA:aquamarine3</text>
	<!-- rectangle -->
	<rect x='7.5' y='152.5' width='15' height='15' fill='#458B74' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='164' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#458B74:aquamarine4</text>
	<!-- rectangle -->
	<rect x='7.5' y='172.5' width='15' height='15' fill='#F0FFFF' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='184' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#F0FFFF:azure1</text>
	<!-- rectangle -->
	<rect x='7.5' y='192.5' width='15' height='15' fill='#E0EEEE' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='204' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#E0EEEE:azure2</text>
	<!-- rectangle -->
	<rect x='7.5' y='212.5' width='15' height='15' fill='#C1CDCD' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='224' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#C1CDCD:azure3</text>
	<!-- rectangle -->
	<rect x='7.5' y='232.5' width='15' height='15' fill='#838B8B' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='244' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#838B8B:azure4</text>
	<!-- rectangle -->
	<rect x='7.5' y='252.5' width='15' height='15' fill='#FFE4C4' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='264' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFE4C4:bisque1</text>
	<!-- rectangle -->
	<rect x='7.5' y='272.5' width='15' height='15' fill='#EED5B7' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='284' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EED5B7:bisque2</text>
	<!-- rectangle -->
	<rect x='7.5' y='292.5' width='15' height='15' fill='#CDB79E' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='304' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CDB79E:bisque3</text>
	<!-- rectangle -->
	<rect x='7.5' y='312.5' width='15' height='15' fill='#8B7D6B' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='324' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B7D6B:bisque4</text>
	<!-- rectangle -->
	<rect x='7.5' y='332.5' width='15' height='15' fill='#0000FF' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='344' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#0000FF:blue1</text>
	<!-- rectangle -->
	<rect x='7.5' y='352.5' width='15' height='15' fill='#0000EE' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='364' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#0000EE:blue2</text>
	<!-- rectangle -->
	<rect x='7.5' y='372.5' width='15' height='15' fill='#0000CD' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='384' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#0000CD:blue3</text>
	<!-- rectangle -->
	<rect x='7.5' y='392.5' width='15' height='15' fill='#00008B' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='404' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#00008B:blue4</text>
	<!-- rectangle -->
	<rect x='7.5' y='412.5' width='15' height='15' fill='#FF4040' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='424' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FF4040:brown1</text>
	<!-- rectangle -->
	<rect x='7.5' y='432.5' width='15' height='15' fill='#EE3B3B' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='444' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EE3B3B:brown2</text>
	<!-- rectangle -->
	<rect x='7.5' y='452.5' width='15' height='15' fill='#CD3333' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='464' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CD3333:brown3</text>
	<!-- rectangle -->
	<rect x='7.5' y='472.5' width='15' height='15' fill='#8B2323' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='484' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B2323:brown4</text>
	<!-- rectangle -->
	<rect x='7.5' y='492.5' width='15' height='15' fill='#FFD39B' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='504' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFD39B:burlywood1</text>
	<!-- rectangle -->
	<rect x='7.5' y='512.5' width='15' height='15' fill='#EEC591' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='524' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EEC591:burlywood2</text>
	<!-- rectangle -->
	<rect x='7.5' y='532.5' width='15' height='15' fill='#CDAA7D' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='544' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CDAA7D:burlywood3</text>
	<!-- rectangle -->
	<rect x='7.5' y='552.5' width='15' height='15' fill='#8B7355' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='564' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B7355:burlywood4</text>
	<!-- rectangle -->
	<rect x='7.5' y='572.5' width='15' height='15' fill='#98F5FF' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='584' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#98F5FF:cadetblue1</text>
	<!-- rectangle -->
	<rect x='7.5' y='592.5' width='15' height='15' fill='#8EE5EE' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='604' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8EE5EE:cadetblue2</text>
	<!-- rectangle -->
	<rect x='7.5' y='612.5' width='15' height='15' fill='#7AC5CD' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='624' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#7AC5CD:cadetblue3</text>
	<!-- rectangle -->
	<rect x='7.5' y='632.5' width='15' height='15' fill='#53868B' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='644' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#53868B:cadetblue4</text>
	<!-- rectangle -->
	<rect x='7.5' y='652.5' width='15' height='15' fill='#7FFF00' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='664' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#7FFF00:chartreuse1</text>
	<!-- rectangle -->
	<rect x='7.5' y='672.5' width='15' height='15' fill='#76EE00' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='684' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#76EE00:chartreuse2</text>
	<!-- rectangle -->
	<rect x='7.5' y='692.5' width='15' height='15' fill='#66CD00' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='704' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#66CD00:chartreuse3</text>
	<!-- rectangle -->
	<rect x='7.5' y='712.5' width='15' height='15' fill='#458B00' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='724' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#458B00:chartreuse4</text>
	<!-- rectangle -->
	<rect x='7.5' y='732.5' width='15' height='15' fill='#FF7F24' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='744' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FF7F24:chocolate1</text>
	<!-- rectangle -->
	<rect x='7.5' y='752.5' width='15' height='15' fill='#EE7621' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='764' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EE7621:chocolate2</text>
	<!-- rectangle -->
	<rect x='7.5' y='772.5' width='15' height='15' fill='#CD661D' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='784' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CD661D:chocolate3</text>
	<!-- rectangle -->
	<rect x='7.5' y='792.5' width='15' height='15' fill='#8B4513' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='804' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B4513:chocolate4</text>
	<!-- rectangle -->
	<rect x='7.5' y='812.5' width='15' height='15' fill='#FF7256' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='824' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FF7256:coral1</text>
	<!-- rectangle -->
	<rect x='7.5' y='832.5' width='15' height='15' fill='#EE6A50' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='844' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EE6A50:coral2</text>
	<!-- rectangle -->
	<rect x='7.5' y='852.5' width='15' height='15' fill='#CD5B45' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='864' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CD5B45:coral3</text>
	<!-- rectangle -->
	<rect x='7.5' y='872.5' width='15' height='15' fill='#8B3E2F' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='884' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B3E2F:coral4</text>
	<!-- rectangle -->
	<rect x='7.5' y='892.5' width='15' height='15' fill='#FFF8DC' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='904' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFF8DC:cornsilk1</text>
	<!-- rectangle -->
	<rect x='7.5' y='912.5' width='15' height='15' fill='#EEE8CD' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='924' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EEE8CD:cornsilk2</text>
	<!-- rectangle -->
	<rect x='7.5' y='932.5' width='15' height='15' fill='#CDC8B1' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='944' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CDC8B1:cornsilk3</text>
	<!-- rectangle -->
	<rect x='7.5' y='952.5' width='15' height='15' fill='#8B8878' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='964' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B8878:cornsilk4</text>
	<!-- rectangle -->
	<rect x='7.5' y='972.5' width='15' height='15' fill='#00FFFF' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='984' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#00FFFF:cyan1</text>
	<!-- rectangle -->
	<rect x='7.5' y='992.5' width='15' height='15' fill='#00EEEE' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1004' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#00EEEE:cyan2</text>
	<!-- rectangle -->
	<rect x='7.5' y='1012.5' width='15' height='15' fill='#00CDCD' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1024' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#00CDCD:cyan3</text>
	<!-- rectangle -->
	<rect x='7.5' y='1032.5' width='15' height='15' fill='#008B8B' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1044' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#008B8B:cyan4</text>
	<!-- rectangle -->
	<rect x='7.5' y='1052.5' width='15' height='15' fill='#FFB90F' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1064' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFB90F:darkgoldenrod1</text>
	<!-- rectangle -->
	<rect x='7.5' y='1072.5' width='15' height='15' fill='#EEAD0E' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1084' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EEAD0E:darkgoldenrod2</text>
	<!-- rectangle -->
	<rect x='7.5' y='1092.5' width='15' height='15' fill='#CD950C' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1104' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CD950C:darkgoldenrod3</text>
	<!-- rectangle -->
	<rect x='7.5' y='1112.5' width='15' height='15' fill='#8B6508' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1124' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B6508:darkgoldenrod4</text>
	<!-- rectangle -->
	<rect x='7.5' y='1132.5' width='15' height='15' fill='#CAFF70' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1144' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CAFF70:darkolivegreen1</text>
	<!-- rectangle -->
	<rect x='7.5' y='1152.5' width='15' height='15' fill='#BCEE68' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1164' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#BCEE68:darkolivegreen2</text>
	<!-- rectangle -->
	<rect x='7.5' y='1172.5' width='15' height='15' fill='#A2CD5A' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1184' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#A2CD5A:darkolivegreen3</text>
	<!-- rectangle -->
	<rect x='7.5' y='1192.5' width='15' height='15' fill='#6E8B3D' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1204' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#6E8B3D:darkolivegreen4</text>
	<!-- rectangle -->
	<rect x='7.5' y='1212.5' width='15' height='15' fill='#FF7F00' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1224' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FF7F00:darkorange1</text>
	<!-- rectangle -->
	<rect x='7.5' y='1232.5' width='15' height='15' fill='#EE7600' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1244' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EE7600:darkorange2</text>
	<!-- rectangle -->
	<rect x='7.5' y='1252.5' width='15' height='15' fill='#CD6600' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1264' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CD6600:darkorange3</text>
	<!-- rectangle -->
	<rect x='7.5' y='1272.5' width='15' height='15' fill='#8B4500' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1284' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B4500:darkorange4</text>
	<!-- rectangle -->
	<rect x='7.5' y='1292.5' width='15' height='15' fill='#BF3EFF' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1304' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#BF3EFF:darkorchid1</text>
	<!-- rectangle -->
	<rect x='7.5' y='1312.5' width='15' height='15' fill='#B23AEE' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1324' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#B23AEE:darkorchid2</text>
	<!-- rectangle -->
	<rect x='7.5' y='1332.5' width='15' height='15' fill='#9A32CD' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1344' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#9A32CD:darkorchid3</text>
	<!-- rectangle -->
	<rect x='7.5' y='1352.5' width='15' height='15' fill='#68228B' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1364' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#68228B:darkorchid4</text>
	<!-- rectangle -->
	<rect x='7.5' y='1372.5' width='15' height='15' fill='#C1FFC1' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1384' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#C1FFC1:darkseagreen1</text>
	<!-- rectangle -->
	<rect x='7.5' y='1392.5' width='15' height='15' fill='#B4EEB4' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1404' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#B4EEB4:darkseagreen2</text>
	<!-- rectangle -->
	<rect x='7.5' y='1412.5' width='15' height='15' fill='#9BCD9B' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1424' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#9BCD9B:darkseagreen3</text>
	<!-- rectangle -->
	<rect x='7.5' y='1432.5' width='15' height='15' fill='#698B69' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1444' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#698B69:darkseagreen4</text>
	<!-- rectangle -->
	<rect x='7.5' y='1452.5' width='15' height='15' fill='#97FFFF' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1464' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#97FFFF:darkslategray1</text>
	<!-- rectangle -->
	<rect x='7.5' y='1472.5' width='15' height='15' fill='#8DEEEE' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1484' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8DEEEE:darkslategray2</text>
	<!-- rectangle -->
	<rect x='7.5' y='1492.5' width='15' height='15' fill='#79CDCD' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1504' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#79CDCD:darkslategray3</text>
	<!-- rectangle -->
	<rect x='7.5' y='1512.5' width='15' height='15' fill='#528B8B' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1524' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#528B8B:darkslategray4</text>
	<!-- rectangle -->
	<rect x='7.5' y='1532.5' width='15' height='15' fill='#FF1493' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1544' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FF1493:deeppink1</text>
	<!-- rectangle -->
	<rect x='7.5' y='1552.5' width='15' height='15' fill='#EE1289' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1564' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EE1289:deeppink2</text>
	<!-- rectangle -->
	<rect x='7.5' y='1572.5' width='15' height='15' fill='#CD1076' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1584' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CD1076:deeppink3</text>
	<!-- rectangle -->
	<rect x='7.5' y='1592.5' width='15' height='15' fill='#8B0A50' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1604' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B0A50:deeppink4</text>
	<!-- rectangle -->
	<rect x='7.5' y='1612.5' width='15' height='15' fill='#00BFFF' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1624' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#00BFFF:deepskyblue1</text>
	<!-- rectangle -->
	<rect x='7.5' y='1632.5' width='15' height='15' fill='#00B2EE' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1644' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#00B2EE:deepskyblue2</text>
	<!-- rectangle -->
	<rect x='7.5' y='1652.5' width='15' height='15' fill='#009ACD' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1664' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#009ACD:deepskyblue3</text>
	<!-- rectangle -->
	<rect x='7.5' y='1672.5' width='15' height='15' fill='#00688B' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1684' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#00688B:deepskyblue4</text>
	<!-- rectangle -->
	<rect x='7.5' y='1692.5' width='15' height='15' fill='#1E90FF' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1704' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#1E90FF:dodgerblue1</text>
	<!-- rectangle -->
	<rect x='7.5' y='1712.5' width='15' height='15' fill='#1C86EE' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1724' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#1C86EE:dodgerblue2</text>
	<!-- rectangle -->
	<rect x='7.5' y='1732.5' width='15' height='15' fill='#1874CD' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1744' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#1874CD:dodgerblue3</text>
	<!-- rectangle -->
	<rect x='7.5' y='1752.5' width='15' height='15' fill='#104E8B' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1764' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#104E8B:dodgerblue4</text>
	<!-- rectangle -->
	<rect x='7.5' y='1772.5' width='15' height='15' fill='#FF3030' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1784' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FF3030:firebrick1</text>
	<!-- rectangle -->
	<rect x='7.5' y='1792.5' width='15' height='15' fill='#EE2C2C' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1804' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EE2C2C:firebrick2</text>
	<!-- rectangle -->
	<rect x='7.5' y='1812.5' width='15' height='15' fill='#CD2626' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1824' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CD2626:firebrick3</text>
	<!-- rectangle -->
	<rect x='7.5' y='1832.5' width='15' height='15' fill='#8B1A1A' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1844' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B1A1A:firebrick4</text>
	<!-- rectangle -->
	<rect x='7.5' y='1852.5' width='15' height='15' fill='#FFD700' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1864' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFD700:gold1</text>
	<!-- rectangle -->
	<rect x='7.5' y='1872.5' width='15' height='15' fill='#EEC900' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1884' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EEC900:gold2</text>
	<!-- rectangle -->
	<rect x='7.5' y='1892.5' width='15' height='15' fill='#CDAD00' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1904' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CDAD00:gold3</text>
	<!-- rectangle -->
	<rect x='7.5' y='1912.5' width='15' height='15' fill='#8B7500' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1924' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B7500:gold4</text>
	<!-- rectangle -->
	<rect x='7.5' y='1932.5' width='15' height='15' fill='#FFC125' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1944' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFC125:goldenrod1</text>
	<!-- rectangle -->
	<rect x='7.5' y='1952.5' width='15' height='15' fill='#EEB422' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1964' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EEB422:goldenrod2</text>
	<!-- rectangle -->
	<rect x='7.5' y='1972.5' width='15' height='15' fill='#CD9B1D' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='1984' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CD9B1D:goldenrod3</text>
	<!-- rectangle -->
	<rect x='7.5' y='1992.5' width='15' height='15' fill='#8B6914' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='2004' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B6914:goldenrod4</text>
	<!-- rectangle -->
	<rect x='7.5' y='2012.5' width='15' height='15' fill='#00FF00' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='2024' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#00FF00:green</text>
	<!-- rectangle -->
	<rect x='7.5' y='2032.5' width='15' height='15' fill='#00FF00' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='2044' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#00FF00:green1</text>
	<!-- rectangle -->
	<rect x='7.5' y='2052.5' width='15' height='15' fill='#00EE00' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='2064' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#00EE00:green2</text>
	<!-- rectangle -->
	<rect x='7.5' y='2072.5' width='15' height='15' fill='#00CD00' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='2084' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#00CD00:green3</text>
	<!-- rectangle -->
	<rect x='7.5' y='2092.5' width='15' height='15' fill='#008B00' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='2104' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#008B00:green4</text>
	<!-- rectangle -->
	<rect x='7.5' y='2112.5' width='15' height='15' fill='#BEBEBE' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='25' y='2124' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#BEBEBE:grey</text>
	<!-- rectangle -->
	<rect x='197.5' y='12.5' width='15' height='15' fill='#000000' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='24' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#000000:grey0</text>
	<!-- rectangle -->
	<rect x='197.5' y='32.5' width='15' height='15' fill='#030303' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='44' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#030303:grey1</text>
	<!-- rectangle -->
	<rect x='197.5' y='52.5' width='15' height='15' fill='#050505' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='64' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#050505:grey2</text>
	<!-- rectangle -->
	<rect x='197.5' y='72.5' width='15' height='15' fill='#080808' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='84' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#080808:grey3</text>
	<!-- rectangle -->
	<rect x='197.5' y='92.5' width='15' height='15' fill='#0A0A0A' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='104' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#0A0A0A:grey4</text>
	<!-- rectangle -->
	<rect x='197.5' y='112.5' width='15' height='15' fill='#0D0D0D' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='124' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#0D0D0D:grey5</text>
	<!-- rectangle -->
	<rect x='197.5' y='132.5' width='15' height='15' fill='#0F0F0F' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='144' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#0F0F0F:grey6</text>
	<!-- rectangle -->
	<rect x='197.5' y='152.5' width='15' height='15' fill='#121212' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='164' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#121212:grey7</text>
	<!-- rectangle -->
	<rect x='197.5' y='172.5' width='15' height='15' fill='#141414' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='184' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#141414:grey8</text>
	<!-- rectangle -->
	<rect x='197.5' y='192.5' width='15' height='15' fill='#171717' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='204' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#171717:grey9</text>
	<!-- rectangle -->
	<rect x='197.5' y='212.5' width='15' height='15' fill='#1A1A1A' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='224' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#1A1A1A:grey10</text>
	<!-- rectangle -->
	<rect x='197.5' y='232.5' width='15' height='15' fill='#1C1C1C' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='244' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#1C1C1C:grey11</text>
	<!-- rectangle -->
	<rect x='197.5' y='252.5' width='15' height='15' fill='#1F1F1F' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='264' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#1F1F1F:grey12</text>
	<!-- rectangle -->
	<rect x='197.5' y='272.5' width='15' height='15' fill='#212121' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='284' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#212121:grey13</text>
	<!-- rectangle -->
	<rect x='197.5' y='292.5' width='15' height='15' fill='#242424' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='304' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#242424:grey14</text>
	<!-- rectangle -->
	<rect x='197.5' y='312.5' width='15' height='15' fill='#262626' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='324' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#262626:grey15</text>
	<!-- rectangle -->
	<rect x='197.5' y='332.5' width='15' height='15' fill='#292929' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='344' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#292929:grey16</text>
	<!-- rectangle -->
	<rect x='197.5' y='352.5' width='15' height='15' fill='#2B2B2B' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='364' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#2B2B2B:grey17</text>
	<!-- rectangle -->
	<rect x='197.5' y='372.5' width='15' height='15' fill='#2E2E2E' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='384' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#2E2E2E:grey18</text>
	<!-- rectangle -->
	<rect x='197.5' y='392.5' width='15' height='15' fill='#303030' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='404' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#303030:grey19</text>
	<!-- rectangle -->
	<rect x='197.5' y='412.5' width='15' height='15' fill='#333333' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='424' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#333333:grey20</text>
	<!-- rectangle -->
	<rect x='197.5' y='432.5' width='15' height='15' fill='#363636' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='444' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#363636:grey21</text>
	<!-- rectangle -->
	<rect x='197.5' y='452.5' width='15' height='15' fill='#383838' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='464' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#383838:grey22</text>
	<!-- rectangle -->
	<rect x='197.5' y='472.5' width='15' height='15' fill='#3B3B3B' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='484' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#3B3B3B:grey23</text>
	<!-- rectangle -->
	<rect x='197.5' y='492.5' width='15' height='15' fill='#3D3D3D' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='504' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#3D3D3D:grey24</text>
	<!-- rectangle -->
	<rect x='197.5' y='512.5' width='15' height='15' fill='#404040' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='524' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#404040:grey25</text>
	<!-- rectangle -->
	<rect x='197.5' y='532.5' width='15' height='15' fill='#424242' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='544' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#424242:grey26</text>
	<!-- rectangle -->
	<rect x='197.5' y='552.5' width='15' height='15' fill='#454545' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='564' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#454545:grey27</text>
	<!-- rectangle -->
	<rect x='197.5' y='572.5' width='15' height='15' fill='#474747' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='584' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#474747:grey28</text>
	<!-- rectangle -->
	<rect x='197.5' y='592.5' width='15' height='15' fill='#4A4A4A' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='604' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#4A4A4A:grey29</text>
	<!-- rectangle -->
	<rect x='197.5' y='612.5' width='15' height='15' fill='#4D4D4D' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='624' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#4D4D4D:grey30</text>
	<!-- rectangle -->
	<rect x='197.5' y='632.5' width='15' height='15' fill='#4F4F4F' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='644' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#4F4F4F:grey31</text>
	<!-- rectangle -->
	<rect x='197.5' y='652.5' width='15' height='15' fill='#525252' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='664' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#525252:grey32</text>
	<!-- rectangle -->
	<rect x='197.5' y='672.5' width='15' height='15' fill='#545454' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='684' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#545454:grey33</text>
	<!-- rectangle -->
	<rect x='197.5' y='692.5' width='15' height='15' fill='#575757' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='704' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#575757:grey34</text>
	<!-- rectangle -->
	<rect x='197.5' y='712.5' width='15' height='15' fill='#595959' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='724' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#595959:grey35</text>
	<!-- rectangle -->
	<rect x='197.5' y='732.5' width='15' height='15' fill='#5C5C5C' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='744' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#5C5C5C:grey36</text>
	<!-- rectangle -->
	<rect x='197.5' y='752.5' width='15' height='15' fill='#5E5E5E' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='764' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#5E5E5E:grey37</text>
	<!-- rectangle -->
	<rect x='197.5' y='772.5' width='15' height='15' fill='#616161' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='784' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#616161:grey38</text>
	<!-- rectangle -->
	<rect x='197.5' y='792.5' width='15' height='15' fill='#636363' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='804' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#636363:grey39</text>
	<!-- rectangle -->
	<rect x='197.5' y='812.5' width='15' height='15' fill='#666666' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='824' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#666666:grey40</text>
	<!-- rectangle -->
	<rect x='197.5' y='832.5' width='15' height='15' fill='#696969' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='844' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#696969:grey41</text>
	<!-- rectangle -->
	<rect x='197.5' y='852.5' width='15' height='15' fill='#6B6B6B' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='864' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#6B6B6B:grey42</text>
	<!-- rectangle -->
	<rect x='197.5' y='872.5' width='15' height='15' fill='#6E6E6E' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='884' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#6E6E6E:grey43</text>
	<!-- rectangle -->
	<rect x='197.5' y='892.5' width='15' height='15' fill='#707070' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='904' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#707070:grey44</text>
	<!-- rectangle -->
	<rect x='197.5' y='912.5' width='15' height='15' fill='#737373' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='924' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#737373:grey45</text>
	<!-- rectangle -->
	<rect x='197.5' y='932.5' width='15' height='15' fill='#757575' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='944' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#757575:grey46</text>
	<!-- rectangle -->
	<rect x='197.5' y='952.5' width='15' height='15' fill='#787878' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='964' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#787878:grey47</text>
	<!-- rectangle -->
	<rect x='197.5' y='972.5' width='15' height='15' fill='#7A7A7A' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='984' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#7A7A7A:grey48</text>
	<!-- rectangle -->
	<rect x='197.5' y='992.5' width='15' height='15' fill='#7D7D7D' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1004' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#7D7D7D:grey49</text>
	<!-- rectangle -->
	<rect x='197.5' y='1012.5' width='15' height='15' fill='#7F7F7F' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1024' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#7F7F7F:grey50</text>
	<!-- rectangle -->
	<rect x='197.5' y='1032.5' width='15' height='15' fill='#828282' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1044' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#828282:grey51</text>
	<!-- rectangle -->
	<rect x='197.5' y='1052.5' width='15' height='15' fill='#858585' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1064' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#858585:grey52</text>
	<!-- rectangle -->
	<rect x='197.5' y='1072.5' width='15' height='15' fill='#878787' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1084' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#878787:grey53</text>
	<!-- rectangle -->
	<rect x='197.5' y='1092.5' width='15' height='15' fill='#8A8A8A' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1104' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8A8A8A:grey54</text>
	<!-- rectangle -->
	<rect x='197.5' y='1112.5' width='15' height='15' fill='#8C8C8C' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1124' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8C8C8C:grey55</text>
	<!-- rectangle -->
	<rect x='197.5' y='1132.5' width='15' height='15' fill='#8F8F8F' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1144' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8F8F8F:grey56</text>
	<!-- rectangle -->
	<rect x='197.5' y='1152.5' width='15' height='15' fill='#919191' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1164' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#919191:grey57</text>
	<!-- rectangle -->
	<rect x='197.5' y='1172.5' width='15' height='15' fill='#949494' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1184' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#949494:grey58</text>
	<!-- rectangle -->
	<rect x='197.5' y='1192.5' width='15' height='15' fill='#969696' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1204' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#969696:grey59</text>
	<!-- rectangle -->
	<rect x='197.5' y='1212.5' width='15' height='15' fill='#999999' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1224' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#999999:grey60</text>
	<!-- rectangle -->
	<rect x='197.5' y='1232.5' width='15' height='15' fill='#9C9C9C' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1244' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#9C9C9C:grey61</text>
	<!-- rectangle -->
	<rect x='197.5' y='1252.5' width='15' height='15' fill='#9E9E9E' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1264' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#9E9E9E:grey62</text>
	<!-- rectangle -->
	<rect x='197.5' y='1272.5' width='15' height='15' fill='#A1A1A1' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1284' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#A1A1A1:grey63</text>
	<!-- rectangle -->
	<rect x='197.5' y='1292.5' width='15' height='15' fill='#A3A3A3' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1304' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#A3A3A3:grey64</text>
	<!-- rectangle -->
	<rect x='197.5' y='1312.5' width='15' height='15' fill='#A6A6A6' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1324' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#A6A6A6:grey65</text>
	<!-- rectangle -->
	<rect x='197.5' y='1332.5' width='15' height='15' fill='#A8A8A8' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1344' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#A8A8A8:grey66</text>
	<!-- rectangle -->
	<rect x='197.5' y='1352.5' width='15' height='15' fill='#ABABAB' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1364' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#ABABAB:grey67</text>
	<!-- rectangle -->
	<rect x='197.5' y='1372.5' width='15' height='15' fill='#ADADAD' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1384' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#ADADAD:grey68</text>
	<!-- rectangle -->
	<rect x='197.5' y='1392.5' width='15' height='15' fill='#B0B0B0' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1404' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#B0B0B0:grey69</text>
	<!-- rectangle -->
	<rect x='197.5' y='1412.5' width='15' height='15' fill='#B3B3B3' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1424' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#B3B3B3:grey70</text>
	<!-- rectangle -->
	<rect x='197.5' y='1432.5' width='15' height='15' fill='#B5B5B5' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1444' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#B5B5B5:grey71</text>
	<!-- rectangle -->
	<rect x='197.5' y='1452.5' width='15' height='15' fill='#B8B8B8' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1464' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#B8B8B8:grey72</text>
	<!-- rectangle -->
	<rect x='197.5' y='1472.5' width='15' height='15' fill='#BABABA' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1484' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#BABABA:grey73</text>
	<!-- rectangle -->
	<rect x='197.5' y='1492.5' width='15' height='15' fill='#BDBDBD' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1504' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#BDBDBD:grey74</text>
	<!-- rectangle -->
	<rect x='197.5' y='1512.5' width='15' height='15' fill='#BFBFBF' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1524' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#BFBFBF:grey75</text>
	<!-- rectangle -->
	<rect x='197.5' y='1532.5' width='15' height='15' fill='#C2C2C2' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1544' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#C2C2C2:grey76</text>
	<!-- rectangle -->
	<rect x='197.5' y='1552.5' width='15' height='15' fill='#C4C4C4' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1564' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#C4C4C4:grey77</text>
	<!-- rectangle -->
	<rect x='197.5' y='1572.5' width='15' height='15' fill='#C7C7C7' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1584' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#C7C7C7:grey78</text>
	<!-- rectangle -->
	<rect x='197.5' y='1592.5' width='15' height='15' fill='#C9C9C9' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1604' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#C9C9C9:grey79</text>
	<!-- rectangle -->
	<rect x='197.5' y='1612.5' width='15' height='15' fill='#CCCCCC' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1624' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CCCCCC:grey80</text>
	<!-- rectangle -->
	<rect x='197.5' y='1632.5' width='15' height='15' fill='#CFCFCF' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1644' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CFCFCF:grey81</text>
	<!-- rectangle -->
	<rect x='197.5' y='1652.5' width='15' height='15' fill='#D1D1D1' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1664' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#D1D1D1:grey82</text>
	<!-- rectangle -->
	<rect x='197.5' y='1672.5' width='15' height='15' fill='#D4D4D4' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1684' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#D4D4D4:grey83</text>
	<!-- rectangle -->
	<rect x='197.5' y='1692.5' width='15' height='15' fill='#D6D6D6' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1704' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#D6D6D6:grey84</text>
	<!-- rectangle -->
	<rect x='197.5' y='1712.5' width='15' height='15' fill='#D9D9D9' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1724' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#D9D9D9:grey85</text>
	<!-- rectangle -->
	<rect x='197.5' y='1732.5' width='15' height='15' fill='#DBDBDB' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1744' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#DBDBDB:grey86</text>
	<!-- rectangle -->
	<rect x='197.5' y='1752.5' width='15' height='15' fill='#DEDEDE' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1764' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#DEDEDE:grey87</text>
	<!-- rectangle -->
	<rect x='197.5' y='1772.5' width='15' height='15' fill='#E0E0E0' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1784' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#E0E0E0:grey88</text>
	<!-- rectangle -->
	<rect x='197.5' y='1792.5' width='15' height='15' fill='#E3E3E3' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1804' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#E3E3E3:grey89</text>
	<!-- rectangle -->
	<rect x='197.5' y='1812.5' width='15' height='15' fill='#E5E5E5' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1824' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#E5E5E5:grey90</text>
	<!-- rectangle -->
	<rect x='197.5' y='1832.5' width='15' height='15' fill='#E8E8E8' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1844' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#E8E8E8:grey91</text>
	<!-- rectangle -->
	<rect x='197.5' y='1852.5' width='15' height='15' fill='#EBEBEB' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1864' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EBEBEB:grey92</text>
	<!-- rectangle -->
	<rect x='197.5' y='1872.5' width='15' height='15' fill='#EDEDED' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1884' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EDEDED:grey93</text>
	<!-- rectangle -->
	<rect x='197.5' y='1892.5' width='15' height='15' fill='#F0F0F0' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1904' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#F0F0F0:grey94</text>
	<!-- rectangle -->
	<rect x='197.5' y='1912.5' width='15' height='15' fill='#F2F2F2' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1924' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#F2F2F2:grey95</text>
	<!-- rectangle -->
	<rect x='197.5' y='1932.5' width='15' height='15' fill='#F5F5F5' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1944' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#F5F5F5:grey96</text>
	<!-- rectangle -->
	<rect x='197.5' y='1952.5' width='15' height='15' fill='#F7F7F7' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1964' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#F7F7F7:grey97</text>
	<!-- rectangle -->
	<rect x='197.5' y='1972.5' width='15' height='15' fill='#FAFAFA' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='1984' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FAFAFA:grey98</text>
	<!-- rectangle -->
	<rect x='197.5' y='1992.5' width='15' height='15' fill='#FCFCFC' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='2004' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FCFCFC:grey99</text>
	<!-- rectangle -->
	<rect x='197.5' y='2012.5' width='15' height='15' fill='#FFFFFF' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='2024' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFFFFF:grey100</text>
	<!-- rectangle -->
	<rect x='197.5' y='2032.5' width='15' height='15' fill='#F0FFF0' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='2044' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#F0FFF0:honeydew1</text>
	<!-- rectangle -->
	<rect x='197.5' y='2052.5' width='15' height='15' fill='#E0EEE0' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='2064' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#E0EEE0:honeydew2</text>
	<!-- rectangle -->
	<rect x='197.5' y='2072.5' width='15' height='15' fill='#C1CDC1' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='2084' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#C1CDC1:honeydew3</text>
	<!-- rectangle -->
	<rect x='197.5' y='2092.5' width='15' height='15' fill='#838B83' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='2104' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#838B83:honeydew4</text>
	<!-- rectangle -->
	<rect x='197.5' y='2112.5' width='15' height='15' fill='#FF6EB4' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='215' y='2124' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FF6EB4:hotpink1</text>
	<!-- rectangle -->
	<rect x='387.5' y='12.5' width='15' height='15' fill='#EE6AA7' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='24' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EE6AA7:hotpink2</text>
	<!-- rectangle -->
	<rect x='387.5' y='32.5' width='15' height='15' fill='#CD6090' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='44' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CD6090:hotpink3</text>
	<!-- rectangle -->
	<rect x='387.5' y='52.5' width='15' height='15' fill='#8B3A62' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='64' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B3A62:hotpink4</text>
	<!-- rectangle -->
	<rect x='387.5' y='72.5' width='15' height='15' fill='#FF6A6A' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='84' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FF6A6A:indianred1</text>
	<!-- rectangle -->
	<rect x='387.5' y='92.5' width='15' height='15' fill='#EE6363' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='104' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EE6363:indianred2</text>
	<!-- rectangle -->
	<rect x='387.5' y='112.5' width='15' height='15' fill='#CD5555' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='124' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CD5555:indianred3</text>
	<!-- rectangle -->
	<rect x='387.5' y='132.5' width='15' height='15' fill='#8B3A3A' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='144' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B3A3A:indianred4</text>
	<!-- rectangle -->
	<rect x='387.5' y='152.5' width='15' height='15' fill='#FFFFF0' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='164' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFFFF0:ivory1</text>
	<!-- rectangle -->
	<rect x='387.5' y='172.5' width='15' height='15' fill='#EEEEE0' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='184' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EEEEE0:ivory2</text>
	<!-- rectangle -->
	<rect x='387.5' y='192.5' width='15' height='15' fill='#CDCDC1' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='204' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CDCDC1:ivory3</text>
	<!-- rectangle -->
	<rect x='387.5' y='212.5' width='15' height='15' fill='#8B8B83' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='224' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B8B83:ivory4</text>
	<!-- rectangle -->
	<rect x='387.5' y='232.5' width='15' height='15' fill='#FFF68F' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='244' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFF68F:khaki1</text>
	<!-- rectangle -->
	<rect x='387.5' y='252.5' width='15' height='15' fill='#EEE685' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='264' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EEE685:khaki2</text>
	<!-- rectangle -->
	<rect x='387.5' y='272.5' width='15' height='15' fill='#CDC673' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='284' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CDC673:khaki3</text>
	<!-- rectangle -->
	<rect x='387.5' y='292.5' width='15' height='15' fill='#8B864E' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='304' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B864E:khaki4</text>
	<!-- rectangle -->
	<rect x='387.5' y='312.5' width='15' height='15' fill='#FFF0F5' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='324' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFF0F5:lavenderblush1</text>
	<!-- rectangle -->
	<rect x='387.5' y='332.5' width='15' height='15' fill='#EEE0E5' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='344' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EEE0E5:lavenderblush2</text>
	<!-- rectangle -->
	<rect x='387.5' y='352.5' width='15' height='15' fill='#CDC1C5' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='364' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CDC1C5:lavenderblush3</text>
	<!-- rectangle -->
	<rect x='387.5' y='372.5' width='15' height='15' fill='#8B8386' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='384' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B8386:lavenderblush4</text>
	<!-- rectangle -->
	<rect x='387.5' y='392.5' width='15' height='15' fill='#FFFACD' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='404' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFFACD:lemonchiffon1</text>
	<!-- rectangle -->
	<rect x='387.5' y='412.5' width='15' height='15' fill='#EEE9BF' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='424' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EEE9BF:lemonchiffon2</text>
	<!-- rectangle -->
	<rect x='387.5' y='432.5' width='15' height='15' fill='#CDC9A5' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='444' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CDC9A5:lemonchiffon3</text>
	<!-- rectangle -->
	<rect x='387.5' y='452.5' width='15' height='15' fill='#8B8970' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='464' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B8970:lemonchiffon4</text>
	<!-- rectangle -->
	<rect x='387.5' y='472.5' width='15' height='15' fill='#BFEFFF' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='484' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#BFEFFF:lightblue1</text>
	<!-- rectangle -->
	<rect x='387.5' y='492.5' width='15' height='15' fill='#B2DFEE' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='504' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#B2DFEE:lightblue2</text>
	<!-- rectangle -->
	<rect x='387.5' y='512.5' width='15' height='15' fill='#9AC0CD' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='524' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#9AC0CD:lightblue3</text>
	<!-- rectangle -->
	<rect x='387.5' y='532.5' width='15' height='15' fill='#68838B' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='544' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#68838B:lightblue4</text>
	<!-- rectangle -->
	<rect x='387.5' y='552.5' width='15' height='15' fill='#E0FFFF' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='564' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#E0FFFF:lightcyan1</text>
	<!-- rectangle -->
	<rect x='387.5' y='572.5' width='15' height='15' fill='#D1EEEE' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='584' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#D1EEEE:lightcyan2</text>
	<!-- rectangle -->
	<rect x='387.5' y='592.5' width='15' height='15' fill='#B4CDCD' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='604' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#B4CDCD:lightcyan3</text>
	<!-- rectangle -->
	<rect x='387.5' y='612.5' width='15' height='15' fill='#7A8B8B' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='624' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#7A8B8B:lightcyan4</text>
	<!-- rectangle -->
	<rect x='387.5' y='632.5' width='15' height='15' fill='#EEDD82' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='644' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EEDD82:lightgoldenrod</text>
	<!-- rectangle -->
	<rect x='387.5' y='652.5' width='15' height='15' fill='#FFEC8B' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='664' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFEC8B:lightgoldenrod1</text>
	<!-- rectangle -->
	<rect x='387.5' y='672.5' width='15' height='15' fill='#EEDC82' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='684' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EEDC82:lightgoldenrod2</text>
	<!-- rectangle -->
	<rect x='387.5' y='692.5' width='15' height='15' fill='#CDBE70' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='704' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CDBE70:lightgoldenrod3</text>
	<!-- rectangle -->
	<rect x='387.5' y='712.5' width='15' height='15' fill='#8B814C' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='724' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B814C:lightgoldenrod4</text>
	<!-- rectangle -->
	<rect x='387.5' y='732.5' width='15' height='15' fill='#FFAEB9' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='744' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFAEB9:lightpink1</text>
	<!-- rectangle -->
	<rect x='387.5' y='752.5' width='15' height='15' fill='#EEA2AD' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='764' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EEA2AD:lightpink2</text>
	<!-- rectangle -->
	<rect x='387.5' y='772.5' width='15' height='15' fill='#CD8C95' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='784' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CD8C95:lightpink3</text>
	<!-- rectangle -->
	<rect x='387.5' y='792.5' width='15' height='15' fill='#8B5F65' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='804' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B5F65:lightpink4</text>
	<!-- rectangle -->
	<rect x='387.5' y='812.5' width='15' height='15' fill='#FFA07A' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='824' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFA07A:lightsalmon1</text>
	<!-- rectangle -->
	<rect x='387.5' y='832.5' width='15' height='15' fill='#EE9572' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='844' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EE9572:lightsalmon2</text>
	<!-- rectangle -->
	<rect x='387.5' y='852.5' width='15' height='15' fill='#CD8162' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='864' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CD8162:lightsalmon3</text>
	<!-- rectangle -->
	<rect x='387.5' y='872.5' width='15' height='15' fill='#8B5742' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='884' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B5742:lightsalmon4</text>
	<!-- rectangle -->
	<rect x='387.5' y='892.5' width='15' height='15' fill='#B0E2FF' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='904' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#B0E2FF:lightskyblue1</text>
	<!-- rectangle -->
	<rect x='387.5' y='912.5' width='15' height='15' fill='#A4D3EE' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='924' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#A4D3EE:lightskyblue2</text>
	<!-- rectangle -->
	<rect x='387.5' y='932.5' width='15' height='15' fill='#8DB6CD' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='944' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8DB6CD:lightskyblue3</text>
	<!-- rectangle -->
	<rect x='387.5' y='952.5' width='15' height='15' fill='#607B8B' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='964' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#607B8B:lightskyblue4</text>
	<!-- rectangle -->
	<rect x='387.5' y='972.5' width='15' height='15' fill='#8470FF' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='984' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8470FF:lightslateblue</text>
	<!-- rectangle -->
	<rect x='387.5' y='992.5' width='15' height='15' fill='#CAE1FF' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1004' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CAE1FF:lightsteelblue1</text>
	<!-- rectangle -->
	<rect x='387.5' y='1012.5' width='15' height='15' fill='#BCD2EE' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1024' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#BCD2EE:lightsteelblue2</text>
	<!-- rectangle -->
	<rect x='387.5' y='1032.5' width='15' height='15' fill='#A2B5CD' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1044' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#A2B5CD:lightsteelblue3</text>
	<!-- rectangle -->
	<rect x='387.5' y='1052.5' width='15' height='15' fill='#6E7B8B' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1064' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#6E7B8B:lightsteelblue4</text>
	<!-- rectangle -->
	<rect x='387.5' y='1072.5' width='15' height='15' fill='#FFFFE0' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1084' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFFFE0:lightyellow1</text>
	<!-- rectangle -->
	<rect x='387.5' y='1092.5' width='15' height='15' fill='#EEEED1' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1104' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EEEED1:lightyellow2</text>
	<!-- rectangle -->
	<rect x='387.5' y='1112.5' width='15' height='15' fill='#CDCDB4' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1124' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CDCDB4:lightyellow3</text>
	<!-- rectangle -->
	<rect x='387.5' y='1132.5' width='15' height='15' fill='#8B8B7A' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1144' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B8B7A:lightyellow4</text>
	<!-- rectangle -->
	<rect x='387.5' y='1152.5' width='15' height='15' fill='#FF00FF' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1164' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FF00FF:magenta1</text>
	<!-- rectangle -->
	<rect x='387.5' y='1172.5' width='15' height='15' fill='#EE00EE' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1184' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EE00EE:magenta2</text>
	<!-- rectangle -->
	<rect x='387.5' y='1192.5' width='15' height='15' fill='#CD00CD' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1204' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CD00CD:magenta3</text>
	<!-- rectangle -->
	<rect x='387.5' y='1212.5' width='15' height='15' fill='#8B008B' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1224' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B008B:magenta4</text>
	<!-- rectangle -->
	<rect x='387.5' y='1232.5' width='15' height='15' fill='#B03060' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1244' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#B03060:maroon</text>
	<!-- rectangle -->
	<rect x='387.5' y='1252.5' width='15' height='15' fill='#FF34B3' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1264' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FF34B3:maroon1</text>
	<!-- rectangle -->
	<rect x='387.5' y='1272.5' width='15' height='15' fill='#EE30A7' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1284' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EE30A7:maroon2</text>
	<!-- rectangle -->
	<rect x='387.5' y='1292.5' width='15' height='15' fill='#CD2990' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1304' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CD2990:maroon3</text>
	<!-- rectangle -->
	<rect x='387.5' y='1312.5' width='15' height='15' fill='#8B1C62' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1324' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B1C62:maroon4</text>
	<!-- rectangle -->
	<rect x='387.5' y='1332.5' width='15' height='15' fill='#E066FF' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1344' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#E066FF:mediumorchid1</text>
	<!-- rectangle -->
	<rect x='387.5' y='1352.5' width='15' height='15' fill='#D15FEE' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1364' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#D15FEE:mediumorchid2</text>
	<!-- rectangle -->
	<rect x='387.5' y='1372.5' width='15' height='15' fill='#B452CD' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1384' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#B452CD:mediumorchid3</text>
	<!-- rectangle -->
	<rect x='387.5' y='1392.5' width='15' height='15' fill='#7A378B' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1404' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#7A378B:mediumorchid4</text>
	<!-- rectangle -->
	<rect x='387.5' y='1412.5' width='15' height='15' fill='#AB82FF' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1424' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#AB82FF:mediumpurple1</text>
	<!-- rectangle -->
	<rect x='387.5' y='1432.5' width='15' height='15' fill='#9F79EE' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1444' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#9F79EE:mediumpurple2</text>
	<!-- rectangle -->
	<rect x='387.5' y='1452.5' width='15' height='15' fill='#8968CD' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1464' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8968CD:mediumpurple3</text>
	<!-- rectangle -->
	<rect x='387.5' y='1472.5' width='15' height='15' fill='#5D478B' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1484' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#5D478B:mediumpurple4</text>
	<!-- rectangle -->
	<rect x='387.5' y='1492.5' width='15' height='15' fill='#FFE4E1' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1504' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFE4E1:mistyrose1</text>
	<!-- rectangle -->
	<rect x='387.5' y='1512.5' width='15' height='15' fill='#EED5D2' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1524' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EED5D2:mistyrose2</text>
	<!-- rectangle -->
	<rect x='387.5' y='1532.5' width='15' height='15' fill='#CDB7B5' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1544' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CDB7B5:mistyrose3</text>
	<!-- rectangle -->
	<rect x='387.5' y='1552.5' width='15' height='15' fill='#8B7D7B' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1564' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B7D7B:mistyrose4</text>
	<!-- rectangle -->
	<rect x='387.5' y='1572.5' width='15' height='15' fill='#FFDEAD' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1584' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFDEAD:navajowhite1</text>
	<!-- rectangle -->
	<rect x='387.5' y='1592.5' width='15' height='15' fill='#EECFA1' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1604' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EECFA1:navajowhite2</text>
	<!-- rectangle -->
	<rect x='387.5' y='1612.5' width='15' height='15' fill='#CDB38B' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1624' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CDB38B:navajowhite3</text>
	<!-- rectangle -->
	<rect x='387.5' y='1632.5' width='15' height='15' fill='#8B795E' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1644' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B795E:navajowhite4</text>
	<!-- rectangle -->
	<rect x='387.5' y='1652.5' width='15' height='15' fill='#000080' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1664' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#000080:navyblue</text>
	<!-- rectangle -->
	<rect x='387.5' y='1672.5' width='15' height='15' fill='#C0FF3E' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1684' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#C0FF3E:olivedrab1</text>
	<!-- rectangle -->
	<rect x='387.5' y='1692.5' width='15' height='15' fill='#B3EE3A' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1704' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#B3EE3A:olivedrab2</text>
	<!-- rectangle -->
	<rect x='387.5' y='1712.5' width='15' height='15' fill='#9ACD32' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1724' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#9ACD32:olivedrab3</text>
	<!-- rectangle -->
	<rect x='387.5' y='1732.5' width='15' height='15' fill='#698B22' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1744' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#698B22:olivedrab4</text>
	<!-- rectangle -->
	<rect x='387.5' y='1752.5' width='15' height='15' fill='#FFA500' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1764' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFA500:orange1</text>
	<!-- rectangle -->
	<rect x='387.5' y='1772.5' width='15' height='15' fill='#EE9A00' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1784' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EE9A00:orange2</text>
	<!-- rectangle -->
	<rect x='387.5' y='1792.5' width='15' height='15' fill='#CD8500' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1804' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CD8500:orange3</text>
	<!-- rectangle -->
	<rect x='387.5' y='1812.5' width='15' height='15' fill='#8B5A00' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1824' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B5A00:orange4</text>
	<!-- rectangle -->
	<rect x='387.5' y='1832.5' width='15' height='15' fill='#FF4500' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1844' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FF4500:orangered1</text>
	<!-- rectangle -->
	<rect x='387.5' y='1852.5' width='15' height='15' fill='#EE4000' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1864' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EE4000:orangered2</text>
	<!-- rectangle -->
	<rect x='387.5' y='1872.5' width='15' height='15' fill='#CD3700' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1884' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CD3700:orangered3</text>
	<!-- rectangle -->
	<rect x='387.5' y='1892.5' width='15' height='15' fill='#8B2500' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1904' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B2500:orangered4</text>
	<!-- rectangle -->
	<rect x='387.5' y='1912.5' width='15' height='15' fill='#FF83FA' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1924' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FF83FA:orchid1</text>
	<!-- rectangle -->
	<rect x='387.5' y='1932.5' width='15' height='15' fill='#EE7AE9' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1944' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EE7AE9:orchid2</text>
	<!-- rectangle -->
	<rect x='387.5' y='1952.5' width='15' height='15' fill='#CD69C9' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1964' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CD69C9:orchid3</text>
	<!-- rectangle -->
	<rect x='387.5' y='1972.5' width='15' height='15' fill='#8B4789' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='1984' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B4789:orchid4</text>
	<!-- rectangle -->
	<rect x='387.5' y='1992.5' width='15' height='15' fill='#9AFF9A' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='2004' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#9AFF9A:palegreen1</text>
	<!-- rectangle -->
	<rect x='387.5' y='2012.5' width='15' height='15' fill='#90EE90' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='2024' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#90EE90:palegreen2</text>
	<!-- rectangle -->
	<rect x='387.5' y='2032.5' width='15' height='15' fill='#7CCD7C' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='2044' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#7CCD7C:palegreen3</text>
	<!-- rectangle -->
	<rect x='387.5' y='2052.5' width='15' height='15' fill='#548B54' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='2064' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#548B54:palegreen4</text>
	<!-- rectangle -->
	<rect x='387.5' y='2072.5' width='15' height='15' fill='#BBFFFF' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='2084' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#BBFFFF:paleturquoise1</text>
	<!-- rectangle -->
	<rect x='387.5' y='2092.5' width='15' height='15' fill='#AEEEEE' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='2104' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#AEEEEE:paleturquoise2</text>
	<!-- rectangle -->
	<rect x='387.5' y='2112.5' width='15' height='15' fill='#96CDCD' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='405' y='2124' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#96CDCD:paleturquoise3</text>
	<!-- rectangle -->
	<rect x='577.5' y='12.5' width='15' height='15' fill='#668B8B' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='24' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#668B8B:paleturquoise4</text>
	<!-- rectangle -->
	<rect x='577.5' y='32.5' width='15' height='15' fill='#FF82AB' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='44' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FF82AB:palevioletred1</text>
	<!-- rectangle -->
	<rect x='577.5' y='52.5' width='15' height='15' fill='#EE799F' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='64' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EE799F:palevioletred2</text>
	<!-- rectangle -->
	<rect x='577.5' y='72.5' width='15' height='15' fill='#CD6889' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='84' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CD6889:palevioletred3</text>
	<!-- rectangle -->
	<rect x='577.5' y='92.5' width='15' height='15' fill='#8B475D' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='104' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B475D:palevioletred4</text>
	<!-- rectangle -->
	<rect x='577.5' y='112.5' width='15' height='15' fill='#FFDAB9' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='124' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFDAB9:peachpuff1</text>
	<!-- rectangle -->
	<rect x='577.5' y='132.5' width='15' height='15' fill='#EECBAD' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='144' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EECBAD:peachpuff2</text>
	<!-- rectangle -->
	<rect x='577.5' y='152.5' width='15' height='15' fill='#CDAF95' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='164' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CDAF95:peachpuff3</text>
	<!-- rectangle -->
	<rect x='577.5' y='172.5' width='15' height='15' fill='#8B7765' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='184' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B7765:peachpuff4</text>
	<!-- rectangle -->
	<rect x='577.5' y='192.5' width='15' height='15' fill='#FFB5C5' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='204' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFB5C5:pink1</text>
	<!-- rectangle -->
	<rect x='577.5' y='212.5' width='15' height='15' fill='#EEA9B8' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='224' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EEA9B8:pink2</text>
	<!-- rectangle -->
	<rect x='577.5' y='232.5' width='15' height='15' fill='#CD919E' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='244' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CD919E:pink3</text>
	<!-- rectangle -->
	<rect x='577.5' y='252.5' width='15' height='15' fill='#8B636C' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='264' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B636C:pink4</text>
	<!-- rectangle -->
	<rect x='577.5' y='272.5' width='15' height='15' fill='#FFBBFF' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='284' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFBBFF:plum1</text>
	<!-- rectangle -->
	<rect x='577.5' y='292.5' width='15' height='15' fill='#EEAEEE' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='304' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EEAEEE:plum2</text>
	<!-- rectangle -->
	<rect x='577.5' y='312.5' width='15' height='15' fill='#CD96CD' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='324' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CD96CD:plum3</text>
	<!-- rectangle -->
	<rect x='577.5' y='332.5' width='15' height='15' fill='#8B668B' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='344' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B668B:plum4</text>
	<!-- rectangle -->
	<rect x='577.5' y='352.5' width='15' height='15' fill='#A020F0' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='364' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#A020F0:purple</text>
	<!-- rectangle -->
	<rect x='577.5' y='372.5' width='15' height='15' fill='#9B30FF' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='384' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#9B30FF:purple1</text>
	<!-- rectangle -->
	<rect x='577.5' y='392.5' width='15' height='15' fill='#912CEE' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='404' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#912CEE:purple2</text>
	<!-- rectangle -->
	<rect x='577.5' y='412.5' width='15' height='15' fill='#7D26CD' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='424' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#7D26CD:purple3</text>
	<!-- rectangle -->
	<rect x='577.5' y='432.5' width='15' height='15' fill='#551A8B' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='444' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#551A8B:purple4</text>
	<!-- rectangle -->
	<rect x='577.5' y='452.5' width='15' height='15' fill='#FF0000' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='464' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FF0000:red1</text>
	<!-- rectangle -->
	<rect x='577.5' y='472.5' width='15' height='15' fill='#EE0000' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='484' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EE0000:red2</text>
	<!-- rectangle -->
	<rect x='577.5' y='492.5' width='15' height='15' fill='#CD0000' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='504' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CD0000:red3</text>
	<!-- rectangle -->
	<rect x='577.5' y='512.5' width='15' height='15' fill='#8B0000' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='524' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B0000:red4</text>
	<!-- rectangle -->
	<rect x='577.5' y='532.5' width='15' height='15' fill='#FFC1C1' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='544' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFC1C1:rosybrown1</text>
	<!-- rectangle -->
	<rect x='577.5' y='552.5' width='15' height='15' fill='#EEB4B4' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='564' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EEB4B4:rosybrown2</text>
	<!-- rectangle -->
	<rect x='577.5' y='572.5' width='15' height='15' fill='#CD9B9B' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='584' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CD9B9B:rosybrown3</text>
	<!-- rectangle -->
	<rect x='577.5' y='592.5' width='15' height='15' fill='#8B6969' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='604' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B6969:rosybrown4</text>
	<!-- rectangle -->
	<rect x='577.5' y='612.5' width='15' height='15' fill='#4876FF' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='624' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#4876FF:royalblue1</text>
	<!-- rectangle -->
	<rect x='577.5' y='632.5' width='15' height='15' fill='#436EEE' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='644' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#436EEE:royalblue2</text>
	<!-- rectangle -->
	<rect x='577.5' y='652.5' width='15' height='15' fill='#3A5FCD' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='664' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#3A5FCD:royalblue3</text>
	<!-- rectangle -->
	<rect x='577.5' y='672.5' width='15' height='15' fill='#27408B' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='684' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#27408B:royalblue4</text>
	<!-- rectangle -->
	<rect x='577.5' y='692.5' width='15' height='15' fill='#FF8C69' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='704' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FF8C69:salmon1</text>
	<!-- rectangle -->
	<rect x='577.5' y='712.5' width='15' height='15' fill='#EE8262' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='724' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EE8262:salmon2</text>
	<!-- rectangle -->
	<rect x='577.5' y='732.5' width='15' height='15' fill='#CD7054' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='744' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CD7054:salmon3</text>
	<!-- rectangle -->
	<rect x='577.5' y='752.5' width='15' height='15' fill='#8B4C39' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='764' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B4C39:salmon4</text>
	<!-- rectangle -->
	<rect x='577.5' y='772.5' width='15' height='15' fill='#54FF9F' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='784' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#54FF9F:seagreen1</text>
	<!-- rectangle -->
	<rect x='577.5' y='792.5' width='15' height='15' fill='#4EEE94' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='804' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#4EEE94:seagreen2</text>
	<!-- rectangle -->
	<rect x='577.5' y='812.5' width='15' height='15' fill='#43CD80' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='824' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#43CD80:seagreen3</text>
	<!-- rectangle -->
	<rect x='577.5' y='832.5' width='15' height='15' fill='#2E8B57' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='844' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#2E8B57:seagreen4</text>
	<!-- rectangle -->
	<rect x='577.5' y='852.5' width='15' height='15' fill='#FFF5EE' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='864' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFF5EE:seashell1</text>
	<!-- rectangle -->
	<rect x='577.5' y='872.5' width='15' height='15' fill='#EEE5DE' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='884' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EEE5DE:seashell2</text>
	<!-- rectangle -->
	<rect x='577.5' y='892.5' width='15' height='15' fill='#CDC5BF' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='904' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CDC5BF:seashell3</text>
	<!-- rectangle -->
	<rect x='577.5' y='912.5' width='15' height='15' fill='#8B8682' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='924' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B8682:seashell4</text>
	<!-- rectangle -->
	<rect x='577.5' y='932.5' width='15' height='15' fill='#FF8247' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='944' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FF8247:sienna1</text>
	<!-- rectangle -->
	<rect x='577.5' y='952.5' width='15' height='15' fill='#EE7942' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='964' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EE7942:sienna2</text>
	<!-- rectangle -->
	<rect x='577.5' y='972.5' width='15' height='15' fill='#CD6839' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='984' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CD6839:sienna3</text>
	<!-- rectangle -->
	<rect x='577.5' y='992.5' width='15' height='15' fill='#8B4726' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1004' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B4726:sienna4</text>
	<!-- rectangle -->
	<rect x='577.5' y='1012.5' width='15' height='15' fill='#87CEFF' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1024' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#87CEFF:skyblue1</text>
	<!-- rectangle -->
	<rect x='577.5' y='1032.5' width='15' height='15' fill='#7EC0EE' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1044' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#7EC0EE:skyblue2</text>
	<!-- rectangle -->
	<rect x='577.5' y='1052.5' width='15' height='15' fill='#6CA6CD' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1064' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#6CA6CD:skyblue3</text>
	<!-- rectangle -->
	<rect x='577.5' y='1072.5' width='15' height='15' fill='#4A708B' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1084' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#4A708B:skyblue4</text>
	<!-- rectangle -->
	<rect x='577.5' y='1092.5' width='15' height='15' fill='#836FFF' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1104' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#836FFF:slateblue1</text>
	<!-- rectangle -->
	<rect x='577.5' y='1112.5' width='15' height='15' fill='#7A67EE' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1124' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#7A67EE:slateblue2</text>
	<!-- rectangle -->
	<rect x='577.5' y='1132.5' width='15' height='15' fill='#6959CD' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1144' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#6959CD:slateblue3</text>
	<!-- rectangle -->
	<rect x='577.5' y='1152.5' width='15' height='15' fill='#473C8B' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1164' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#473C8B:slateblue4</text>
	<!-- rectangle -->
	<rect x='577.5' y='1172.5' width='15' height='15' fill='#C6E2FF' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1184' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#C6E2FF:slategray1</text>
	<!-- rectangle -->
	<rect x='577.5' y='1192.5' width='15' height='15' fill='#B9D3EE' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1204' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#B9D3EE:slategray2</text>
	<!-- rectangle -->
	<rect x='577.5' y='1212.5' width='15' height='15' fill='#9FB6CD' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1224' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#9FB6CD:slategray3</text>
	<!-- rectangle -->
	<rect x='577.5' y='1232.5' width='15' height='15' fill='#6C7B8B' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1244' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#6C7B8B:slategray4</text>
	<!-- rectangle -->
	<rect x='577.5' y='1252.5' width='15' height='15' fill='#FFFAFA' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1264' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFFAFA:snow1</text>
	<!-- rectangle -->
	<rect x='577.5' y='1272.5' width='15' height='15' fill='#EEE9E9' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1284' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EEE9E9:snow2</text>
	<!-- rectangle -->
	<rect x='577.5' y='1292.5' width='15' height='15' fill='#CDC9C9' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1304' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CDC9C9:snow3</text>
	<!-- rectangle -->
	<rect x='577.5' y='1312.5' width='15' height='15' fill='#8B8989' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1324' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B8989:snow4</text>
	<!-- rectangle -->
	<rect x='577.5' y='1332.5' width='15' height='15' fill='#00FF7F' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1344' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#00FF7F:springgreen1</text>
	<!-- rectangle -->
	<rect x='577.5' y='1352.5' width='15' height='15' fill='#00EE76' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1364' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#00EE76:springgreen2</text>
	<!-- rectangle -->
	<rect x='577.5' y='1372.5' width='15' height='15' fill='#00CD66' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1384' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#00CD66:springgreen3</text>
	<!-- rectangle -->
	<rect x='577.5' y='1392.5' width='15' height='15' fill='#008B45' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1404' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#008B45:springgreen4</text>
	<!-- rectangle -->
	<rect x='577.5' y='1412.5' width='15' height='15' fill='#63B8FF' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1424' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#63B8FF:steelblue1</text>
	<!-- rectangle -->
	<rect x='577.5' y='1432.5' width='15' height='15' fill='#5CACEE' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1444' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#5CACEE:steelblue2</text>
	<!-- rectangle -->
	<rect x='577.5' y='1452.5' width='15' height='15' fill='#4F94CD' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1464' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#4F94CD:steelblue3</text>
	<!-- rectangle -->
	<rect x='577.5' y='1472.5' width='15' height='15' fill='#36648B' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1484' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#36648B:steelblue4</text>
	<!-- rectangle -->
	<rect x='577.5' y='1492.5' width='15' height='15' fill='#FFA54F' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1504' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFA54F:tan1</text>
	<!-- rectangle -->
	<rect x='577.5' y='1512.5' width='15' height='15' fill='#EE9A49' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1524' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EE9A49:tan2</text>
	<!-- rectangle -->
	<rect x='577.5' y='1532.5' width='15' height='15' fill='#CD853F' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1544' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CD853F:tan3</text>
	<!-- rectangle -->
	<rect x='577.5' y='1552.5' width='15' height='15' fill='#8B5A2B' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1564' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B5A2B:tan4</text>
	<!-- rectangle -->
	<rect x='577.5' y='1572.5' width='15' height='15' fill='#FFE1FF' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1584' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFE1FF:thistle1</text>
	<!-- rectangle -->
	<rect x='577.5' y='1592.5' width='15' height='15' fill='#EED2EE' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1604' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EED2EE:thistle2</text>
	<!-- rectangle -->
	<rect x='577.5' y='1612.5' width='15' height='15' fill='#CDB5CD' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1624' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CDB5CD:thistle3</text>
	<!-- rectangle -->
	<rect x='577.5' y='1632.5' width='15' height='15' fill='#8B7B8B' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1644' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B7B8B:thistle4</text>
	<!-- rectangle -->
	<rect x='577.5' y='1652.5' width='15' height='15' fill='#FF6347' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1664' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FF6347:tomato1</text>
	<!-- rectangle -->
	<rect x='577.5' y='1672.5' width='15' height='15' fill='#EE5C42' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1684' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EE5C42:tomato2</text>
	<!-- rectangle -->
	<rect x='577.5' y='1692.5' width='15' height='15' fill='#CD4F39' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1704' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CD4F39:tomato3</text>
	<!-- rectangle -->
	<rect x='577.5' y='1712.5' width='15' height='15' fill='#8B3626' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1724' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B3626:tomato4</text>
	<!-- rectangle -->
	<rect x='577.5' y='1732.5' width='15' height='15' fill='#00F5FF' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1744' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#00F5FF:turquoise1</text>
	<!-- rectangle -->
	<rect x='577.5' y='1752.5' width='15' height='15' fill='#00E5EE' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1764' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#00E5EE:turquoise2</text>
	<!-- rectangle -->
	<rect x='577.5' y='1772.5' width='15' height='15' fill='#00C5CD' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1784' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#00C5CD:turquoise3</text>
	<!-- rectangle -->
	<rect x='577.5' y='1792.5' width='15' height='15' fill='#00868B' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1804' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#00868B:turquoise4</text>
	<!-- rectangle -->
	<rect x='577.5' y='1812.5' width='15' height='15' fill='#D02090' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1824' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#D02090:violetred</text>
	<!-- rectangle -->
	<rect x='577.5' y='1832.5' width='15' height='15' fill='#FF3E96' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1844' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FF3E96:violetred1</text>
	<!-- rectangle -->
	<rect x='577.5' y='1852.5' width='15' height='15' fill='#EE3A8C' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1864' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EE3A8C:violetred2</text>
	<!-- rectangle -->
	<rect x='577.5' y='1872.5' width='15' height='15' fill='#CD3278' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1884' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CD3278:violetred3</text>
	<!-- rectangle -->
	<rect x='577.5' y='1892.5' width='15' height='15' fill='#8B2252' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1904' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B2252:violetred4</text>
	<!-- rectangle -->
	<rect x='577.5' y='1912.5' width='15' height='15' fill='#FFE7BA' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1924' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFE7BA:wheat1</text>
	<!-- rectangle -->
	<rect x='577.5' y='1932.5' width='15' height='15' fill='#EED8AE' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1944' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EED8AE:wheat2</text>
	<!-- rectangle -->
	<rect x='577.5' y='1952.5' width='15' height='15' fill='#CDBA96' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1964' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CDBA96:wheat3</text>
	<!-- rectangle -->
	<rect x='577.5' y='1972.5' width='15' height='15' fill='#8B7E66' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='1984' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B7E66:wheat4</text>
	<!-- rectangle -->
	<rect x='577.5' y='1992.5' width='15' height='15' fill='#FFFF00' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='2004' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#FFFF00:yellow1</text>
	<!-- rectangle -->
	<rect x='577.5' y='2012.5' width='15' height='15' fill='#EEEE00' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='2024' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#EEEE00:yellow2</text>
	<!-- rectangle -->
	<rect x='577.5' y='2032.5' width='15' height='15' fill='#CDCD00' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='2044' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#CDCD00:yellow3</text>
	<!-- rectangle -->
	<rect x='577.5' y='2052.5' width='15' height='15' fill='#8B8B00' stroke='black' stroke-width='1' />
	<!-- text -->
	<text x='595' y='2064' text-anchor='start' font-family='monospace' font-size='10pt' fill='black' >#8B8B00:yellow4</text>

</svg>
</div>

<p class='fig_title'><a name='6tYSz371NWb'></a>Figure.12-2 色の名前とサンプル - 2</p>
<h2><a name='dGdSPnvay5N'></a>13 更新履歴</h2>
<p>　更新履歴です。</p>
<ul>
<li><strong>2022/08/21 - version 0.001</strong>
<ul>
<li>とりあえず使えそうになったのでリリース</li>
</ul>
</li>
<li><strong>2022/08/31 - version 0.002</strong>
<ul>
<li>ENHANCE : <a class='autolink' href='#2c8duiejnaO'>with-subcanvas-of</a>マクロを追加</li>
<li>DOCUMENT : 「<a href='#h1RNMQY1C0b'>6  座標と位置</a>」、および「<a href='#kgs1vf3AbTN'>7  サブキャンバス</a>」を執筆</li>
</ul>
</li>
<li><strong>2022/09/04 - version 0.003</strong>
<ul>
<li><strong>IMCOMPATIBLE CHANGE : <a class='autolink' href='#jHhN85RvHYn'>with-canvas</a> マクロの第１パラメータを topleft から center に変更</strong></li>
<li>DOCUMENT : 「<a href='#hwRhCz9Gn9t'>8  定義と再使用</a>」を執筆</li>
<li>ENHANCE : 「<a href='#hja1QJC0Ivb'>4.9  キューブ</a>」を追加</li>
<li>ENHANCE : 「<a href='#4cZRWkwhYNO'>4.12  十字</a>」を追加</li>
<li>ENHANCE : 「<a href='#03WwbeGq0eH'>4.6  人物</a>」を追加</li>
</ul>
</li>
<li><strong>2022/09/11</strong>
<ul>
<li>DOCUMENT : 「<a href='#4HFjqmTuIU6'>10.2  ストローク</a>」を執筆</li>
<li>DOCUMENT : 「<a href='#dBUd7L4C3dx'>10.3  フィル</a>」を執筆</li>
</ul>
</li>
<li><strong>2022/09/19</strong>
<ul>
<li>プロダクト名を diagram から kaavio に変更</li>
<li>DOCUMENT : 「<a href='#3kZ9FkounyK'>10.4  フォント</a>」を執筆</li>
</ul>
</li>
<li><strong>2022/09/20</strong>
<ul>
<li>DOCUMENT : 「<a href='#cNmjD3OiTOH'>5.3  生の SVG コード片の挿入</a>」を執筆</li>
<li>ENHANCE : 「<a href='#e7hkC2YUaKe'>4.3  テキストボックス</a>」と「<a href='#hjZ26isLw42'>4.11  爆発</a>」に contents パラメータを追加</li>
</ul>
</li>
<li><strong>2022/09/22 - version 0.004</strong>
<ul>
<li><strong>IMCOMPATIBLE CHANGE : defs マクロを <a class='autolink' href='#gxb34ymFlDc'>defgroup</a> マクロに改名</strong></li>
<li>ENHANCE : 「<a href='#dmYFJAv81Kl'>9.1  パターン</a>」を追加</li>
<li>ENHANCE : 「<a href='#8IkB7VinE7h'>12.1.9  make-fill 関数</a>」に <code>url</code> パラメータを追加</li>
</ul>
</li>
<li><strong>2022/09/25 - version 0.005</strong>
<ul>
<li>ENHANCE : 「<a href='#ezUVhtPwl3J'>12.1.11  make-stroke 関数</a>」に <code>url</code> パラメータを追加</li>
<li>ENHANCE : 「<a href='#4p1J7EWjD3m'>9.2  グラデーション</a>」を追加</li>
</ul>
</li>
<li><strong>2022/09/27</strong>
<ul>
<li>ENHANCE : 「<a href='#4dFMjynUMYw'>3.8  ひし形</a>」を追加</li>
<li>ENHANCE : 「<a href='#8YR8CiywoW8'>3.9  平行四辺形</a>」を追加</li>
</ul>
</li>
<li><strong>2022/10/01 - version 0.006</strong>
<ul>
<li>ENHANCE : ID 指定のない要素に gensym ID を付与し、 <code>$N.id</code> で参照を可能とする修正</li>
</ul>
</li>
<li><strong>2022/10/03</strong>
<ul>
<li><strong>MINOR IMCOMPATIBLE CHANGE : <a href='#dmYFJAv81Kl'>パターン</a>と<a href='#4p1J7EWjD3m'>グラデーション</a>の追加に伴い、fill 指定から別の色を導出する機能を廃止</strong></li>
<li>ENHANCE : 上記の対応として「<a href='#0AVJhEKnK1M'>4.8  メモ</a>」に <code>:fill2</code> パラメータを追加</li>
</ul>
</li>
<li><strong>2022/10/10 - version 0.007</strong>
<ul>
<li>DOCUMENT : 「<a href='#iu9Ovm00KHn'>10.5  IDと参照</a>」を執筆</li>
</ul>
</li>
<li><strong>2022/10/11</strong>
<ul>
<li>DOCUMENT : 「<a href='#heEi5Lc5BX9'>10.6  回転</a>」を執筆</li>
</ul>
</li>
<li><strong>2022/10/14</strong>
<ul>
<li><strong>IMCOMPATIBLE CHANGE : <a class='autolink' href='#gPGlqSbIfdL'>フィルタ</a>のデフォルトを <a class='autolink' href='#fv4OUML78x4'>line</a> / shape で区別する仕様を廃止</strong></li>
<li>ENHANCE : <a class='autolink' href='#5afU9yg86c0'>with-options</a> でデフォルト<a class='autolink' href='#gPGlqSbIfdL'>フィルタ</a>を指定できるようにする修正</li>
<li>DOCUMENT : 「<a href='#gPGlqSbIfdL'>10.7  フィルタ</a>」を執筆</li>
</ul>
</li>
</ul>
<h2><a name='1iQ3KRF8uJQ'></a>14 図表一覧</h2>
<ul>
<li><a href='#euwIyAjslFq'>Figure.2-1 簡単なサンプル</a></li>
<li><a href='#aw36ReN8sMQ'>Figure.2-2 簡単なサンプル-2</a></li>
<li><a href='#hnnMjGYKwdS'>Figure.3-1 rect のサンプル</a></li>
<li><a href='#aWrJqk5Knkk'>Figure.3-2 circle のサンプル</a></li>
<li><a href='#hO4QoInAXK4'>Figure.3-3 ellipse のサンプル</a></li>
<li><a href='#2vjK1SnIRle'>Figure.3-4 polygon のサンプル</a></li>
<li><a href='#9sslZHcYmCd'>Figure.3-5 line のサンプル</a></li>
<li><a href='#lt4PUsUrfps'>Figure.3-6 arc のサンプル</a></li>
<li><a href='#bSd48Y8N0w0'>Figure.3-7 arc のサンプル - 2</a></li>
<li><a href='#7uvPIQqWhZy'>Figure.3-8 text のサンプル</a></li>
<li><a href='#5BXk9aTPHsl'>Figure.3-9 テキストの position とアライメント指定の関係</a></li>
<li><a href='#2sQudXmWdXy'>Figure.3-10 diamond のサンプル</a></li>
<li><a href='#by41YHJgt3q'>Figure.3-11 parallelogram のサンプル</a></li>
<li><a href='#67lJneaqrLn'>Figure.3-12 parallelogram における direction と offset</a></li>
<li><a href='#4gGy4q3tl7a'>Figure.4-1 コネクタのサンプル</a></li>
<li><a href='#iS4fHSfl5nF'>Figure.4-2 コネクタにおける接続点の指定</a></li>
<li><a href='#5cNBVVOciY7'>Figure.4-3 コネクタによる接続経路決定</a></li>
<li><a href='#kui5wtIKl5y'>Figure.4-4 コネクタによる接続経路決定は他の要素を迂回しない</a></li>
<li><a href='#hHTLHAEc9Gs'>Figure.4-5 コネクタの接続経路における「自由な線分」</a></li>
<li><a href='#23eQZDKkLDn'>Figure.4-6 spacing パラメータによるコネクタ接続経路の調整</a></li>
<li><a href='#8WHetxNhOq8'>Figure.4-7 パラグラフのサンプル</a></li>
<li><a href='#4qhyBjYZYlG'>Figure.4-8 パラグラフの position とアライメント指定の関係</a></li>
<li><a href='#4NTtjXsX7EZ'>Figure.4-9 テキストボックスのサンプル</a></li>
<li><a href='#96V371pW4hW'>Figure.4-10 テキストボックスにおける align と valign</a></li>
<li><a href='#fIT9kBEu2gr'>Figure.4-11 with-textbox-options のサンプル</a></li>
<li><a href='#dvJBi2mFjs2'>Figure.4-12 ドキュメントのサンプル</a></li>
<li><a href='#47EMqNZNXWt'>Figure.4-13 with-document-options のサンプル</a></li>
<li><a href='#bB2F9DVM9ic'>Figure.4-14 フォルダのサンプル</a></li>
<li><a href='#0MavWGofA5A'>Figure.4-15 with-folder-options のサンプル</a></li>
<li><a href='#hhPIA8JVdPh'>Figure.4-16 人物のサンプル</a></li>
<li><a href='#lnnHMVYKIVe'>Figure.4-17 with-person-options のサンプル</a></li>
<li><a href='#bnZSVtbTzuH'>Figure.4-18 吹き出しのサンプル</a></li>
<li><a href='#loJcJRs9CQ6'>Figure.4-19 with-balloon-options のサンプル</a></li>
<li><a href='#2VCrzOuGHtM'>Figure.4-20 メモのサンプル</a></li>
<li><a href='#85PzRyM9ubb'>Figure.4-21 with-memo-options のサンプル</a></li>
<li><a href='#j4GYjsfbdqP'>Figure.4-22 キューブのサンプル</a></li>
<li><a href='#3SJFdpOYlvc'>Figure.4-23 with-cube-options のサンプル</a></li>
<li><a href='#c33W6fj0jlH'>Figure.4-24 円柱のサンプル</a></li>
<li><a href='#6qpOLVQEU9p'>Figure.4-25 with-cylinder-options のサンプル</a></li>
<li><a href='#alxN8u8h3HH'>Figure.4-26 爆発のサンプル</a></li>
<li><a href='#6vhSWl4Z51P'>Figure.4-27 with-explosion-options のサンプル</a></li>
<li><a href='#i6ogP2K90yF'>Figure.4-28 十字のサンプル</a></li>
<li><a href='#aRp5j4797s7'>Figure.4-29 with-cross-options のサンプル</a></li>
<li><a href='#eIwQ5AwuV7t'>Figure.4-30 ブロック矢印のサンプル</a></li>
<li><a href='#htsQptREwXf'>Figure.4-31 ブロック矢印のパラメータ</a></li>
<li><a href='#joIBAKcJmZU'>Figure.4-32 with-block-arrow-options のサンプル</a></li>
<li><a href='#jKClDFWGMjM'>Figure.4-33 波括弧のサンプル</a></li>
<li><a href='#eWywNaFqjwP'>Figure.4-34 波括弧のパラメータ</a></li>
<li><a href='#hnkBV0wrSv5'>Figure.4-35 with-brace-options のサンプル</a></li>
<li><a href='#4p5NTDB8bf1'>Figure.4-36 テーブルのサンプル</a></li>
<li><a href='#0EEfXZqu18P'>Figure.4-37 テーブルにおけるテキストの align と valign パラメータ</a></li>
<li><a href='#knawwdhRtbI'>Figure.4-38 with-table-cell の使用例</a></li>
<li><a href='#4Iv4ytJmORX'>Figure.5-1 path のサンプル</a></li>
<li><a href='#b5nHW1IvOL5'>Figure.5-2 :move-to ディレクティブのサンプル</a></li>
<li><a href='#i7V67Cjuavz'>Figure.5-3 :line-to ディレクティブのサンプル</a></li>
<li><a href='#0iNBCVKyFlO'>Figure.5-4 :arc-to ディレクティブのサンプル</a></li>
<li><a href='#f0G61WmPR5j'>Figure.5-5 raw-svg のサンプル</a></li>
<li><a href='#bdrJmRrH79B'>Figure.6-1 kaavio における座標系</a></li>
<li><a href='#2oP7i8nCaCH'>Figure.6-2 図形要素の座標参照</a></li>
<li><a href='#kV8JVeAiwLR'>Figure.7-1 サブキャンバスのサンプル</a></li>
<li><a href='#5maEWPLcbWX'>Figure.7-2 contents パラメータを使ったサブキャンバス</a></li>
<li><a href='#04Bhkv1vkfw'>Figure.7-3 with-subcanvas-of を使ったサブキャンバス</a></li>
<li><a href='#hlkqXNIhtVu'>Figure.7-4 with-canvas の使用</a></li>
<li><a href='#eY4WMx1X8UT'>Figure.8-1 defgroup と use のサンプル</a></li>
<li><a href='#hMyYNXGygmb'>Figure.9-1 単純なパターンのサンプル</a></li>
<li><a href='#iUL0e8M4mDl'>Figure.9-2 パターンのサンプル - 2</a></li>
<li><a href='#fMuRXwcCVRN'>Figure.9-3 単純なグラデーションのサンプル</a></li>
<li><a href='#04QAFmYhXse'>Figure.9-4 グラデーションのサンプル - 2</a></li>
<li><a href='#g39KVcpoX7B'>Figure.10-1 with-options によるデフォルトストロークの変更</a></li>
<li><a href='#eXOpfZPd3Nn'>Figure.10-2 linecap のサンプル</a></li>
<li><a href='#hP90ozCer2U'>Figure.10-3 linejoin のサンプル</a></li>
<li><a href='#6vs2Vz9sOKj'>Figure.10-4 miterlimit のサンプル</a></li>
<li><a href='#dpbOii37pGP'>Figure.10-5 dasharray, dashoffset のサンプル</a></li>
<li><a href='#4csTWXsTuKW'>Figure.10-6 グラデーションを使ったストロークのサンプル</a></li>
<li><a href='#3bmxM1d5ylR'>Figure.10-7 with-options によるデフォルトフィルの変更</a></li>
<li><a href='#9n3NgPBJGzS'>Figure.10-8 fill における rule のサンプル</a></li>
<li><a href='#6bZICAqfljz'>Figure.10-9 パターンを使った塗り潰しのサンプル</a></li>
<li><a href='#aImv1ABfsGj'>Figure.10-10 with-options によるデフォルトフォントの変更</a></li>
<li><a href='#gbHwYj2Ai06'>Figure.10-11 font における stroke と fill</a></li>
<li><a href='#8UprDrMi9gT'>Figure.10-12 font における size と line-spacing</a></li>
<li><a href='#1Z9lqmEkvJx'>Figure.10-13 width-spice のサンプル</a></li>
<li><a href='#h7K5JgIwvZY'>Figure.10-14 回転のサンプル</a></li>
<li><a href='#9DgdURPyOHh'>Figure.10-15 回転しても図形要素の属性は変化しない</a></li>
<li><a href='#9Z8wQykrThD'>Figure.10-16 フィルタのサンプル</a></li>
<li><a href='#fVptn2Tiqv7'>Figure.10-17 フィルタのサンプル - 2</a></li>
<li><a href='#2Hj3wMypfUt'>Figure.11-1 uml-action-param 要素</a></li>
<li><a href='#2p79zKV2A8T'>Figure.11-2 uml-action 要素</a></li>
<li><a href='#bGeFbFhlXGE'>Figure.11-3 uml-activity-partitions 要素</a></li>
<li><a href='#2sDmAkevog1'>Figure.12-1 色の名前とサンプル</a></li>
<li><a href='#6tYSz371NWb'>Figure.12-2 色の名前とサンプル - 2</a></li>
</ul>
<p>　　</p>
<ul>
<li><a href='#iamyehuk48Q'>Table.3-1 rect のパラメータ</a></li>
<li><a href='#loDSbBHFyGi'>Table.3-2 circle のパラメータ</a></li>
<li><a href='#7ouMctHfRGP'>Table.3-3 ellipse のパラメータ</a></li>
<li><a href='#kDNMw7SY29A'>Table.3-4 polygon のパラメータ</a></li>
<li><a href='#4y0W4mtr1SE'>Table.3-5 line のパラメータ</a></li>
<li><a href='#gg6iCoxAfmr'>Table.3-6 arc のパラメータ</a></li>
<li><a href='#iSYTxHvOAoB'>Table.3-7 text のパラメータ</a></li>
<li><a href='#iARD0ysYKSD'>Table.3-8 diamond のパラメータ</a></li>
<li><a href='#7o40kH16ufr'>Table.3-9 parallelogram のパラメータ</a></li>
<li><a href='#79EVRrlxEbF'>Table.4-1 connect のパラメータ</a></li>
<li><a href='#0mFeKi0I0Lr'>Table.4-2 paragraph のパラメータ</a></li>
<li><a href='#hOloecoUbQv'>Table.4-3 textbox のパラメータ</a></li>
<li><a href='#ig97hVZRe7F'>Table.4-4 document のパラメータ</a></li>
<li><a href='#kkE7bE1pYOq'>Table.4-5 folder のパラメータ</a></li>
<li><a href='#8zip6mgb4Ep'>Table.4-6 person のパラメータ</a></li>
<li><a href='#g0CYyIsKwua'>Table.4-7 balloon のパラメータ</a></li>
<li><a href='#3XY7LS565dW'>Table.4-8 memo のパラメータ</a></li>
<li><a href='#9OD0uLVcOgy'>Table.4-9 cube のパラメータ</a></li>
<li><a href='#lR2lSmJgEMn'>Table.4-10 cylinder のパラメータ</a></li>
<li><a href='#gP4bMhLxslv'>Table.4-11 explosion1, explosion2 のパラメータ</a></li>
<li><a href='#l28V5sm9qL4'>Table.4-12 cross のパラメータ</a></li>
<li><a href='#eVCkMFMqQkq'>Table.4-13 block-arrow1, block-arrow2 のパラメータ</a></li>
<li><a href='#kt8n5zzXY1P'>Table.4-14 brace のパラメータ</a></li>
<li><a href='#46vpyWYCtdw'>Table.4-15 table のパラメータ</a></li>
<li><a href='#1YwjqbZ6y0N'>Table.5-1 path のパラメータ</a></li>
<li><a href='#f7wEYjGUqWE'>Table.5-2 path の data で使用できるディレクティブ</a></li>
<li><a href='#ju0HQrRY8oT'>Table.10-1 ID 指定で参照できる属性の一覧</a></li>
<li><a href='#l8ZKPnackNk'>Table.12-1 defgradient マクロのパラメータ</a></li>
<li><a href='#75EaQ9VoQov'>Table.12-2 defgradient マクロの付加パラメータ（linear/radial 共通）</a></li>
<li><a href='#7B7qYLtcQVS'>Table.12-3 defgradient マクロの付加パラメータ（linear）</a></li>
<li><a href='#bRsr41rCkR5'>Table.12-4 defgradient マクロの付加パラメータ（radial）</a></li>
<li><a href='#43tbSrg0HB4'>Table.12-5 defpattern マクロのパラメータ</a></li>
<li><a href='#98FSocmF926'>Table.12-6 drop-shadow マクロのパラメータ</a></li>
<li><a href='#8OxjHEdW6gK'>Table.12-7 glow-shadow マクロのパラメータ</a></li>
<li><a href='#jaLWrUQI3jh'>Table.12-8 make-fill 関数のパラメータ</a></li>
<li><a href='#3B1RHolTZeW'>Table.12-9 make-font 関数のパラメータ</a></li>
<li><a href='#8gU4HDke41S'>Table.12-10 make-stroke 関数のパラメータ</a></li>
</ul>
<p>　　</p>
<h2><a name='1ewHzjI62xn'></a>15 索引</h2>
<details class='idx_x' open>
<summary class='idx_x'>Symbols</summary>
<blockquote class='idx_x'>
<li class='idx_x'><a class='autolink' href='#00Vj4Quxjg3'>:2d-curve-to</a></li>
<li class='idx_x'><a class='autolink' href='#ewUXtISm3SD'>:3d-curve-to</a></li>
<li class='idx_x'><a class='autolink' href='#dakC66hrAaS'>:absolute</a></li>
<li class='idx_x'><a class='autolink' href='#7RszlFbOHcp'>:arc-to</a></li>
<li class='idx_x'><a class='autolink' href='#eYtPrg88Qb0'>:close-path</a></li>
<li class='idx_x'><a class='autolink' href='#4Dfw1F7JwVj'>:h-line-to</a></li>
<li class='idx_x'><a class='autolink' href='#cUdEKyCDebd'>:line-to</a></li>
<li class='idx_x'><a class='autolink' href='#g0Dr3NCI4V0'>:move-to</a></li>
<li class='idx_x'><a class='autolink' href='#9DKrZhbLEFX'>:relative</a></li>
<li class='idx_x'><a class='autolink' href='#1B0JCoNzfxs'>:v-line-to</a></li>
</blockquote>
</details>
<details class='idx_x' open>
<summary class='idx_x'>A</summary>
<blockquote class='idx_x'>
<li class='idx_x'><a class='autolink' href='#cp2F91gKG7W'>arc</a></li>
</blockquote>
</details>
<details class='idx_x' open>
<summary class='idx_x'>B</summary>
<blockquote class='idx_x'>
<li class='idx_x'><a class='autolink' href='#5IHcv4bxjLU'>balloon</a></li>
<li class='idx_x'><a class='autolink' href='#49KKf97828b'>block-arrow1</a></li>
<li class='idx_x'><a class='autolink' href='#49KKf97828b'>block-arrow2</a></li>
<li class='idx_x'><a class='autolink' href='#lBS33hNe32a'>brace</a></li>
</blockquote>
</details>
<details class='idx_x' open>
<summary class='idx_x'>C</summary>
<blockquote class='idx_x'>
<li class='idx_x'><a class='autolink' href='#8UQowBxrcaE'>circle</a></li>
<li class='idx_x'><a class='autolink' href='#eFhVs4WwYUG'>connect</a></li>
<li class='idx_x'><a class='autolink' href='#4cZRWkwhYNO'>cross</a></li>
<li class='idx_x'><a class='autolink' href='#hja1QJC0Ivb'>cube</a></li>
<li class='idx_x'><a class='autolink' href='#5ME1Xv0K4sM'>cylinder</a></li>
</blockquote>
</details>
<details class='idx_x' open>
<summary class='idx_x'>D</summary>
<blockquote class='idx_x'>
<li class='idx_x'><a class='autolink' href='#dNdd5AGYfnC'>defgradient</a></li>
<li class='idx_x'><a class='autolink' href='#gxb34ymFlDc'>defgroup</a></li>
<li class='idx_x'><a class='autolink' href='#81YGnpDRA3K'>defpattern</a></li>
<li class='idx_x'><a class='autolink' href='#4dFMjynUMYw'>diamond</a></li>
<li class='idx_x'><a class='autolink' href='#jRjILbbJATV'>document</a></li>
<li class='idx_x'><a class='autolink' href='#13cQuI9DTKo'>drop-shadow</a></li>
</blockquote>
</details>
<details class='idx_x' open>
<summary class='idx_x'>E</summary>
<blockquote class='idx_x'>
<li class='idx_x'><a class='autolink' href='#7YzIcjhyGKN'>ellipse</a></li>
<li class='idx_x'><a class='autolink' href='#hjZ26isLw42'>explosion1</a></li>
<li class='idx_x'><a class='autolink' href='#hjZ26isLw42'>explosion2</a></li>
</blockquote>
</details>
<details class='idx_x' open>
<summary class='idx_x'>F</summary>
<blockquote class='idx_x'>
<li class='idx_x'><a class='autolink' href='#5ZT843xJDiq'>folder</a></li>
</blockquote>
</details>
<details class='idx_x' open>
<summary class='idx_x'>G</summary>
<blockquote class='idx_x'>
<li class='idx_x'><a class='autolink' href='#aK4WyL00CPC'>glow-shadow</a></li>
</blockquote>
</details>
<details class='idx_x' open>
<summary class='idx_x'>L</summary>
<blockquote class='idx_x'>
<li class='idx_x'><a class='autolink' href='#fv4OUML78x4'>line</a></li>
</blockquote>
</details>
<details class='idx_x' open>
<summary class='idx_x'>M</summary>
<blockquote class='idx_x'>
<li class='idx_x'><a class='autolink' href='#8IkB7VinE7h'>make-fill</a></li>
<li class='idx_x'><a class='autolink' href='#673GXF9YiIQ'>make-font</a></li>
<li class='idx_x'><a class='autolink' href='#ezUVhtPwl3J'>make-stroke</a></li>
<li class='idx_x'><a class='autolink' href='#0AVJhEKnK1M'>memo</a></li>
</blockquote>
</details>
<details class='idx_x' open>
<summary class='idx_x'>P</summary>
<blockquote class='idx_x'>
<li class='idx_x'><a class='autolink' href='#4WyMTv59pvw'>paragraph</a></li>
<li class='idx_x'><a class='autolink' href='#8YR8CiywoW8'>parallelogram</a></li>
<li class='idx_x'><a class='autolink' href='#4qgt62QVDZl'>path</a></li>
<li class='idx_x'><a class='autolink' href='#03WwbeGq0eH'>person</a></li>
<li class='idx_x'><a class='autolink' href='#5vGRm9AMypB'>polygon</a></li>
</blockquote>
</details>
<details class='idx_x' open>
<summary class='idx_x'>R</summary>
<blockquote class='idx_x'>
<li class='idx_x'><a class='autolink' href='#cNmjD3OiTOH'>raw-svg</a></li>
<li class='idx_x'><a class='autolink' href='#kJonRG8GtHF'>rect</a></li>
<li class='idx_x'><a class='autolink' href='#7QraN5WNGea'>rgb</a></li>
</blockquote>
</details>
<details class='idx_x' open>
<summary class='idx_x'>S</summary>
<blockquote class='idx_x'>
<li class='idx_x'><a class='autolink' href='#l10jSaJeUDk'>SVG本</a></li>
</blockquote>
</details>
<details class='idx_x' open>
<summary class='idx_x'>T</summary>
<blockquote class='idx_x'>
<li class='idx_x'><a class='autolink' href='#g6xjP526KX7'>table</a></li>
<li class='idx_x'><a class='autolink' href='#cTdCvBeU6ZJ'>text</a></li>
<li class='idx_x'><a class='autolink' href='#e7hkC2YUaKe'>textbox</a></li>
</blockquote>
</details>
<details class='idx_x' open>
<summary class='idx_x'>U</summary>
<blockquote class='idx_x'>
<li class='idx_x'><a class='autolink' href='#5kkSlhsbaIn'>uml-action</a></li>
<li class='idx_x'><a class='autolink' href='#ch2b9q3H6uz'>uml-action-param</a></li>
<li class='idx_x'><a class='autolink' href='#gfsl4uecBoY'>uml-activity-final</a></li>
<li class='idx_x'><a class='autolink' href='#iuoYD532c7Z'>uml-activity-partitions</a></li>
<li class='idx_x'><a class='autolink' href='#gr8RKSxFalf'>uml-activity-start</a></li>
<li class='idx_x'><a class='autolink' href='#4rUQqcq4sKb'>uml-actor</a></li>
<li class='idx_x'><a class='autolink' href='#881rvOpGoim'>uml-aggregation</a></li>
<li class='idx_x'><a class='autolink' href='#0A70k6t8D8T'>uml-association</a></li>
<li class='idx_x'><a class='autolink' href='#fkYROSV9994'>uml-class</a></li>
<li class='idx_x'><a class='autolink' href='#hlJEas6GjYs'>uml-component</a></li>
<li class='idx_x'><a class='autolink' href='#jswiRdMw2Be'>uml-composition</a></li>
<li class='idx_x'><a class='autolink' href='#9l3g1QmxdD9'>uml-connection-common</a></li>
<li class='idx_x'><a class='autolink' href='#lgLGZTmFJ4a'>uml-connector</a></li>
<li class='idx_x'><a class='autolink' href='#fV1edL1VxBr'>uml-decision-merge</a></li>
<li class='idx_x'><a class='autolink' href='#f40Gf0pqB5B'>uml-dependency</a></li>
<li class='idx_x'><a class='autolink' href='#lVoIE1VmPao'>uml-diagram</a></li>
<li class='idx_x'><a class='autolink' href='#gbfzFbCEQb7'>uml-expansion-region</a></li>
<li class='idx_x'><a class='autolink' href='#602QxE3z6rZ'>uml-flow</a></li>
<li class='idx_x'><a class='autolink' href='#8l54mEIg2yA'>uml-flow-final</a></li>
<li class='idx_x'><a class='autolink' href='#ggUX5UsfE1r'>uml-fork-join</a></li>
<li class='idx_x'><a class='autolink' href='#i8NSsns8du9'>uml-generalization</a></li>
<li class='idx_x'><a class='autolink' href='#7DqwJ3CtaoY'>uml-interface</a></li>
<li class='idx_x'><a class='autolink' href='#2b9onvk4b6x'>uml-keyword-info</a></li>
<li class='idx_x'><a class='autolink' href='#g6kEHGpHjhy'>uml-multiplicity-info</a></li>
<li class='idx_x'><a class='autolink' href='#jOvc70hxXQE'>uml-node</a></li>
<li class='idx_x'><a class='autolink' href='#jFViCKeUWqC'>uml-note</a></li>
<li class='idx_x'><a class='autolink' href='#algAxSoZB1Z'>uml-package</a></li>
<li class='idx_x'><a class='autolink' href='#axhW9kmgXg3'>uml-pin</a></li>
<li class='idx_x'><a class='autolink' href='#bn5BLn6Qb3Y'>uml-realization</a></li>
<li class='idx_x'><a class='autolink' href='#9ugZNtgVL4J'>uml-role-info</a></li>
<li class='idx_x'><a class='autolink' href='#dMpkz12xO2i'>uml-signal-receipt</a></li>
<li class='idx_x'><a class='autolink' href='#8OP0nFewEYe'>uml-signal-sending</a></li>
<li class='idx_x'><a class='autolink' href='#a7K2CBytplo'>uml-state</a></li>
<li class='idx_x'><a class='autolink' href='#4Fe1V46854v'>uml-state-begin</a></li>
<li class='idx_x'><a class='autolink' href='#6dfRecys5K7'>uml-state-end</a></li>
<li class='idx_x'><a class='autolink' href='#dZcuFEPgREn'>uml-state-history</a></li>
<li class='idx_x'><a class='autolink' href='#dkYATTKFF3X'>uml-time-event</a></li>
<li class='idx_x'><a class='autolink' href='#8h222SLEnVx'>uml-transition</a></li>
<li class='idx_x'><a class='autolink' href='#aiNf7xsL8zY'>uml-transition-spec</a></li>
<li class='idx_x'><a class='autolink' href='#44mEhv2hQcS'>uml-usecase</a></li>
<li class='idx_x'><a class='autolink' href='#klH6tZ6gdaQ'>use</a></li>
</blockquote>
</details>
<details class='idx_x' open>
<summary class='idx_x'>W</summary>
<blockquote class='idx_x'>
<li class='idx_x'><a class='autolink' href='#7WY0qIioOWV'>with-balloon-options</a></li>
<li class='idx_x'><a class='autolink' href='#kT3ITG7nfBI'>with-block-arrow-options</a></li>
<li class='idx_x'><a class='autolink' href='#avbLVTgRge8'>with-brace-options</a></li>
<li class='idx_x'><a class='autolink' href='#jHhN85RvHYn'>with-canvas</a></li>
<li class='idx_x'><a class='autolink' href='#gE4r2xg8b9U'>with-cross-options</a></li>
<li class='idx_x'><a class='autolink' href='#dpsPduib5te'>with-cube-options</a></li>
<li class='idx_x'><a class='autolink' href='#6STY3Kxzonk'>with-cylinder-options</a></li>
<li class='idx_x'><a class='autolink' href='#0axtDA7gRzz'>with-document-options</a></li>
<li class='idx_x'><a class='autolink' href='#h8PWgenmp0d'>with-explosion-options</a></li>
<li class='idx_x'><a class='autolink' href='#grfAvoJdCpJ'>with-folder-options</a></li>
<li class='idx_x'><a class='autolink' href='#0C8r7LcFb7c'>with-memo-options</a></li>
<li class='idx_x'><a class='autolink' href='#5afU9yg86c0'>with-options</a></li>
<li class='idx_x'><a class='autolink' href='#0B9bMaXVpqW'>with-person-options</a></li>
<li class='idx_x'><a class='autolink' href='#lsGULoUqoK4'>with-subcanvas</a></li>
<li class='idx_x'><a class='autolink' href='#2c8duiejnaO'>with-subcanvas-of</a></li>
<li class='idx_x'><a class='autolink' href='#2XsIFr1er3s'>with-textbox-options</a></li>
</blockquote>
</details>
<details class='idx_x' open>
<summary class='idx_x'>Others</summary>
<blockquote class='idx_x'>
<li class='idx_x'><a class='autolink' href='#4dFMjynUMYw'>ひし形</a></li>
<li class='idx_x'><a class='autolink' href='#8ya1jqc5cZQ'>アクティビティ図</a></li>
<li class='idx_x'><a class='autolink' href='#kgs1vf3AbTN'>キャンバス</a></li>
<li class='idx_x'><a class='autolink' href='#hja1QJC0Ivb'>キューブ</a></li>
<li class='idx_x'><a class='autolink' href='#khgkJB6xK95'>クラス図</a></li>
<li class='idx_x'><a class='autolink' href='#4p1J7EWjD3m'>グラデーション</a></li>
<li class='idx_x'><a class='autolink' href='#eFhVs4WwYUG'>コネクタ</a></li>
<li class='idx_x'><a class='autolink' href='#kgs1vf3AbTN'>サブキャンバス</a></li>
<li class='idx_x'><a class='autolink' href='#5ZAfKbqcubo'>ステートマシーン図</a></li>
<li class='idx_x'><a class='autolink' href='#4HFjqmTuIU6'>ストローク</a></li>
<li class='idx_x'><a class='autolink' href='#e7hkC2YUaKe'>テキストボックス</a></li>
<li class='idx_x'><a class='autolink' href='#g6xjP526KX7'>テーブル</a></li>
<li class='idx_x'><a class='autolink' href='#jRjILbbJATV'>ドキュメント</a></li>
<li class='idx_x'><a class='autolink' href='#4qgt62QVDZl'>パス</a></li>
<li class='idx_x'><a class='autolink' href='#dmYFJAv81Kl'>パターン</a></li>
<li class='idx_x'><a class='autolink' href='#la7Xa1OTF3W'>パッケージ図</a></li>
<li class='idx_x'><a class='autolink' href='#4WyMTv59pvw'>パラグラフ</a></li>
<li class='idx_x'><a class='autolink' href='#dBUd7L4C3dx'>フィル</a></li>
<li class='idx_x'><a class='autolink' href='#gPGlqSbIfdL'>フィルタ</a></li>
<li class='idx_x'><a class='autolink' href='#5ZT843xJDiq'>フォルダ</a></li>
<li class='idx_x'><a class='autolink' href='#3kZ9FkounyK'>フォント</a></li>
<li class='idx_x'><a class='autolink' href='#49KKf97828b'>ブロック矢印</a></li>
<li class='idx_x'><a class='autolink' href='#0AVJhEKnK1M'>メモ</a></li>
<li class='idx_x'><a class='autolink' href='#e57rLpXY8ah'>ユースケース図</a></li>
<li class='idx_x'><a class='autolink' href='#03WwbeGq0eH'>人物</a></li>
<li class='idx_x'><a class='autolink' href='#cp2F91gKG7W'>円弧</a></li>
<li class='idx_x'><a class='autolink' href='#5ME1Xv0K4sM'>円柱</a></li>
<li class='idx_x'><a class='autolink' href='#4cZRWkwhYNO'>十字</a></li>
<li class='idx_x'><a class='autolink' href='#5IHcv4bxjLU'>吹き出し</a></li>
<li class='idx_x'><a class='autolink' href='#kJonRG8GtHF'>四角形</a></li>
<li class='idx_x'><a class='autolink' href='#5vGRm9AMypB'>多角形</a></li>
<li class='idx_x'><a class='autolink' href='#8YR8CiywoW8'>平行四辺形</a></li>
<li class='idx_x'><a class='autolink' href='#7YzIcjhyGKN'>楕円</a></li>
<li class='idx_x'><a class='autolink' href='#8UQowBxrcaE'>正円</a></li>
<li class='idx_x'><a class='autolink' href='#lBS33hNe32a'>波括弧</a></li>
<li class='idx_x'><a class='autolink' href='#hjZ26isLw42'>爆発</a></li>
<li class='idx_x'><a class='autolink' href='#fv4OUML78x4'>直線</a></li>
</blockquote>
</details>
<hr>
<p class='footnote'><a name='footnote1' href='#footnote_ref1'>1</a> : 正式な名称が決まる前は、diagram という名前でした。kaavio は同じ意味のフィンランドの言葉だそうです。この名前にした深い理由はなく、単純にネット検索で埋もれてしまわない名前にしたかっただけです。</p>
<p class='footnote'><a name='footnote2' href='#footnote_ref2'>2</a> : SVG は Scalable Vector Graphics の略です。</p>
<p class='footnote'><a name='footnote3' href='#footnote_ref3'>3</a> : もともと LISPer だという方で DSL の詳細を知りたい方は、申し訳ありませんがコードを直接参照してください。</p>
<p class='footnote'><a name='footnote4' href='#footnote_ref4'>4</a> : Lisper の方へ：要するにキーワードパラメータです。</p>
<p class='footnote'><a name='footnote5' href='#footnote_ref5'>5</a> : 不格好に見えるかもしれませんが、Microsoft Word の図形要素をトレースして作っています。そこそこの再現度のはず。</p>
<p class='footnote'><a name='footnote6' href='#footnote_ref6'>6</a> : Lisper の方へ：ご想像通り、 <code>(list x y)</code> でも問題無いですし、バッククォートを使ってもかまいません。</p>
<p class='footnote'><a name='footnote7' href='#footnote_ref7'>7</a> : この他に <code>width, height</code> があって、その図形要素の幅と高さを取得することもできますが、あまり使用しません。</p>
<p class='footnote'><a name='footnote8' href='#footnote_ref8'>8</a> : Lisper の方へ： <code>app.center</code> という記法は動的に生成する symbol-macrolet によって、また <code>(attr :app :center)</code> については macrolet によって実現しています。attr は局所関数を使って同じ<a class='autolink' href='#dmYFJAv81Kl'>パターン</a>の繰り返しを共通化する場合などに便利でしょう。</p>
<p class='footnote'><a name='footnote9' href='#footnote_ref9'>9</a> : 現状では、<a class='autolink' href='#kgs1vf3AbTN'>サブキャンバス</a>の描画では幅と高さによって作成される矩形で内部要素の描画をクリッピングしません。つまり、実質的には<a class='autolink' href='#kgs1vf3AbTN'>サブキャンバス</a>は原点をズラす効果しかありません。ただし、このクリッピングしないという挙動は将来変更される可能性があります。</p>
<p class='footnote'><a name='footnote10' href='#footnote_ref10'>10</a> : これはあまり使わない方が良いテクニックかもしれません。図形要素別の「デフォルト設定」とは無関係に動作するので、慣れないと混乱するかもしれないからです。</p>
<p class='footnote'><a name='footnote11' href='#footnote_ref11'>11</a> : Lisper の方へ。<a class='autolink' href='#5afU9yg86c0'>with-options</a> マクロは <code>*default-stroke*</code> や <code>*default-fill*</code> といったスペシャル変数を束縛するものです。非 Lisper のユーザーへの説明をわかりやすくする上でこの方法をとっています。</p>
<p class='footnote'><a name='footnote12' href='#footnote_ref12'>12</a> : これはあまり使わない方が良いテクニックかもしれません。図形要素別の「デフォルト設定」とは無関係に動作するので、慣れないと混乱するかもしれないからです。</p>
<p class='footnote'><a name='footnote13' href='#footnote_ref13'>13</a> : 正確には <code>:size 12 :fill :black :width-spice 0.65 :line-spacing 2</code> です。</p>
<p class='footnote'><a name='footnote14' href='#footnote_ref14'>14</a> : SVG 規格には <code>textLength</code> 属性というものがあって、指定されたスペースにテキストを収めることができるそうです。これを今後導入するかもしれません。しかし、重箱の隅っこ的な機能は SVG レンダリングエンジン（多くの場合はブラウザのことですが）がサポートしていない可能性があるので、今後の検討次第です。</p>
<p class='footnote'><a name='footnote15' href='#footnote_ref15'>15</a> : Lisper の方へ：要するに <code>gensym</code> を使っています。</p>
<p class='footnote'><a name='footnote16' href='#footnote_ref16'>16</a> : SVG 2 の規格において色名に関する節は削除され、CSS 規格を参照することになりました。</p>
<p class='footnote'><a name='footnote17' href='#footnote_ref17'>17</a> : <a href='#6tYSz371NWb'>Figure.12-2</a> に記載されているのは、Emacs エディタで定義されている色名のうち、規格に含まれないものの一覧です。このうち、green(#00FF00), grey(#BEBEBE), maroon(#B03060), purple(#A020F0) については規格側にも同じ名前があるものの異なる値です。これらは「規格優先」としているため、たとえば <code>:green</code> を指定した場合は規格の #008000 が使用され、#00FF00 は使用されません。</p>
</body>
</html>
